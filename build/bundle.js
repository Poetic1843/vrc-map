var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(n)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let r;function a(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function c(t,e,n){return t.set(n),e}const u="undefined"!=typeof window;let d=u?()=>window.performance.now():()=>Date.now(),f=u?t=>requestAnimationFrame(t):t;const h=new Set;function g(t){h.forEach((e=>{e.c(t)||(h.delete(e),e.f())})),0!==h.size&&f(g)}function p(t,e){t.appendChild(e)}function m(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function v(t){const e=w("style");return function(t,e){p(t.head||t,e)}(m(t),e),e.sheet}function y(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function b(){return x(" ")}function S(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function E(t,e){t.value=null==e?"":e}const I=new Map;let P,_=0;function M(t,e,n,o,i,l,s,r=0){const a=16.666/o;let c="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*l(t);c+=100*t+`%{${s(o,1-o)}}\n`}const u=c+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${r}`,f=m(t),{stylesheet:h,rules:g}=I.get(f)||function(t,e){const n={stylesheet:v(e),rules:{}};return I.set(t,n),n}(f,t);g[d]||(g[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${d} ${o}ms linear ${i}ms 1 both`,_+=1,d}function N(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-o.length;i&&(t.style.animation=o.join(", "),_-=i,_||f((()=>{_||(I.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),I.clear())})))}function K(t){P=t}function W(){if(!P)throw new Error("Function called outside component initialization");return P}function j(t){W().$$.on_mount.push(t)}function A(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const R=[],U=[],C=[],F=[],L=Promise.resolve();let q=!1;function D(){q||(q=!0,L.then(Y))}function z(t){C.push(t)}function G(t){F.push(t)}const O=new Set;let B,H=0;function Y(){const t=P;do{for(;H<R.length;){const t=R[H];H++,K(t),Z(t.$$)}for(K(null),R.length=0,H=0;U.length;)U.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];O.has(e)||(O.add(e),e())}C.length=0}while(R.length);for(;F.length;)F.pop()();q=!1,O.clear(),K(t)}function Z(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}function J(t,e,n){t.dispatchEvent(function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(`${e?"intro":"outro"}${n}`))}const Q=new Set;let V;function X(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function tt(t,e,n,o){if(t&&t.o){if(Q.has(t))return;Q.add(t),V.c.push((()=>{Q.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const et={duration:0};function nt(n,o,s,r){let a=o(n,s),c=r?0:1,u=null,p=null,m=null;function v(){m&&N(n,m)}function y(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function $(o){const{delay:l=0,duration:s=300,easing:r=e,tick:$=t,css:w}=a||et,x={start:d()+l,b:o};o||(x.group=V,V.r+=1),u||p?p=x:(w&&(v(),m=M(n,c,o,s,l,r,w)),o&&$(0,1),u=y(x,s),z((()=>J(n,o,"start"))),function(t){let e;0===h.size&&f(g),new Promise((n=>{h.add(e={c:t,f:n})}))}((t=>{if(p&&t>p.start&&(u=y(p,s),p=null,J(n,u.b,"start"),w&&(v(),m=M(n,c,u.b,u.duration,0,r,a.css))),u)if(t>=u.end)$(c=u.b,1-c),J(n,u.b,"end"),p||(u.b?v():--u.group.r||i(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;c=u.a+u.d*r(e/u.duration),$(c,1-c)}return!(!u&&!p)})))}return{run(t){l(a)?(B||(B=Promise.resolve(),B.then((()=>{B=null}))),B).then((()=>{a=a(),$(t)})):$(t)},end(){v(),u=p=null}}}function ot(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function it(t){t&&t.c()}function lt(t,e,o,s){const{fragment:r,on_mount:a,on_destroy:c,after_update:u}=t.$$;r&&r.m(e,o),s||z((()=>{const e=a.map(n).filter(l);c?c.push(...e):i(e),t.$$.on_mount=[]})),u.forEach(z)}function st(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rt(e,n,l,s,r,a,c,u=[-1]){const d=P;K(e);const f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:r,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let h=!1;if(f.ctx=l?l(e,n.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return f.ctx&&r(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),h&&function(t,e){-1===t.$$.dirty[0]&&(R.push(t),D(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),h=!0,i(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach($)}else f.fragment&&f.fragment.c();n.intro&&X(e.$$.fragment),lt(e,n.target,n.anchor,n.customElement),Y()}K(d)}class at{$destroy(){st(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ct(e){let n,o,l,s,r,a,c,u,d,f;return{c(){n=w("span"),o=x(e[1]),l=x(":"),s=b(),r=w("label"),a=w("input"),c=b(),u=w("span"),k(a,"type","checkbox"),k(a,"class","svelte-cntqh6"),k(u,"class","slider svelte-cntqh6"),k(r,"class","svelte-cntqh6")},m(t,i){y(t,n,i),p(n,o),p(n,l),y(t,s,i),y(t,r,i),p(r,a),e[5](a),a.checked=e[0],p(r,c),p(r,u),d||(f=[S(a,"click",e[4]),S(a,"change",e[6])],d=!0)},p(t,[e]){2&e&&T(o,t[1]),1&e&&(a.checked=t[0])},i:t,o:t,d(t){t&&$(n),t&&$(s),t&&$(r),e[5](null),d=!1,i(f)}}}function ut(t,e,n){let o,{label:i}=e,{value:l=!1}=e;return t.$$set=t=>{"label"in t&&n(1,i=t.label),"value"in t&&n(0,l=t.value)},[l,i,o,function(){o.click()},function(e){A.call(this,t,e)},function(t){U[t?"unshift":"push"]((()=>{o=t,n(2,o)}))},function(){l=this.checked,n(0,l)}]}class dt extends at{constructor(t){super(),rt(this,t,ut,ct,s,{label:1,value:0,click:3})}get click(){return this.$$.ctx[3]}}const ft=[];function ht(e,n=t){let o;const i=new Set;function l(t){if(s(e,t)&&(e=t,o)){const t=!ft.length;for(const t of i)t[1](),ft.push(t,e);if(t){for(let t=0;t<ft.length;t+=2)ft[t][0](ft[t+1]);ft.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,r=t){const a=[s,r];return i.add(a),1===i.size&&(o=n(l)||t),s(e),()=>{i.delete(a),0===i.size&&(o(),o=null)}}}}const gt=ht(!1),pt=ht(!1);function mt(t){const e=t-1;return e*e*e+1}function vt(t,{delay:e=0,duration:n=400,easing:o=mt,x:i=0,y:l=0,opacity:s=0}={}){const r=getComputedStyle(t),a=+r.opacity,c="none"===r.transform?"":r.transform,u=a*(1-s);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*i}px, ${(1-t)*l}px);\n\t\t\topacity: ${a-u*e}`}}function yt(t){let e,n,o,i,l,s,r,a,c,u,d;function f(e){t[9](e)}let h={label:"Skills Mode"};function g(e){t[11](e)}void 0!==t[4]&&(h.value=t[4]),n=new dt({props:h}),t[8](n),U.push((()=>ot(n,"value",f))),n.$on("click",t[5]);let m={label:"Imperial Mode"};return void 0!==t[3]&&(m.value=t[3]),a=new dt({props:m}),t[10](a),U.push((()=>ot(a,"value",g))),a.$on("click",t[6]),{c(){e=w("div"),it(n.$$.fragment),i=b(),l=w("br"),s=w("br"),r=b(),it(a.$$.fragment),k(e,"class","settings-wrapper svelte-i2vg06")},m(t,o){y(t,e,o),lt(n,e,null),p(e,i),p(e,l),p(e,s),p(e,r),lt(a,e,null),d=!0},p(t,e){const i={};!o&&16&e&&(o=!0,i.value=t[4],G((()=>o=!1))),n.$set(i);const l={};!c&&8&e&&(c=!0,l.value=t[3],G((()=>c=!1))),a.$set(l)},i(t){d||(X(n.$$.fragment,t),X(a.$$.fragment,t),z((()=>{u||(u=nt(e,vt,{y:20,duration:200},!0)),u.run(1)})),d=!0)},o(t){tt(n.$$.fragment,t),tt(a.$$.fragment,t),u||(u=nt(e,vt,{y:20,duration:200},!1)),u.run(0),d=!1},d(o){o&&$(e),t[8](null),st(n),t[10](null),st(a),o&&u&&u.end()}}}function $t(t){let e,n,o,l,s,a,c,u,d,f=t[2]&&yt(t);return{c(){var t,i;e=w("div"),n=w("img"),l=b(),s=w("input"),a=b(),f&&f.c(),t=n.src,i=o="./media/GrayGearIcon.png",r||(r=document.createElement("a")),r.href=i,t!==r.href&&k(n,"src","./media/GrayGearIcon.png"),k(n,"alt","Toggle Settings"),k(n,"class","svelte-i2vg06"),k(s,"class","settings-button svelte-i2vg06"),k(s,"type","checkbox"),k(e,"class","settings-panel svelte-i2vg06")},m(o,i){y(o,e,i),p(e,n),p(e,l),p(e,s),s.checked=t[2],p(e,a),f&&f.m(e,null),c=!0,u||(d=S(s,"change",t[7]),u=!0)},p(t,[n]){4&n&&(s.checked=t[2]),t[2]?f?(f.p(t,n),4&n&&X(f,1)):(f=yt(t),f.c(),X(f,1),f.m(e,null)):f&&(V={r:0,c:[],p:V},tt(f,1,1,(()=>{f=null})),V.r||i(V.c),V=V.p)},i(t){c||(X(f),c=!0)},o(t){tt(f),c=!1},d(t){t&&$(e),f&&f.d(),u=!1,d()}}}function wt(t,e,n){let o,i,l,s;a(t,pt,(t=>n(3,o=t))),a(t,gt,(t=>n(4,i=t)));let r=!1;const u=()=>{c(gt,i=!i,i),f()},d=()=>{c(pt,o=!o,o),f()};function f(){localStorage.setItem("settings",`skills=${i}/imperial=${o}`)}return j((()=>{localStorage.getItem("settings")||f(),function(){const t=/skills=((?:false)|(?:true))\/imperial=((?:false)|(?:true))/,e=localStorage.getItem("settings");t.test(e)||f();const n=t.exec(e);new Boolean(n[1])&&u(),new Boolean(n[2])&&d()}()})),[l,s,r,o,i,u,d,function(){r=this.checked,n(2,r)},function(t){U[t?"unshift":"push"]((()=>{l=t,n(0,l)}))},function(t){i=t,gt.set(i)},function(t){U[t?"unshift":"push"]((()=>{s=t,n(1,s)}))},function(t){o=t,pt.set(o)}]}class xt extends at{constructor(t){super(),rt(this,t,wt,$t,s,{})}}function bt(e){let n,o,i,l;return{c(){n=w("button"),o=x(e[0]),k(n,"class","svelte-miff50")},m(t,s){y(t,n,s),p(n,o),i||(l=S(n,"click",e[1]),i=!0)},p(t,[e]){1&e&&T(o,t[0])},i:t,o:t,d(t){t&&$(n),i=!1,l()}}}function St(t,e,n){let{label:o}=e;return t.$$set=t=>{"label"in t&&n(0,o=t.label)},[o,function(e){A.call(this,t,e)}]}class kt extends at{constructor(t){super(),rt(this,t,St,bt,s,{label:0})}}const Tt=713.74;class Et{constructor(t,e,n,o=1){this.toUnfinished=()=>new Et(this.r+40,this.g+40,this.b+40,this.a),this.toTransparent=()=>new Et(this.r,this.g,this.b,.1),this.toString=()=>`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`,this.r=t,this.g=e,this.b=n,this.a=o}}const It=new Et(255,255,0),Pt=new Et(255,0,0),_t=new Et(0,0,255),Mt=new Et(255,0,255),Nt="rgba(155, 155, 155, 0.5)";function Kt(t,e,n,o,i,l){l.beginPath(),l.arc(t,e,n,0,2*Math.PI,!1),l.fillStyle=o,o&&l.fill(),l.lineWidth=5,l.strokeStyle=i,i&&l.stroke(),l.closePath()}function Wt(t,e,n,o){o.lineWidth=1,Kt(t,e,13,null,n,o),Kt(t,e,5,n,null,o)}function jt(t,e,n,o){const i=Tt/3,l=Tt/6;o.strokeStyle=n,o.lineCap="butt",o.lineWidth=10,o.beginPath(),o.moveTo(t+l/10,e+i/8),o.lineTo(t+l-l/10,e+i/8),o.lineTo(t+l-l/10,e+i/8*7),o.lineTo(t+l/10,e+i/8*7),o.lineTo(t+l/10,e+i/8-5),o.stroke(),o.closePath(),o.fillStyle="rgba(255, 255, 255, 0.12)",o.fillRect(t,e,l,i),o.strokeStyle="rgb(0, 0, 0)",o.lineWidth=2,o.beginPath(),o.moveTo(t+l+1,e),o.lineTo(t+l+1,e+i),o.moveTo(t-1,e),o.lineTo(t-1,e+i),o.stroke(),o.closePath()}var At,Rt;let Ut=!1;gt.subscribe((t=>Ut=t));class Ct{constructor(t,e,n,o){this.x=t,this.y=e,this.rotation=n,this.variation=o}moveTo(t,e){this.x=t,this.y=e}rotateTo(t){this.rotation=t}render(t){throw new Error("Unimplemented")}pointInside(t,e){throw new Error("Unimplemented")}encode(){throw new Error("Unimplemented")}static decode(t){throw new Error("Unimplemented")}static isEncode(t){throw new Error("Unimplemented")}}class Ft extends Ct{constructor(){super(...arguments),this.pointInside=(t,e)=>(t-this.x)**2+(e-this.y)**2<=25.94**2}render(t){if(Ut)switch(this.variation){case 0:t.fillStyle=It.toString();break;case 1:t.fillStyle=_t.toString();break;case 2:t.fillStyle=Pt.toString()}else switch(this.variation){case 0:t.fillStyle=It.toString();break;case 1:t.fillStyle=Pt.toString();break;case 2:t.fillStyle=_t.toString()}let e=this.rotation+14;t.strokeStyle="rgb(50, 50, 50)",t.lineWidth=3,function(t,e,n,o,i,l){const s=2*Math.PI/o,r=Math.PI+i/360*(2*Math.PI);l.beginPath();for(let i=0;i<=o;i++){const o=i*s+r;l.lineTo(t+n*Math.cos(o),e+n*Math.sin(o))}l.fill(),l.stroke(),l.closePath()}(this.x,this.y,25.94,7,e,t)}encode(){return`mogo-${this.x.toFixed(2)}-${this.y.toFixed(2)}-${this.rotation.toFixed(0)}-${this.variation}`}static decode(t){const e=this.regex.exec(t).groups;return new Ft(+e.x,+e.y,+e.rotation,+e.variation)}}At=Ft,Ft.regex=/mogo-(?<x>(?:\d|\.)+)-(?<y>(?:\d|\.)+)-(?<rotation>(?:\d|\.)+)-(?<variation>\d)/,Ft.isEncode=t=>At.regex.test(t);class Lt extends Ct{constructor(t,e){super(t,e,0,0),this.pointInside=(t,e)=>(t-this.x)**2+(e-this.y)**2<=196}render(t){t.lineWidth=2,Kt(this.x,this.y,6,"rgba(0, 0, 0, 0)",Mt.toString(),t)}encode(){return`ring-${this.x.toFixed(2)}-${this.y.toFixed(2)}`}static decode(t){const e=this.regex.exec(t).groups;return new Lt(+e.x,+e.y)}}Rt=Lt,Lt.regex=/ring-(?<x>(?:\d|\.)+)-(?<y>(?:\d|\.)+)/,Lt.isEncode=t=>Rt.regex.test(t);const qt=713.74,Dt=ht(new Array),zt=ht([new Ft(356.87,178.435,180,0),new Ft(356.87,356.87,0,0),new Ft(356.87,178.435*3,0,0),new Ft(178.435,qt/12*11,270,1),new Ft(qt/12*1,qt/6*2,0,1),new Ft(535.305,qt/12*1,90,2),new Ft(qt/12*11,qt/3*2,180,2),new Lt(356.87,29.708333333333332),new Lt(356.87,59.416666666666664),new Lt(356.87,89.125),new Lt(356.87,qt/6),new Lt(386.2083333333333,qt/6),new Lt(415.91666666666663,qt/6),new Lt(445.625,qt/6),new Lt(475.3333333333333,qt/6),new Lt(356.87,237.66666666666666),new Lt(356.87,267.375),new Lt(356.87,297.0833333333333),new Lt(356.87,475.3333333333333),new Lt(356.87,445.625),new Lt(356.87,445.625),new Lt(356.87,415.91666666666663),new Lt(356.87,594.1666666666666),new Lt(356.87,623.875),new Lt(356.87,653.5833333333333),new Lt(356.87,683.2916666666666),new Lt(326.79166666666663,594.1666666666666),new Lt(297.0833333333333,594.1666666666666),new Lt(267.375,594.1666666666666),new Lt(237.66666666666666,594.1666666666666),new Lt(475.3333333333333,356.87),new Lt(490.1875,356.87),new Lt(475.3333333333333,341.6458333333333),new Lt(460.47916666666663,356.87),new Lt(475.3333333333333,371.35416666666663),new Lt(475.3333333333333,475.3333333333333),new Lt(490.1875,475.3333333333333),new Lt(475.3333333333333,460.47916666666663),new Lt(460.47916666666663,475.3333333333333),new Lt(475.3333333333333,490.1875),new Lt(237.66666666666666,356.87),new Lt(252.52083333333331,356.87),new Lt(222.8125,356.87),new Lt(237.66666666666666,341.6458333333333),new Lt(237.66666666666666,371.35416666666663),new Lt(237.66666666666666,237.66666666666666),new Lt(237.66666666666666,222.8125),new Lt(252.52083333333331,237.66666666666666),new Lt(237.66666666666666,252.52083333333331),new Lt(222.8125,237.66666666666666)]);function Gt(t,e,n){var o;t=`slot-${t}`;let i="";e.forEach((t=>{i+=t.x.toFixed(2)+"-",i+=t.y.toFixed(2)+"-",i+=t.step.toFixed(0),i+="/"})),i+="|",n.forEach((t=>{i+=t.encode()+"/"})),window.localStorage.setItem(t,i);const l=null===(o=localStorage.getItem("all-slots-list"))||void 0===o?void 0:o.split("|");l?l.includes(t)||(l.push(t),localStorage.setItem("all-slots-list",l.join("|"))):localStorage.setItem("all-slots-list",t)}async function Ot(t){localStorage.getItem("all-slots-list")||localStorage.setItem("all-slots-list","slot-slot1");const e=window.localStorage.getItem(`slot-${t}`);let n=null==e?void 0:e.split("|");const o=new Array,i=new Array;null==e&&(n="|mogo-356.50-178.25-180-0/mogo-356.50-356.50-0-0/mogo-356.50-534.75-0-0/mogo-178.25-653.58-270-1/mogo-59.42-237.67-0-1/mogo-534.75-59.42-90-2/mogo-653.58-475.33-180-2/ring-356.50-29.71/ring-356.50-59.42/ring-356.50-89.13/ring-356.50-118.83/ring-386.21-118.83/ring-415.92-118.83/ring-445.63-118.83/ring-475.33-118.83/ring-356.50-237.67/ring-356.50-267.38/ring-356.50-297.08/ring-356.50-475.33/ring-356.50-445.63/ring-356.50-445.63/ring-356.50-415.92/ring-356.50-594.17/ring-356.50-623.88/ring-356.50-653.58/ring-356.50-683.29/ring-326.79-594.17/ring-297.08-594.17/ring-267.38-594.17/ring-237.67-594.17/ring-475.33-356.50/ring-490.19-356.50/ring-475.33-341.65/ring-460.48-356.50/ring-475.33-371.35/ring-475.33-475.33/ring-490.19-475.33/ring-475.33-460.48/ring-460.48-475.33/ring-475.33-490.19/ring-237.67-356.50/ring-252.52-356.50/ring-222.81-356.50/ring-237.67-341.65/ring-237.67-371.35/ring-237.67-237.67/ring-237.67-222.81/ring-252.52-237.67/ring-237.67-252.52/ring-222.81-237.67/".split("|"));let l=n[0].split("/"),s=n[1].split("/");""==l[l.length-1]&&l.pop(),""==s[s.length-1]&&s.pop(),l.forEach((t=>{let e=t.split("-"),n=+e[0],i=+e[1],l=+e[2];isNaN(n)||isNaN(i)||o.push({x:n,y:i,step:l})})),s.forEach((t=>{if(!t)return;let e;Lt.isEncode(t)&&(e=Lt.decode(t)),Ft.isEncode(t)&&(e=Ft.decode(t)),e&&i.push(e)})),Dt.set(o),zt.set(i)}let Bt=ht("slot1");function Ht(e){let n;return{c(){n=w("canvas"),k(n,"width","863.74"),k(n,"height","713.74"),k(n,"tabindex","0"),k(n,"class","svelte-pj4gtz")},m(t,o){y(t,n,o),e[1](n)},p:t,i:t,o:t,d(t){t&&$(n),e[1](null)}}}function Yt(t,e,n){let o,i,l,s,r;return a(t,Bt,(t=>n(2,o=t))),a(t,Dt,(t=>n(3,i=t))),a(t,pt,(t=>n(4,l=t))),a(t,zt,(t=>n(5,s=t))),j((()=>{const t=713.74,e=[new Et(210,10,10),new Et(210,110,10),new Et(210,210,10),new Et(10,210,10),new Et(10,210,110),new Et(10,210,210),new Et(10,110,210),new Et(10,10,210),new Et(110,10,210),new Et(210,10,210),new Et(210,10,110)];const n=document.getElementById("slots-list");r.focus();const a=t/48,u=r.getContext("2d");let d=new Array,f={array:"none",index:NaN},h=0,g=0,p=!1,m=0,v=0,y=!1,$=!1,w=!1,x=0;r.addEventListener("mousedown",(t=>{0==t.button&&(p=!0)})),r.addEventListener("mouseup",(e=>{0==e.button&&(p=!1,$||(i.push({x:m,y:v,step:x}),d=[]),"gameobjects"==f.array&&m>t&&v<=160&&s.splice(f.index,1),"points"==f.array&&m>t&&v<=160&&i.splice(f.index,1),i.length>0&&i[i.length-1].x>t&&i[i.length-1].y<=160&&i.splice(i.length-1,1),f={array:"none",index:NaN}),Gt(o,i,s)})),r.addEventListener("contextmenu",(e=>{e.preventDefault(),m<t&&s.push(new Lt(m,v)),Gt(o,i,s)})),r.addEventListener("mousemove",(e=>{const n=(e.x-r.offsetLeft)/r.clientWidth*r.width,o=(e.y-r.offsetTop)/r.clientHeight*r.height;switch(m=e.ctrlKey?n:e.altKey?h%a:0+Math.round((n-(e.altKey?h%a:0))/a)*a,v=e.ctrlKey?o:e.altKey?g%a:0+Math.round((o-(e.altKey?g%a:0))/a)*a,m=m<=t||v<160?m:Math.min(m,t),e.shiftKey&&p&&"none"==f.array?(s.forEach(((t,e)=>{t.pointInside(n,o)&&(f={array:"gameobjects",index:e})})),i.forEach(((t,e)=>{(n-t.x)**2+(o-t.y)**2<=256&&(f={array:"points",index:e})}))):e.shiftKey||(f={array:"none",index:NaN}),f.array){case"gameobjects":c(zt,s[f.index].x=m,s),c(zt,s[f.index].y=v,s);break;case"points":c(Dt,i[f.index].x=m,i),c(Dt,i[f.index].y=v,i)}})),r.addEventListener("keydown",(t=>{if(t.ctrlKey&&"KeyZ"==t.code){const t=i.pop();t&&d.push(t)}if(t.ctrlKey&&"KeyY"==t.code){const t=d.pop();t&&i.push(t)}y=t.ctrlKey,$=t.shiftKey,w=t.altKey,/\d/.test(t.key)&&0!=+t.key?x=+t.key-1:0==+t.key&&(x=10),(y||$||w)&&t.preventDefault()})),r.addEventListener("keyup",(t=>{y=t.ctrlKey,$=t.shiftKey,w=t.altKey})),Ot(o),async function o(){var r,c,d,b,S,k,T,E,I,P,_,M,N,K,W,j,A,R,U,C,F,q,z,G,O;if(h=null!==(c=null===(r=i[i.length-1])||void 0===r?void 0:r.x)&&void 0!==c?c:0,g=null!==(b=null===(d=i[i.length-1])||void 0===d?void 0:d.y)&&void 0!==b?b:0,u.fillStyle="rgb(255, 50, 50)",u.fillRect(t,0,150,150),u.fillStyle="rgb(50, 50, 50)",u.fillRect(t,150,150,563.74),function(t,e,n){n.strokeStyle="rgb(255, 255, 255)",n.lineCap="round",n.lineWidth=5,n.beginPath(),n.moveTo(t+37.5,e+37.5),n.lineTo(t+112.5,e+37.5),n.moveTo(t+50,e+37.5),n.lineTo(t+50,e+112.5),n.moveTo(t+62.5,e+37.5),n.lineTo(t+62.5,e+112.5),n.moveTo(t+75,e+37.5),n.lineTo(t+75,e+112.5),n.moveTo(t+87.5,e+37.5),n.lineTo(t+87.5,e+112.5),n.moveTo(t+100,e+37.5),n.lineTo(t+100,e+112.5),n.moveTo(t+50,e+112.5),n.lineTo(t+100,e+112.5),n.moveTo(t+62.5,e+37.5),n.lineTo(t+62.5,e+37.5-10),n.lineTo(t+87.5,e+37.5-10),n.lineTo(t+87.5,e+37.5),n.stroke(),n.closePath()}(t,0,u),function(t){t.fillStyle="rgb(125, 125, 125)",t.lineWidth=5,t.fillRect(0,0,Tt,Tt);let e=Tt/6;t.lineWidth=3,t.strokeStyle=Nt,t.beginPath();for(let n=0;n<6;n++)t.moveTo(e*n,0),t.lineTo(e*n,Tt);for(let n=0;n<6;n++)t.moveTo(0,e*n),t.lineTo(Tt,e*n);t.stroke(),t.strokeStyle="rgb(255, 255, 255)",t.beginPath(),t.moveTo(Tt/3,0),t.lineTo(Tt/3,Tt),t.moveTo(354.87,0),t.lineTo(354.87,Tt),t.moveTo(358.87,0),t.lineTo(358.87,Tt),t.moveTo(Tt/3*2,0),t.lineTo(Tt/3*2,Tt),t.moveTo(Tt/6*4,Tt/6),t.lineTo(Tt/6*5,0),t.moveTo(Tt/6*2,Tt/6*5),t.lineTo(Tt/6*1,Tt),t.stroke(),t.closePath(),jt(0,Tt/6*2,Pt.toString(),t),jt(Tt/6*5,Tt/6*2,_t.toString(),t)}(u),s.forEach((t=>t.render(u))),!y){u.lineWidth=1,u.strokeStyle=Nt.toString(),u.beginPath();for(let e=0;e<48;e++)u.moveTo(a*e+(w?h%a:0),0),u.lineTo(a*e+(w?h%a:0),t);for(let e=0;e<48;e++)u.moveTo(0,a*e+(w?g%a:0)),u.lineTo(t,a*e+(w?g%a:0));u.stroke(),u.closePath()}for(let t=0;t<i.length;t++){f.index==t&&"points"==f.array?Wt(i[t].x,i[t].y,e[i[t].step].toUnfinished().toString(),u):Wt(i[t].x,i[t].y,e[i[t].step].toString(),u),u.strokeStyle=f.index!=t&&f.index+1!=t||"points"!=f.array?e[i[t].step].toString():e[i[t].step].toUnfinished().toString(),u.lineWidth=3,u.beginPath(),u.moveTo(null!==(k=null===(S=i[t-1])||void 0===S?void 0:S.x)&&void 0!==k?k:i[t].x,null!==(E=null===(T=i[t-1])||void 0===T?void 0:T.y)&&void 0!==E?E:i[t].y),u.lineTo(i[t].x,i[t].y),u.stroke(),u.closePath();let n=180*Math.atan2(i[t].y-(null===(I=i[t+1])||void 0===I?void 0:I.y),i[t].x-(null===(P=i[t+1])||void 0===P?void 0:P.x))/Math.PI-180*Math.atan2((null===(_=i[t-1])||void 0===_?void 0:_.y)-(null===(M=i[t])||void 0===M?void 0:M.y),(null===(N=i[t-1])||void 0===N?void 0:N.x)-i[t].x)/Math.PI;0==t&&(n=180*Math.atan2(i[0].y-(null===(K=i[1])||void 0===K?void 0:K.y),i[0].x-(null===(W=i[1])||void 0===W?void 0:W.x))/Math.PI),isNaN(n)||u.fillText(`${Math.round(n)}°`,i[t].x+20,i[t].y+20),u.fillStyle=f.index!=t&&f.index-1!=t||"points"!=f.array?e[null!==(U=null===(R=i[t+1])||void 0===R?void 0:R.step)&&void 0!==U?U:i[t].step].toString():e[null!==(A=null===(j=i[t+1])||void 0===j?void 0:j.step)&&void 0!==A?A:i[t].step].toUnfinished().toString();const o=Math.sqrt((i[t].x-(null===(C=i[t+1])||void 0===C?void 0:C.x))**2+(i[t].y-(null===(F=i[t+1])||void 0===F?void 0:F.y))**2)/2;isNaN(o)||u.fillText(`${Math.round(100*(l?(O=o,.393701*O):o))/100}${l?"in":"cm"}`,i[t].x-(i[t].x-(null===(q=i[t+1])||void 0===q?void 0:q.x))/2,i[t].y-(i[t].y-(null===(z=i[t+1])||void 0===z?void 0:z.y))/2-20)}p&&!$&&"none"==f.array&&(u.lineWidth=3,u.strokeStyle=e[x].toUnfinished().toString(),u.beginPath(),0==i.length?u.moveTo(m,v):u.moveTo(h,g),u.lineTo(m,v),u.stroke(),u.closePath(),Wt(m,v,e[x].toUnfinished().toString(),u));const B=null===(G=localStorage.getItem("all-slots-list"))||void 0===G?void 0:G.split("|").map((t=>t.substring(5)));B&&(n.textContent="Save Slots: "+B.join(", ")),await(D(),L),setTimeout(o,0)}()})),[r,function(t){U[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class Zt extends at{constructor(t){super(),rt(this,t,Yt,Ht,s,{})}}function Jt(e){let n,o,l;return{c(){n=w("input"),k(n,"class","svelte-14eqe3k")},m(t,i){y(t,n,i),E(n,e[0]),o||(l=[S(n,"input",e[2]),S(n,"input",e[1])],o=!0)},p(t,[e]){1&e&&n.value!==t[0]&&E(n,t[0])},i:t,o:t,d(t){t&&$(n),o=!1,i(l)}}}function Qt(t,e,n){let{value:o}=e;return t.$$set=t=>{"value"in t&&n(0,o=t.value)},[o,function(e){A.call(this,t,e)},function(){o=this.value,n(0,o)}]}class Vt extends at{constructor(t){super(),rt(this,t,Qt,Jt,s,{value:0})}}function Xt(t){let e,n,o,i,l,s,r,a,c,u,d,f,h,g,m,v,x,S;function T(e){t[3](e)}s=new kt({props:{label:"Delete Save"}}),s.$on("click",t[1]),a=new kt({props:{label:"Delete All Saves"}}),a.$on("click",t[2]);let E={};return void 0!==t[0]&&(E.value=t[0]),u=new Vt({props:E}),U.push((()=>ot(u,"value",T))),m=new Zt({}),x=new xt({}),{c(){e=w("div"),e.innerHTML='<a href="https://github.com/iseau395/vrc-map" target="_blank" rel="noopener noreferrer" class="svelte-s290ti">Github Repository</a>',n=b(),o=w("div"),i=w("div"),l=w("form"),it(s.$$.fragment),r=b(),it(a.$$.fragment),c=b(),it(u.$$.fragment),f=b(),h=w("p"),g=b(),it(m.$$.fragment),v=b(),it(x.$$.fragment),k(e,"class","left-panel svelte-s290ti"),k(h,"id","slots-list"),k(o,"class","map-panel svelte-s290ti")},m(t,d){y(t,e,d),y(t,n,d),y(t,o,d),p(o,i),p(i,l),lt(s,l,null),p(l,r),lt(a,l,null),p(l,c),lt(u,l,null),p(i,f),p(i,h),p(i,g),lt(m,i,null),y(t,v,d),lt(x,t,d),S=!0},p(t,[e]){const n={};!d&&1&e&&(d=!0,n.value=t[0],G((()=>d=!1))),u.$set(n)},i(t){S||(X(s.$$.fragment,t),X(a.$$.fragment,t),X(u.$$.fragment,t),X(m.$$.fragment,t),X(x.$$.fragment,t),S=!0)},o(t){tt(s.$$.fragment,t),tt(a.$$.fragment,t),tt(u.$$.fragment,t),tt(m.$$.fragment,t),tt(x.$$.fragment,t),S=!1},d(t){t&&$(e),t&&$(n),t&&$(o),st(s),st(a),st(u),st(m),t&&$(v),st(x,t)}}}function te(t,e,n){let o,i,l;a(t,Bt,(t=>n(0,o=t))),a(t,zt,(t=>n(5,i=t))),a(t,Dt,(t=>n(6,l=t)));let s=o;const r=Bt.subscribe((()=>{var t,e;(null!==(e=null===(t=localStorage.getItem("all-slots-list"))||void 0===t?void 0:t.split("|"))&&void 0!==e?e:[]).includes(s)&&Gt(s,l,i),s=o,Ot(o)}));var u;return u=()=>r(),W().$$.on_destroy.push(u),[o,function(){var t,e;localStorage.removeItem(`slot-${o}`);const n=null===(t=localStorage.getItem("all-slots-list"))||void 0===t?void 0:t.split("|");n&&localStorage.setItem("all-slots-list",n.filter((t=>t!=`slot-${o}`)).join("|")),c(Bt,o=null!==(e=n[0])&&void 0!==e?e:"slot1",o),Ot(o)},function(){const t=localStorage.getItem("settings");localStorage.clear(),localStorage.setItem("settings",t),c(Bt,o="slot1",o),Ot(o)},function(t){o=t,Bt.set(o)}]}return new class extends at{constructor(t){super(),rt(this,t,te,Xt,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
