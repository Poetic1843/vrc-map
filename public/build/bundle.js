var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let r,s;function a(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function c(t,e,n){return t.set(n),e}function u(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function p(){return h(" ")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}function w(t){s=t}function x(t){(function(){if(!s)throw new Error("Function called outside component initialization");return s})().$$.on_mount.push(t)}function b(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const S=[],T=[],k=[],E=[],I=Promise.resolve();let P=!1;function M(){P||(P=!0,I.then(j))}function _(t){k.push(t)}const K=new Set;let N=0;function j(){const t=s;do{for(;N<S.length;){const t=S[N];N++,w(t),W(t.$$)}for(w(null),S.length=0,N=0;T.length;)T.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];K.has(e)||(K.add(e),e())}k.length=0}while(S.length);for(;E.length;)E.pop()();P=!1,K.clear(),w(t)}function W(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const U=new Set;function L(t,e){t&&t.i&&(U.delete(t),t.i(e))}function F(t,e,n,o){if(t&&t.o){if(U.has(t))return;U.add(t),undefined.c.push((()=>{U.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function A(t){t&&t.c()}function C(t,n,l,r){const{fragment:s,on_mount:a,on_destroy:c,after_update:u}=t.$$;s&&s.m(n,l),r||_((()=>{const n=a.map(e).filter(i);c?c.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(_)}function B(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(e,i,l,r,a,c,u,d=[-1]){const f=s;w(e);const h=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:i.target||f.$$.root};u&&u(h.root);let p=!1;if(h.ctx=l?l(e,i.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),p&&function(t,e){-1===t.$$.dirty[0]&&(S.push(t),M(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!r&&r(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(g)}else h.fragment&&h.fragment.c();i.intro&&L(e.$$.fragment),C(e,i.target,i.anchor,i.customElement),j()}w(f)}class G{$destroy(){B(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function R(e){let n,o,i,l,r,s,a,c,$,w;return{c(){n=f("span"),o=h(e[0]),i=h(":"),l=p(),r=f("label"),s=f("input"),a=p(),c=f("span"),v(s,"type","checkbox"),v(s,"class","svelte-1j727hj"),v(c,"class","slider svelte-1j727hj"),v(r,"class","switch svelte-1j727hj")},m(t,g){d(t,n,g),u(n,o),u(n,i),d(t,l,g),d(t,r,g),u(r,s),e[4](s),u(r,a),u(r,c),$||(w=m(s,"click",e[3]),$=!0)},p(t,[e]){1&e&&y(o,t[0])},i:t,o:t,d(t){t&&g(n),t&&g(l),t&&g(r),e[4](null),$=!1,w()}}}function z(t,e,n){let o,{label:i}=e;return t.$$set=t=>{"label"in t&&n(0,i=t.label)},[i,o,function(){o.click()},function(e){b.call(this,t,e)},function(t){T[t?"unshift":"push"]((()=>{o=t,n(1,o)}))}]}class O extends G{constructor(t){super(),D(this,t,z,R,l,{label:0,click:2})}get click(){return this.$$.ctx[2]}}const q=[];function H(e,n=t){let o;const i=new Set;function r(t){if(l(e,t)&&(e=t,o)){const t=!q.length;for(const t of i)t[1](),q.push(t,e);if(t){for(let t=0;t<q.length;t+=2)q[t][0](q[t+1]);q.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(l,s=t){const a=[l,s];return i.add(a),1===i.size&&(o=n(r)||t),l(e),()=>{i.delete(a),0===i.size&&(o(),o=null)}}}}const Y=H(!1),Z=H(!1);function J(t){let e,n,o,i,l,s,a,c,h,m,y,$,w,x;c=new O({props:{label:"Skills Mode"}}),t[4](c),c.$on("click",t[2]);return w=new O({props:{label:"Imperial Mode"}}),t[5](w),w.$on("click",t[3]),{c(){var t,u;e=f("div"),n=f("img"),i=p(),l=f("input"),s=p(),a=f("div"),A(c.$$.fragment),h=p(),m=f("br"),y=f("br"),$=p(),A(w.$$.fragment),t=n.src,u=o="./media/GrayGearIcon.png",r||(r=document.createElement("a")),r.href=u,t!==r.href&&v(n,"src","./media/GrayGearIcon.png"),v(n,"alt","Toggle Settings"),v(n,"class","gear-icon svelte-t0nrcw"),v(l,"class","settings-button svelte-t0nrcw"),v(l,"type","checkbox"),v(a,"class","settings-wrapper svelte-t0nrcw"),v(e,"class","settings-panel svelte-t0nrcw")},m(t,o){d(t,e,o),u(e,n),u(e,i),u(e,l),u(e,s),u(e,a),C(c,a,null),u(a,h),u(a,m),u(a,y),u(a,$),C(w,a,null),x=!0},p(t,[e]){c.$set({});w.$set({})},i(t){x||(L(c.$$.fragment,t),L(w.$$.fragment,t),x=!0)},o(t){F(c.$$.fragment,t),F(w.$$.fragment,t),x=!1},d(n){n&&g(e),t[4](null),B(c),t[5](null),B(w)}}}function Q(t,e,n){let o,i,l,r;a(t,Z,(t=>n(6,o=t))),a(t,Y,(t=>n(7,i=t)));function s(){localStorage.setItem("settings",`skills=${i}/imperial=${o}`)}return x((()=>{localStorage.getItem("settings")||s(),function(){const t=/skills=((?:false)|(?:true))\/imperial=((?:false)|(?:true))/,e=localStorage.getItem("settings");t.test(e)||s();const n=t.exec(e);"true"==n[1]&&l.click(),"true"==n[2]&&r.click()}()})),[l,r,()=>{c(Y,i=!i,i),s()},()=>{c(Z,o=!o,o),s()},function(t){T[t?"unshift":"push"]((()=>{l=t,n(0,l)}))},function(t){T[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}class V extends G{constructor(t){super(),D(this,t,Q,J,l,{})}}function X(e){let n,o,l,r;return{c(){n=f("button"),o=h(e[0]),v(n,"class","svelte-miff50")},m(t,s){d(t,n,s),u(n,o),l||(r=m(n,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),l=!0)},p(t,[n]){e=t,1&n&&y(o,e[0])},i:t,o:t,d(t){t&&g(n),l=!1,r()}}}function tt(t,e,n){let{label:o}=e,{onclick:i}=e;return t.$$set=t=>{"label"in t&&n(0,o=t.label),"onclick"in t&&n(1,i=t.onclick)},[o,i]}class et extends G{constructor(t){super(),D(this,t,tt,X,l,{label:0,onclick:1})}}const nt=713.74;class ot{constructor(t,e,n,o=1){this.toUnfinished=()=>new ot(this.r+40,this.g+40,this.b+40,this.a),this.toTransparent=()=>new ot(this.r,this.g,this.b,.1),this.toString=()=>`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`,this.r=t,this.g=e,this.b=n,this.a=o}}const it=new ot(255,255,0),lt=new ot(255,0,0),rt=new ot(0,0,255),st=new ot(255,0,255),at="rgba(155, 155, 155, 0.5)";function ct(t,e,n,o,i,l){l.beginPath(),l.arc(t,e,n,0,2*Math.PI,!1),l.fillStyle=o,o&&l.fill(),l.lineWidth=5,l.strokeStyle=i,i&&l.stroke(),l.closePath()}function ut(t,e,n,o){o.lineWidth=1,ct(t,e,13,null,n,o),ct(t,e,5,n,null,o)}function dt(t,e,n,o){const i=nt/3,l=nt/6;o.strokeStyle=n,o.lineCap="butt",o.lineWidth=10,o.beginPath(),o.moveTo(t+l/10,e+i/8),o.lineTo(t+l-l/10,e+i/8),o.lineTo(t+l-l/10,e+i/8*7),o.lineTo(t+l/10,e+i/8*7),o.lineTo(t+l/10,e+i/8-5),o.stroke(),o.closePath(),o.fillStyle="rgba(255, 255, 255, 0.12)",o.fillRect(t,e,l,i),o.strokeStyle="rgb(0, 0, 0)",o.lineWidth=2,o.beginPath(),o.moveTo(t+l+1,e),o.lineTo(t+l+1,e+i),o.moveTo(t-1,e),o.lineTo(t-1,e+i),o.stroke(),o.closePath()}var gt,ft;let ht=!1;Y.subscribe((t=>ht=t));class pt{constructor(t,e,n,o){this.x=t,this.y=e,this.rotation=n,this.variation=o}moveTo(t,e){this.x=t,this.y=e}rotateTo(t){this.rotation=t}render(t){throw new Error("Unimplemented")}pointInside(t,e){throw new Error("Unimplemented")}encode(){throw new Error("Unimplemented")}static decode(t){throw new Error("Unimplemented")}static isEncode(t){throw new Error("Unimplemented")}}class mt extends pt{constructor(){super(...arguments),this.pointInside=(t,e)=>(t-this.x)**2+(e-this.y)**2<=25.94**2}render(t){if(ht)switch(this.variation){case 0:t.fillStyle=it.toString();break;case 1:t.fillStyle=rt.toString();break;case 2:t.fillStyle=lt.toString()}else switch(this.variation){case 0:t.fillStyle=it.toString();break;case 1:t.fillStyle=lt.toString();break;case 2:t.fillStyle=rt.toString()}let e=this.rotation+14;t.strokeStyle="rgb(50, 50, 50)",t.lineWidth=3,function(t,e,n,o,i,l){const r=2*Math.PI/o,s=Math.PI+i/360*(2*Math.PI);l.beginPath();for(let i=0;i<=o;i++){const o=i*r+s;l.lineTo(t+n*Math.cos(o),e+n*Math.sin(o))}l.fill(),l.stroke(),l.closePath()}(this.x,this.y,25.94,7,e,t)}encode(){return`mogo-${this.x.toFixed(2)}-${this.y.toFixed(2)}-${this.rotation.toFixed(0)}-${this.variation}`}static decode(t){const e=this.regex.exec(t).groups;return new mt(+e.x,+e.y,+e.rotation,+e.variation)}}gt=mt,mt.regex=/mogo-(?<x>(?:\d|\.)+)-(?<y>(?:\d|\.)+)-(?<rotation>(?:\d|\.)+)-(?<variation>\d)/,mt.isEncode=t=>gt.regex.test(t);class vt extends pt{constructor(t,e){super(t,e,0,0),this.pointInside=(t,e)=>(t-this.x)**2+(e-this.y)**2<=196}render(t){t.lineWidth=2,ct(this.x,this.y,6,"rgba(0, 0, 0, 0)",st,t)}encode(){return`ring-${this.x.toFixed(2)}-${this.y.toFixed(2)}`}static decode(t){const e=this.regex.exec(t).groups;return new vt(+e.x,+e.y)}}ft=vt,vt.regex=/ring-(?<x>(?:\d|\.)+)-(?<y>(?:\d|\.)+)/,vt.isEncode=t=>ft.regex.test(t);const yt=713.74,$t=H(new Array),wt=H([new mt(356.87,178.435,180,0),new mt(356.87,356.87,0,0),new mt(356.87,178.435*3,0,0),new mt(178.435,yt/12*11,270,1),new mt(yt/12*1,yt/6*2,0,1),new mt(535.305,yt/12*1,90,2),new mt(yt/12*11,yt/3*2,180,2),new vt(356.87,29.708333333333332),new vt(356.87,59.416666666666664),new vt(356.87,89.125),new vt(356.87,yt/6),new vt(386.2083333333333,yt/6),new vt(415.91666666666663,yt/6),new vt(445.625,yt/6),new vt(475.3333333333333,yt/6),new vt(356.87,237.66666666666666),new vt(356.87,267.375),new vt(356.87,297.0833333333333),new vt(356.87,475.3333333333333),new vt(356.87,445.625),new vt(356.87,445.625),new vt(356.87,415.91666666666663),new vt(356.87,594.1666666666666),new vt(356.87,623.875),new vt(356.87,653.5833333333333),new vt(356.87,683.2916666666666),new vt(326.79166666666663,594.1666666666666),new vt(297.0833333333333,594.1666666666666),new vt(267.375,594.1666666666666),new vt(237.66666666666666,594.1666666666666),new vt(475.3333333333333,356.87),new vt(490.1875,356.87),new vt(475.3333333333333,341.6458333333333),new vt(460.47916666666663,356.87),new vt(475.3333333333333,371.35416666666663),new vt(475.3333333333333,475.3333333333333),new vt(490.1875,475.3333333333333),new vt(475.3333333333333,460.47916666666663),new vt(460.47916666666663,475.3333333333333),new vt(475.3333333333333,490.1875),new vt(237.66666666666666,356.87),new vt(252.52083333333331,356.87),new vt(222.8125,356.87),new vt(237.66666666666666,341.6458333333333),new vt(237.66666666666666,371.35416666666663),new vt(237.66666666666666,237.66666666666666),new vt(237.66666666666666,222.8125),new vt(252.52083333333331,237.66666666666666),new vt(237.66666666666666,252.52083333333331),new vt(222.8125,237.66666666666666)]);function xt(t,e,n){var o;t=`slot-${t}`;let i="";e.forEach((t=>{i+=t.x.toFixed(2)+"-",i+=t.y.toFixed(2)+"-",i+=t.step.toFixed(0),i+="/"})),i+="|",n.forEach((t=>{i+=t.encode()+"/"})),window.localStorage.setItem(t,i);const l=null===(o=localStorage.getItem("all-slots-list"))||void 0===o?void 0:o.split("|");l?l.includes(t)||(l.push(t),localStorage.setItem("all-slots-list",l.join("|"))):localStorage.setItem("all-slots-list",t)}async function bt(t){localStorage.getItem("all-slots-list")||localStorage.setItem("all-slots-list","slot-slot1");const e=window.localStorage.getItem(t);let n=null==e?void 0:e.split("|");const o=[],i=[];null==e&&(n="|mogo-356.50-178.25-180-0/mogo-356.50-356.50-0-0/mogo-356.50-534.75-0-0/mogo-178.25-653.58-270-1/mogo-59.42-237.67-0-1/mogo-534.75-59.42-90-2/mogo-653.58-475.33-180-2/ring-356.50-29.71/ring-356.50-59.42/ring-356.50-89.13/ring-356.50-118.83/ring-386.21-118.83/ring-415.92-118.83/ring-445.63-118.83/ring-475.33-118.83/ring-356.50-237.67/ring-356.50-267.38/ring-356.50-297.08/ring-356.50-475.33/ring-356.50-445.63/ring-356.50-445.63/ring-356.50-415.92/ring-356.50-594.17/ring-356.50-623.88/ring-356.50-653.58/ring-356.50-683.29/ring-326.79-594.17/ring-297.08-594.17/ring-267.38-594.17/ring-237.67-594.17/ring-475.33-356.50/ring-490.19-356.50/ring-475.33-341.65/ring-460.48-356.50/ring-475.33-371.35/ring-475.33-475.33/ring-490.19-475.33/ring-475.33-460.48/ring-460.48-475.33/ring-475.33-490.19/ring-237.67-356.50/ring-252.52-356.50/ring-222.81-356.50/ring-237.67-341.65/ring-237.67-371.35/ring-237.67-237.67/ring-237.67-222.81/ring-252.52-237.67/ring-237.67-252.52/ring-222.81-237.67/".split("|"));let l=n[0].split("/"),r=n[1].split("/");""==l[l.length-1]&&l.pop(),""==r[r.length-1]&&r.pop(),l.forEach((t=>{let e=t.split("-"),n=+e[0],i=+e[1],l=+e[2];isNaN(n)||isNaN(i)||o.push({x:n,y:i,step:l})})),r.forEach((t=>{if(!t)return;let e;vt.isEncode(t)&&(e=vt.decode(t)),mt.isEncode(t)&&(e=mt.decode(t)),e&&i.push(e)})),$t.set(o),wt.set(i)}let St=H("slot1");function Tt(e){let n;return{c(){n=f("canvas"),v(n,"width","863.74"),v(n,"height","713.74"),v(n,"tabindex","0")},m(t,o){d(t,n,o),e[1](n)},p:t,i:t,o:t,d(t){t&&g(n),e[1](null)}}}function kt(t,e,n){let o,i,l,r,s;return a(t,St,(t=>n(2,o=t))),a(t,$t,(t=>n(3,i=t))),a(t,Z,(t=>n(4,l=t))),a(t,wt,(t=>n(5,r=t))),x((()=>{const t=713.74,e=[new ot(210,10,10),new ot(210,110,10),new ot(210,210,10),new ot(10,210,10),new ot(10,210,110),new ot(10,210,210),new ot(10,110,210),new ot(10,10,210),new ot(110,10,210),new ot(210,10,210),new ot(210,10,110)];const n=document.getElementById("slots-list");s.focus();const a=t/48,u=s.getContext("2d");let d,g,f=new Array,h={array:"none",index:NaN},p=0,m=0,v=!1,y=!1,$=!1,w=!1,x=0;document.getElementById("slot-selector").addEventListener("input",(t=>{"all-slots-list"!=t.target.value?(localStorage.getItem(o)&&xt(o,i,r),c(St,o=t.target.value,o),bt(o)):t.target.value="invalid value!"})),s.addEventListener("mousedown",(t=>{0==t.button&&(v=!0)})),s.addEventListener("mouseup",(e=>{0==e.button&&(v=!1,$||(i.push({x:d,y:g,step:x}),f=[]),"gameobjects"==h.array&&d>t&&g<=160&&r.splice(h.index,1),"points"==h.array&&d>t&&g<=160&&i.splice(h.index,1),i.length>0&&i[i.length-1].x>t&&i[i.length-1].y<=160&&i.splice(i.length-1,1),h={array:"none",index:NaN}),xt(o,i,r)})),s.addEventListener("contextmenu",(e=>{e.preventDefault(),d<t&&r.push(new vt(d,g)),xt(o,i,r)})),s.addEventListener("mousemove",(e=>{const n=(e.x-s.offsetLeft)/s.clientWidth*s.width,o=(e.y-s.offsetTop)/s.clientHeight*s.height;switch(d=e.ctrlKey?n:e.altKey?p%a:0+Math.round((n-(e.altKey?p%a:0))/a)*a,g=e.ctrlKey?o:e.altKey?m%a:0+Math.round((o-(e.altKey?m%a:0))/a)*a,d=d<=t||g<160?d:Math.min(d,t),e.shiftKey&&v&&"none"==h.array?(r.forEach(((t,e)=>{t.pointInside(n,o)&&(h={array:"gameobjects",index:e})})),i.forEach(((t,e)=>{(n-t.x)**2+(o-t.y)**2<=256&&(h={array:"points",index:e})}))):e.shiftKey||(h={array:"none",index:NaN}),h.array){case"gameobjects":c(wt,r[h.index].x=d,r),c(wt,r[h.index].y=g,r);break;case"points":c($t,i[h.index].x=d,i),c($t,i[h.index].y=g,i)}})),s.addEventListener("keydown",(t=>{if(t.ctrlKey&&"KeyZ"==t.code){const t=i.pop();t&&f.push(t)}if(t.ctrlKey&&"KeyY"==t.code){const t=f.pop();t&&i.push(t)}y=t.ctrlKey,$=t.shiftKey,w=t.altKey,/\d/.test(t.key)&&0!=+t.key?x=+t.key-1:0==+t.key&&(x=10),(y||$||w)&&t.preventDefault()})),s.addEventListener("keyup",(t=>{y=t.ctrlKey,$=t.shiftKey,w=t.altKey})),bt(o),async function o(){var s,c,f,b,S,T,k,E,P,_,K,N,j,W,U,L,F,A,C,B,D,G,R,z,O;if(p=null!==(c=null===(s=i[i.length-1])||void 0===s?void 0:s.x)&&void 0!==c?c:0,m=null!==(b=null===(f=i[i.length-1])||void 0===f?void 0:f.y)&&void 0!==b?b:0,u.fillStyle="rgb(255, 50, 50)",u.fillRect(t,0,150,150),u.fillStyle="rgb(50, 50, 50)",u.fillRect(t,150,150,563.74),function(t,e,n){n.strokeStyle="rgb(255, 255, 255)",n.lineCap="round",n.lineWidth=5,n.beginPath(),n.moveTo(t+37.5,e+37.5),n.lineTo(t+112.5,e+37.5),n.moveTo(t+50,e+37.5),n.lineTo(t+50,e+112.5),n.moveTo(t+62.5,e+37.5),n.lineTo(t+62.5,e+112.5),n.moveTo(t+75,e+37.5),n.lineTo(t+75,e+112.5),n.moveTo(t+87.5,e+37.5),n.lineTo(t+87.5,e+112.5),n.moveTo(t+100,e+37.5),n.lineTo(t+100,e+112.5),n.moveTo(t+50,e+112.5),n.lineTo(t+100,e+112.5),n.moveTo(t+62.5,e+37.5),n.lineTo(t+62.5,e+37.5-10),n.lineTo(t+87.5,e+37.5-10),n.lineTo(t+87.5,e+37.5),n.stroke(),n.closePath()}(t,0,u),function(t){t.fillStyle="rgb(125, 125, 125)",t.lineWidth=5,t.fillRect(0,0,nt,nt);let e=nt/6;t.lineWidth=3,t.strokeStyle=at,t.beginPath();for(let n=0;n<6;n++)t.moveTo(e*n,0),t.lineTo(e*n,nt);for(let n=0;n<6;n++)t.moveTo(0,e*n),t.lineTo(nt,e*n);t.stroke(),t.strokeStyle="rgb(255, 255, 255)",t.beginPath(),t.moveTo(nt/3,0),t.lineTo(nt/3,nt),t.moveTo(354.87,0),t.lineTo(354.87,nt),t.moveTo(358.87,0),t.lineTo(358.87,nt),t.moveTo(nt/3*2,0),t.lineTo(nt/3*2,nt),t.moveTo(nt/6*4,nt/6),t.lineTo(nt/6*5,0),t.moveTo(nt/6*2,nt/6*5),t.lineTo(nt/6*1,nt),t.stroke(),t.closePath(),dt(0,nt/6*2,lt,t),dt(nt/6*5,nt/6*2,rt,t)}(u),r.forEach((t=>t.render(u))),!y){u.lineWidth=1,u.strokeStyle=at.toString(),u.beginPath();for(let e=0;e<48;e++)u.moveTo(a*e+(w?p%a:0),0),u.lineTo(a*e+(w?p%a:0),t);for(let e=0;e<48;e++)u.moveTo(0,a*e+(w?m%a:0)),u.lineTo(t,a*e+(w?m%a:0));u.stroke(),u.closePath()}for(let t=0;t<i.length;t++){h.index==t&&"points"==h.array?ut(i[t].x,i[t].y,e[i[t].step].toUnfinished().toString(),u):ut(i[t].x,i[t].y,e[i[t].step].toString(),u),u.strokeStyle=h.index!=t&&h.index+1!=t||"points"!=h.array?e[i[t].step].toString():e[i[t].step].toUnfinished().toString(),u.lineWidth=3,u.beginPath(),u.moveTo(null!==(T=null===(S=i[t-1])||void 0===S?void 0:S.x)&&void 0!==T?T:i[t].x,null!==(E=null===(k=i[t-1])||void 0===k?void 0:k.y)&&void 0!==E?E:i[t].y),u.lineTo(i[t].x,i[t].y),u.stroke(),u.closePath();let n=180*Math.atan2(i[t].y-(null===(P=i[t+1])||void 0===P?void 0:P.y),i[t].x-(null===(_=i[t+1])||void 0===_?void 0:_.x))/Math.PI-180*Math.atan2((null===(K=i[t-1])||void 0===K?void 0:K.y)-(null===(N=i[t])||void 0===N?void 0:N.y),(null===(j=i[t-1])||void 0===j?void 0:j.x)-i[t].x)/Math.PI;0==t&&(n=180*Math.atan2(i[0].y-(null===(W=i[1])||void 0===W?void 0:W.y),i[0].x-(null===(U=i[1])||void 0===U?void 0:U.x))/Math.PI),isNaN(n)||u.fillText(`${Math.round(n)}°`,i[t].x+20,i[t].y+20),u.fillStyle=h.index!=t&&h.index-1!=t||"points"!=h.array?e[null!==(C=null===(A=i[t+1])||void 0===A?void 0:A.step)&&void 0!==C?C:i[t].step].toString():e[null!==(F=null===(L=i[t+1])||void 0===L?void 0:L.step)&&void 0!==F?F:i[t].step].toUnfinished().toString();const o=Math.sqrt((i[t].x-(null===(B=i[t+1])||void 0===B?void 0:B.x))**2+(i[t].y-(null===(D=i[t+1])||void 0===D?void 0:D.y))**2)/2;isNaN(o)||u.fillText(`${Math.round(100*(l?(O=o,.393701*O):o))/100}${l?"in":"cm"}`,i[t].x-(i[t].x-(null===(G=i[t+1])||void 0===G?void 0:G.x))/2,i[t].y-(i[t].y-(null===(R=i[t+1])||void 0===R?void 0:R.y))/2-20)}v&&!$&&"none"==h.array&&(u.lineWidth=3,u.strokeStyle=e[x].toUnfinished().toString(),u.beginPath(),0==i.length?u.moveTo(d,g):u.moveTo(p,m),u.lineTo(d,g),u.stroke(),u.closePath(),ut(d,g,e[x].toUnfinished().toString(),u));const q=null===(z=localStorage.getItem("all-slots-list"))||void 0===z?void 0:z.split("|").map((t=>t.substring(5)));q&&(n.textContent="Save Slots: "+q.join(", ")),await(M(),I),setTimeout(o,0)}()})),[s,function(t){T[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class Et extends G{constructor(t){super(),D(this,t,kt,Tt,l,{})}}function It(e){let n,i,l;return{c(){n=f("input"),v(n,"id","slot-selector")},m(t,o){d(t,n,o),$(n,e[0]),i||(l=[m(n,"input",e[2]),m(n,"input",e[1])],i=!0)},p(t,[e]){1&e&&n.value!==t[0]&&$(n,t[0])},i:t,o:t,d(t){t&&g(n),i=!1,o(l)}}}function Pt(t,e,n){let{value:o}=e;return t.$$set=t=>{"value"in t&&n(0,o=t.value)},[o,function(e){b.call(this,t,e)},function(){o=this.value,n(0,o)}]}class Mt extends G{constructor(t){super(),D(this,t,Pt,It,l,{value:0})}}function _t(t){let e,n,o,i,l,r,s,a,c,h,m,y,$,w,x,b,S,k;function I(e){t[3](e)}r=new et({props:{label:"Delete Save",onclick:t[1]}}),a=new et({props:{label:"Delete All Saves",onclick:t[2]}});let P={};return void 0!==t[0]&&(P.value=t[0]),h=new Mt({props:P}),T.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(h,"value",I))),x=new Et({}),S=new V({}),{c(){e=f("div"),n=p(),o=f("div"),i=f("div"),l=f("form"),A(r.$$.fragment),s=p(),A(a.$$.fragment),c=p(),A(h.$$.fragment),y=p(),$=f("p"),w=p(),A(x.$$.fragment),b=p(),A(S.$$.fragment),v($,"id","slots-list"),v(o,"class","map-panel")},m(t,g){d(t,e,g),d(t,n,g),d(t,o,g),u(o,i),u(i,l),C(r,l,null),u(l,s),C(a,l,null),u(l,c),C(h,l,null),u(i,y),u(i,$),u(i,w),C(x,i,null),d(t,b,g),C(S,t,g),k=!0},p(t,[e]){const n={};var o;!m&&1&e&&(m=!0,n.value=t[0],o=()=>m=!1,E.push(o)),h.$set(n)},i(t){k||(L(r.$$.fragment,t),L(a.$$.fragment,t),L(h.$$.fragment,t),L(x.$$.fragment,t),L(S.$$.fragment,t),k=!0)},o(t){F(r.$$.fragment,t),F(a.$$.fragment,t),F(h.$$.fragment,t),F(x.$$.fragment,t),F(S.$$.fragment,t),k=!1},d(t){t&&g(e),t&&g(n),t&&g(o),B(r),B(a),B(h),B(x),t&&g(b),B(S,t)}}}function Kt(t,e,n){let o;return a(t,St,(t=>n(0,o=t))),[o,function(){var t;localStorage.removeItem(o);const e=null===(t=localStorage.getItem("all-slots-list"))||void 0===t?void 0:t.split("|");e?localStorage.setItem("all-slots-list",e.filter((t=>t!=o)).join("|")):localStorage.setItem("all-slots-list",o),bt(o)},function(){const t=localStorage.getItem("settings");localStorage.clear(),localStorage.setItem("settings",t),c(St,o="slot1",o),document.getElementById("slot-selector").value="slot1",bt(o)},function(t){o=t,St.set(o)}]}return new class extends G{constructor(t){super(),D(this,t,Kt,_t,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
