var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let r,l;function a(t,e){return r||(r=document.createElement("a")),r.href=e,t===r.href}function c(t,e){return t!=t?e==e:t!==e}function u(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function d(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function f(t,e,n){return t.set(n),e}function h(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function y(){return $(" ")}function v(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function w(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function k(t){l=t}function S(){if(!l)throw new Error("Function called outside component initialization");return l}function T(t){S().$$.on_mount.push(t)}function _(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const j=[],E=[],I=[],M=[],P=Promise.resolve();let A=!1;function K(){A||(A=!0,P.then(U))}function N(t){I.push(t)}function R(t){M.push(t)}const W=new Set;let L=0;function U(){const t=l;do{for(;L<j.length;){const t=j[L];L++,k(t),F(t.$$)}for(k(null),j.length=0,L=0;E.length;)E.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];W.has(e)||(W.add(e),e())}I.length=0}while(j.length);for(;M.length;)M.pop()();A=!1,W.clear(),k(t)}function F(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const B=new Set;let D;function O(){D={r:0,c:[],p:D}}function C(){D.r||o(D.c),D=D.p}function q(t,e){t&&t.i&&(B.delete(t),t.i(e))}function z(t,e,n,o){if(t&&t.o){if(B.has(t))return;B.add(t),D.c.push((()=>{B.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function G(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function H(t){t&&t.c()}function V(t,n,s,r){const{fragment:l,on_mount:a,on_destroy:c,after_update:u}=t.$$;l&&l.m(n,s),r||N((()=>{const n=a.map(e).filter(i);c?c.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(N)}function Y(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(e,i,s,r,a,c,u,d=[-1]){const f=l;k(e);const h=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:i.target||f.$$.root};u&&u(h.root);let g=!1;if(h.ctx=s?s(e,i.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),g&&function(t,e){-1===t.$$.dirty[0]&&(j.push(t),K(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],h.update(),g=!0,o(h.before_update),h.fragment=!!r&&r(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(p)}else h.fragment&&h.fragment.c();i.intro&&q(e.$$.fragment),V(e,i.target,i.anchor,i.customElement),U()}k(f)}class J{$destroy(){Y(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Q=1427.48;class X{constructor(t,e,n,o=1){this.toUnfinished=()=>new X(this.r+40,this.g+40,this.b+40,this.a),this.toTransparent=()=>new X(this.r,this.g,this.b,.1),this.toString=()=>`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`,this.r=t,this.g=e,this.b=n,this.a=o}}const tt=new X(255,255,0),et=new X(255,0,0),nt=new X(0,0,255),ot=new X(255,0,255),it="rgba(155, 155, 155, 0.5)";function st(t,e,n,o,i,s){s.beginPath(),s.arc(t,e,n,0,2*Math.PI,!1),s.fillStyle=o,o&&s.fill(),s.strokeStyle=i,i&&s.stroke(),s.closePath()}function rt(t,e,n,o){o.lineWidth=7.5,st(t,e,19.5,null,n,o),st(t,e,7.25,n,null,o)}function lt(t,e,n,o){const i=Q/3,s=Q/6;o.strokeStyle=n,o.lineCap="butt",o.lineWidth=20,o.beginPath(),o.moveTo(t+s/10,e+i/8),o.lineTo(t+s-s/10,e+i/8),o.lineTo(t+s-s/10,e+i/8*7),o.lineTo(t+s/10,e+i/8*7),o.lineTo(t+s/10,e+i/8-10),o.stroke(),o.closePath(),o.fillStyle="rgba(255, 255, 255, 0.12)",o.fillRect(t,e,s,i),o.strokeStyle="rgb(0, 0, 0)",o.lineWidth=2,o.beginPath(),o.moveTo(t+s+1,e),o.lineTo(t+s+1,e+i),o.moveTo(t-1,e),o.lineTo(t-1,e+i),o.stroke(),o.closePath()}const at=[];function ct(e,n=t){let o;const i=new Set;function r(t){if(s(e,t)&&(e=t,o)){const t=!at.length;for(const t of i)t[1](),at.push(t,e);if(t){for(let t=0;t<at.length;t+=2)at[t][0](at[t+1]);at.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,l=t){const a=[s,l];return i.add(a),1===i.size&&(o=n(r)||t),s(e),()=>{i.delete(a),0===i.size&&(o(),o=null)}}}}const ut=ct(!1),dt=ct(!1);var ft,ht;let gt=!1;ut.subscribe((t=>gt=t));class pt{constructor(t,e,n,o){this.x=t,this.y=e,this.rotation=n,this.variation=o}moveTo(t,e){this.x=t,this.y=e}rotateTo(t){this.rotation=t}render(t){throw new Error("Unimplemented")}pointInside(t,e){throw new Error("Unimplemented")}encode(){throw new Error("Unimplemented")}static decode(t){throw new Error("Unimplemented")}static isEncode(t){throw new Error("Unimplemented")}}class mt extends pt{constructor(){super(...arguments),this.pointInside=(t,e)=>(t-this.x)**2+(e-this.y)**2<=51.88**2}render(t){if(gt)switch(this.variation){case 0:t.fillStyle=tt.toString();break;case 1:t.fillStyle=nt.toString();break;case 2:t.fillStyle=et.toString()}else switch(this.variation){case 0:t.fillStyle=tt.toString();break;case 1:t.fillStyle=et.toString();break;case 2:t.fillStyle=nt.toString()}let e=this.rotation+14;t.strokeStyle="rgb(50, 50, 50)",t.lineWidth=3,function(t,e,n,o,i,s){const r=2*Math.PI/o,l=Math.PI+i/360*(2*Math.PI);s.beginPath();for(let i=0;i<=o;i++){const o=i*r+l;s.lineTo(t+n*Math.cos(o),e+n*Math.sin(o))}s.fill(),s.stroke(),s.closePath()}(this.x,this.y,65.8876,7,e,t)}encode(){return`mogo-${this.x.toFixed(2)}-${this.y.toFixed(2)}-${this.rotation.toFixed(0)}-${this.variation}`}static decode(t){const e=this.regex.exec(t).groups;return new mt(+e.x,+e.y,+e.rotation,+e.variation)}}ft=mt,mt.regex=/mogo-(?<x>(?:\d|\.)+)-(?<y>(?:\d|\.)+)-(?<rotation>(?:\d|\.)+)-(?<variation>\d)/,mt.isEncode=t=>ft.regex.test(t);class $t extends pt{constructor(t,e){super(t,e,0,0),this.pointInside=(t,e)=>(t-this.x)**2+(e-this.y)**2<=412.9024}render(t){t.lineWidth=10.16,st(this.x,this.y,10.16,"rgba(0, 0, 0, 0)",ot.toString(),t)}encode(){return`ring-${this.x.toFixed(2)}-${this.y.toFixed(2)}`}static decode(t){const e=this.regex.exec(t).groups;return new $t(+e.x,+e.y)}}ht=$t,$t.regex=/ring-(?<x>(?:\d|\.)+)-(?<y>(?:\d|\.)+)/,$t.isEncode=t=>ht.regex.test(t);const yt=713.74,vt=ct(new Array),xt=ct([new mt(356.87,178.435,180,0),new mt(356.87,356.87,0,0),new mt(356.87,178.435*3,0,0),new mt(178.435,yt/12*11,270,1),new mt(yt/12*1,yt/6*2,0,1),new mt(535.305,yt/12*1,90,2),new mt(yt/12*11,yt/3*2,180,2),new $t(356.87,29.708333333333332),new $t(356.87,59.416666666666664),new $t(356.87,89.125),new $t(356.87,yt/6),new $t(386.2083333333333,yt/6),new $t(415.91666666666663,yt/6),new $t(445.625,yt/6),new $t(475.3333333333333,yt/6),new $t(356.87,237.66666666666666),new $t(356.87,267.375),new $t(356.87,297.0833333333333),new $t(356.87,475.3333333333333),new $t(356.87,445.625),new $t(356.87,445.625),new $t(356.87,415.91666666666663),new $t(356.87,594.1666666666666),new $t(356.87,623.875),new $t(356.87,653.5833333333333),new $t(356.87,683.2916666666666),new $t(326.79166666666663,594.1666666666666),new $t(297.0833333333333,594.1666666666666),new $t(267.375,594.1666666666666),new $t(237.66666666666666,594.1666666666666),new $t(475.3333333333333,356.87),new $t(490.1875,356.87),new $t(475.3333333333333,341.6458333333333),new $t(460.47916666666663,356.87),new $t(475.3333333333333,371.35416666666663),new $t(475.3333333333333,475.3333333333333),new $t(490.1875,475.3333333333333),new $t(475.3333333333333,460.47916666666663),new $t(460.47916666666663,475.3333333333333),new $t(475.3333333333333,490.1875),new $t(237.66666666666666,356.87),new $t(252.52083333333331,356.87),new $t(222.8125,356.87),new $t(237.66666666666666,341.6458333333333),new $t(237.66666666666666,371.35416666666663),new $t(237.66666666666666,237.66666666666666),new $t(237.66666666666666,222.8125),new $t(252.52083333333331,237.66666666666666),new $t(237.66666666666666,252.52083333333331),new $t(222.8125,237.66666666666666)]);function bt(t,e,n){var o;let i="";e.forEach((t=>{i+=t.x.toFixed(2)+"-",i+=t.y.toFixed(2)+"-",i+=t.step.toFixed(0),i+="/"})),i+="|",n.forEach((t=>{i+=t.encode()+"/"})),localStorage.setItem(`slot-${t}`,i);const s=null===(o=localStorage.getItem("all-slots-list"))||void 0===o?void 0:o.split("|");s?s.includes(t)||(s.push(t),localStorage.setItem("all-slots-list",s.join("|"))):localStorage.setItem("all-slots-list",t)}async function wt(t){localStorage.getItem("all-slots-list")||localStorage.setItem("all-slots-list",t);const e=localStorage.getItem(`slot-${t}`);let n=null==e?void 0:e.split("|");const o=new Array,i=new Array;e||(n="|mogo-713.74-356.87-180-0/mogo-713.74-713.74-0-0/mogo-713.74-1070.61-0-0/mogo-356.87-1308.52-270-1/mogo-118.96-475.83-0-1/mogo-1070.61-118.96-90-2/mogo-1308.52-951.65-180-2/ring-713.74-59.48/ring-713.74-118.96/ring-713.74-178.44/ring-713.74-237.91/ring-773.22-237.91/ring-832.70-237.91/ring-892.17-237.91/ring-951.65-237.91/ring-713.74-475.83/ring-713.74-535.30/ring-713.74-594.78/ring-713.74-832.70/ring-713.74-892.17/ring-713.74-951.65/ring-713.74-1189.57/ring-713.74-1249.05/ring-713.74-1308.52/ring-713.74-1368.00/ring-654.26-1189.57/ring-594.78-1189.57/ring-535.30-1189.57/ring-475.83-1189.57/ring-951.65-713.74/ring-981.39-713.74/ring-921.91-713.74/ring-951.65-684.00/ring-951.65-743.48/ring-951.65-951.65/ring-981.39-951.65/ring-951.65-921.91/ring-921.91-951.65/ring-951.65-981.39/ring-475.83-713.74/ring-505.57-713.74/ring-475.83-684.00/ring-446.09-713.74/ring-475.83-743.48/ring-475.83-475.83/ring-475.83-505.57/ring-505.57-475.83/ring-475.83-446.09/ring-446.09-475.83/".split("|"));let s=n[0].split("/"),r=n[1].split("/");""==s[s.length-1]&&s.pop(),""==r[r.length-1]&&r.pop(),s.forEach((t=>{let e=t.split("-"),n=+e[0],i=+e[1],s=+e[2];isNaN(n)||isNaN(i)||o.push({x:n,y:i,step:s})})),r.forEach((t=>{if(!t)return;let e;$t.isEncode(t)&&(e=$t.decode(t)),mt.isEncode(t)&&(e=mt.decode(t)),e&&i.push(e)})),vt.set(o),xt.set(i)}let kt,St,Tt=ct("slot1");var _t;xt.subscribe((t=>kt=t)),vt.subscribe((t=>St=t)),function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove",t[t.Move=2]="Move"}(_t||(_t={}));class jt{constructor(t,e){this.type=t,this.options=e}}function Et(t){const e="undos"==t?Mt.pop():Pt.pop();if(e)switch(e.type){case _t.Add:switch(e.options.array){case"gameobjects":("undos"==t?Pt:Mt).push(new jt(_t.Remove,{array:"gameobjects",key:e.options.key,object:kt[e.options.key]})),kt.splice(e.options.key,1),xt.set(kt);break;case"points":("undos"==t?Pt:Mt).push(new jt(_t.Remove,{array:"points",key:e.options.key,object:St[e.options.key]})),St.splice(e.options.key,1),vt.set(St)}break;case _t.Remove:switch(e.options.array){case"gameobjects":("undos"==t?Pt:Mt).push(new jt(_t.Add,{array:"gameobjects",key:e.options.key})),kt.splice(e.options.key,0,e.options.object),xt.set(kt);break;case"points":("undos"==t?Pt:Mt).push(new jt(_t.Add,{array:"points",key:e.options.key})),St.splice(e.options.key,0,e.options.object),vt.set(St)}break;case _t.Move:switch(e.options.array){case"gameobjects":{("undos"==t?Pt:Mt).push(new jt(_t.Move,Object.assign(Object.assign({},e.options),{array:"gameobjects"})));const n=kt[e.options.key];n.x=e.options.old_x,n.y=e.options.old_y,kt[e.options.key]=n,xt.set(kt);break}case"points":{("undos"==t?Pt:Mt).push(new jt(_t.Move,Object.assign(Object.assign({},e.options),{array:"points"})));const n=St[e.options.key];n.x=e.options.old_x,n.y=e.options.old_y,St[e.options.key]=n,vt.set(St);break}}}}function It(t,e){Mt.push(new jt(t,e)),Pt.length=0}const Mt=new Array,Pt=new Array;function At(e){let n;return{c(){n=m("canvas"),x(n,"width","1577.48"),x(n,"height","1427.48"),x(n,"tabindex","0"),x(n,"class","svelte-1of9l24")},m(t,o){g(t,n,o),e[1](n)},p:t,i:t,o:t,d(t){t&&p(n),e[1](null)}}}function Kt(t,e,n){let o,i,s,r,l;return u(t,vt,(t=>n(2,o=t))),u(t,dt,(t=>n(3,i=t))),u(t,xt,(t=>n(4,s=t))),u(t,Tt,(t=>n(5,r=t))),T((()=>{const t=1427.48,e=[new X(210,10,10),new X(210,110,10),new X(210,210,10),new X(10,210,10),new X(10,210,110),new X(10,210,210),new X(10,110,210),new X(10,10,210),new X(110,10,210),new X(210,10,210),new X(210,10,110)];document.getElementById("slots-list"),l.focus();const n=t/48,a=l.getContext("2d");let c={array:"none",index:NaN,start_x:null,start_y:null},u=0,d=0,h=!1,g=0,p=0,m=!1,$=!1,y=!1,v=0;l.addEventListener("mousedown",(t=>{0==t.button&&(h=!0)})),l.addEventListener("mouseup",(e=>{if(0==e.button){if(h=!1,!$)return o.push({x:g,y:p,step:v}),void(g<t&&It(_t.Add,{array:"points",key:o.length-1}));"gameobjects"==c.array&&g>t&&p<=160&&(f(xt,s[c.index].x=c.start_x,s),f(xt,s[c.index].y=c.start_y,s),It(_t.Remove,{array:"gameobjects",key:c.index,object:s[c.index]}),s.splice(c.index,1)),"points"==c.array&&g>t&&p<=160&&(f(vt,o[c.index].x=c.start_x,o),f(vt,o[c.index].y=c.start_y,o),It(_t.Remove,{array:"points",key:c.index,object:o[c.index]}),o.splice(c.index,1)),g>t||It(_t.Move,{array:c.array,key:c.index,old_x:c.start_x,old_y:c.start_y}),c={array:"none",index:NaN,start_x:null,start_y:null}}bt(r,o,s)})),l.addEventListener("contextmenu",(e=>{e.preventDefault(),g<t&&(s.push(new $t(g,p)),It(_t.Add,{array:"gameobjects",key:s.length-1})),bt(r,o,s)})),l.addEventListener("mousemove",(e=>{const i=(e.x-l.offsetLeft)/l.clientWidth*l.width,r=(e.y-l.offsetTop)/l.clientHeight*l.height;switch(g=e.ctrlKey?i:e.altKey?u%n:0+Math.round((i-(e.altKey?u%n:0))/n)*n,p=e.ctrlKey?r:e.altKey?d%n:0+Math.round((r-(e.altKey?d%n:0))/n)*n,g=g<=t||p<160?g:Math.min(g,t),e.shiftKey&&h&&"none"==c.array?(s.forEach(((t,e)=>{t.pointInside(i,r)&&(c={array:"gameobjects",index:e,start_x:t.x,start_y:t.y})})),o.forEach(((t,e)=>{(i-t.x)**2+(r-t.y)**2<=256&&(c={array:"points",index:e,start_x:t.x,start_y:t.y})}))):e.shiftKey||(c={array:"none",index:NaN,start_x:null,start_y:null}),c.array){case"gameobjects":f(xt,s[c.index].x=g,s),f(xt,s[c.index].y=p,s);break;case"points":f(vt,o[c.index].x=g,o),f(vt,o[c.index].y=p,o)}})),l.addEventListener("keydown",(t=>{t.ctrlKey&&"KeyZ"==t.code&&Et("undos"),t.ctrlKey&&"KeyY"==t.code&&Et("redos"),m=t.ctrlKey,$=t.shiftKey,y=t.altKey,/\d/.test(t.key)&&0!=+t.key?v=+t.key-1:0==+t.key&&(v=10),(m||$||y)&&t.preventDefault()})),l.addEventListener("keyup",(t=>{m=t.ctrlKey,$=t.shiftKey,y=t.altKey})),wt("slot1"),a.font="20px monospace",a.textAlign="center",async function r(){var l,f,x,b,w,k,S,T,_,j,E,I,M,A,N,R,W,L,U,F,B,D,O,C,q,z,G;if(u=null!==(f=null===(l=o[o.length-1])||void 0===l?void 0:l.x)&&void 0!==f?f:0,d=null!==(b=null===(x=o[o.length-1])||void 0===x?void 0:x.y)&&void 0!==b?b:0,a.fillStyle="rgb(255, 50, 50)",a.fillRect(t,0,150,150),a.fillStyle="rgb(50, 50, 50)",a.fillRect(t,150,150,1277.48),function(t,e,n){n.strokeStyle="rgb(255, 255, 255)",n.lineCap="round",n.lineWidth=5,n.beginPath(),n.moveTo(t+37.5,e+37.5),n.lineTo(t+112.5,e+37.5),n.moveTo(t+50,e+37.5),n.lineTo(t+50,e+112.5),n.moveTo(t+62.5,e+37.5),n.lineTo(t+62.5,e+112.5),n.moveTo(t+75,e+37.5),n.lineTo(t+75,e+112.5),n.moveTo(t+87.5,e+37.5),n.lineTo(t+87.5,e+112.5),n.moveTo(t+100,e+37.5),n.lineTo(t+100,e+112.5),n.moveTo(t+50,e+112.5),n.lineTo(t+100,e+112.5),n.moveTo(t+62.5,e+37.5),n.lineTo(t+62.5,e+37.5-10),n.lineTo(t+87.5,e+37.5-10),n.lineTo(t+87.5,e+37.5),n.stroke(),n.closePath()}(t,0,a),function(t){t.fillStyle="rgb(125, 125, 125)",t.lineWidth=5,t.fillRect(0,0,Q,Q);let e=Q/6;t.lineWidth=3,t.strokeStyle=it,t.beginPath();for(let n=0;n<6;n++)t.moveTo(e*n,0),t.lineTo(e*n,Q);for(let n=0;n<6;n++)t.moveTo(0,e*n),t.lineTo(Q,e*n);t.stroke(),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=5,t.beginPath(),t.moveTo(Q/3,0),t.lineTo(Q/3,Q),t.moveTo(708.74,0),t.lineTo(708.74,Q),t.moveTo(718.74,0),t.lineTo(718.74,Q),t.moveTo(Q/3*2,0),t.lineTo(Q/3*2,Q),t.moveTo(Q/6*4,Q/6),t.lineTo(Q/6*5,0),t.moveTo(Q/6*2,Q/6*5),t.lineTo(Q/6*1,Q),t.stroke(),t.closePath(),lt(0,Q/6*2,et.toString(),t),lt(Q/6*5,Q/6*2,nt.toString(),t)}(a),s.forEach((t=>t.render(a))),!m){a.lineWidth=1,a.strokeStyle=it.toString(),a.beginPath();for(let e=0;e<48;e++)a.moveTo(n*e+(y?u%n:0),0),a.lineTo(n*e+(y?u%n:0),t);for(let e=0;e<48;e++)a.moveTo(0,n*e+(y?d%n:0)),a.lineTo(t,n*e+(y?d%n:0));a.stroke(),a.closePath()}for(let t=0;t<o.length;t++){c.index==t&&"points"==c.array?rt(o[t].x,o[t].y,e[o[t].step].toUnfinished().toString(),a):rt(o[t].x,o[t].y,e[o[t].step].toString(),a),a.strokeStyle=c.index!=t&&c.index+1!=t||"points"!=c.array?e[o[t].step].toString():e[o[t].step].toUnfinished().toString(),a.lineWidth=4.5,a.beginPath(),a.moveTo(null!==(k=null===(w=o[t-1])||void 0===w?void 0:w.x)&&void 0!==k?k:o[t].x,null!==(T=null===(S=o[t-1])||void 0===S?void 0:S.y)&&void 0!==T?T:o[t].y),a.lineTo(o[t].x,o[t].y),a.stroke(),a.closePath();let n=180*Math.atan2(o[t].y-(null===(_=o[t+1])||void 0===_?void 0:_.y),o[t].x-(null===(j=o[t+1])||void 0===j?void 0:j.x))/Math.PI-180*Math.atan2((null===(E=o[t-1])||void 0===E?void 0:E.y)-(null===(I=o[t])||void 0===I?void 0:I.y),(null===(M=o[t-1])||void 0===M?void 0:M.x)-o[t].x)/Math.PI;0==t&&(n=180*Math.atan2(o[0].y-(null===(A=o[1])||void 0===A?void 0:A.y),o[0].x-(null===(N=o[1])||void 0===N?void 0:N.x))/Math.PI),isNaN(n)||a.fillText(`${Math.round(n)}°`,o[t].x+40,o[t].y+40),a.fillStyle=c.index!=t&&c.index-1!=t||"points"!=c.array?e[null!==(U=null===(L=o[t+1])||void 0===L?void 0:L.step)&&void 0!==U?U:o[t].step].toString():e[null!==(W=null===(R=o[t+1])||void 0===R?void 0:R.step)&&void 0!==W?W:o[t].step].toUnfinished().toString();const s=Math.sqrt((o[t].x-(null===(F=o[t+1])||void 0===F?void 0:F.x))**2+(o[t].y-(null===(B=o[t+1])||void 0===B?void 0:B.y))**2)/4;n=180*Math.atan2(o[t].y-(null===(D=o[t+1])||void 0===D?void 0:D.y),o[t].x-(null===(O=o[t+1])||void 0===O?void 0:O.x))/Math.PI,a.save(),a.translate(o[t].x-(o[t].x-(null===(C=o[t+1])||void 0===C?void 0:C.x))/2,o[t].y-(o[t].y-(null===(q=o[t+1])||void 0===q?void 0:q.y))/2),a.rotate((n+(Math.abs(n)>90?180:0))/57),isNaN(s)||a.fillText(`${Math.round(100*(i?(G=s,.393701*G):s))/100}${i?"in":"cm"}`,0,-20),a.restore()}h&&!$&&"none"==c.array&&(a.lineWidth=3,a.strokeStyle=e[v].toUnfinished().toString(),a.beginPath(),0==o.length?a.moveTo(g,p):a.moveTo(u,d),a.lineTo(g,p),a.stroke(),a.closePath(),rt(g,p,e[v].toUnfinished().toString(),a)),null===(z=localStorage.getItem("all-slots-list"))||void 0===z||z.split("|"),await(K(),P),setTimeout(r,0)}()})),[l,function(t){E[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class Nt extends J{constructor(t){super(),Z(this,t,Kt,At,s,{})}}function Rt(t){let e,n;const o=t[1].default,i=function(t,e,n,o){if(t){const i=d(t,e,n,o);return t[0](i)}}(o,t,t[0],null);return{c(){e=m("div"),i&&i.c(),x(e,"class","svelte-sf86v0")},m(t,o){g(t,e,o),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&function(t,e,n,o,i,s){if(i){const r=d(e,n,o,s);t.p(r,i)}}(i,o,t,t[0],n?function(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|i[o];return t}return e.dirty|i}return e.dirty}(o,t[0],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[0]),null)},i(t){n||(q(i,t),n=!0)},o(t){z(i,t),n=!1},d(t){t&&p(e),i&&i.d(t)}}}function Wt(t,e,n){let{$$slots:o={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,o]}class Lt extends J{constructor(t){super(),Z(this,t,Wt,Rt,s,{})}}function Ut(t){let e,n,o,i,s,r;return{c(){e=m("input"),n=y(),o=m("p"),i=$(t[0]),x(e,"type","button"),x(e,"class","svelte-1od2vf2"),x(o,"class","svelte-1od2vf2")},m(l,a){g(l,e,a),g(l,n,a),g(l,o,a),h(o,i),s||(r=v(e,"click",t[1]),s=!0)},p(t,e){1&e&&b(i,t[0])},d(t){t&&p(e),t&&p(n),t&&p(o),s=!1,r()}}}function Ft(t){let e,n;return e=new Lt({props:{$$slots:{default:[Ut]},$$scope:{ctx:t}}}),{c(){H(e.$$.fragment)},m(t,o){V(e,t,o),n=!0},p(t,[n]){const o={};5&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Bt(t,e,n){let{label:o}=e;return t.$$set=t=>{"label"in t&&n(0,o=t.label)},[o,function(e){_.call(this,t,e)}]}class Dt extends J{constructor(t){super(),Z(this,t,Bt,Ft,s,{label:0})}}function Ot(e){let n,o,i,s,r,l;return n=new Dt({props:{label:"Delete Slot"}}),n.$on("click",e[0]),i=new Dt({props:{label:"Delete All Slots"}}),i.$on("click",e[1]),r=new Dt({props:{label:"Switch Slot..."}}),r.$on("click",e[2]),{c(){H(n.$$.fragment),o=y(),H(i.$$.fragment),s=y(),H(r.$$.fragment)},m(t,e){V(n,t,e),g(t,o,e),V(i,t,e),g(t,s,e),V(r,t,e),l=!0},p:t,i(t){l||(q(n.$$.fragment,t),q(i.$$.fragment,t),q(r.$$.fragment,t),l=!0)},o(t){z(n.$$.fragment,t),z(i.$$.fragment,t),z(r.$$.fragment,t),l=!1},d(t){Y(n,t),t&&p(o),Y(i,t),t&&p(s),Y(r,t)}}}function Ct(t,e,n){let o,i,s;u(t,Tt,(t=>n(4,o=t))),u(t,xt,(t=>n(5,i=t))),u(t,vt,(t=>n(6,s=t)));let r=null;const l=Tt.subscribe((t=>{var e,n;const l=null!==(n=null===(e=localStorage.getItem("all-slots-list"))||void 0===e?void 0:e.split("|"))&&void 0!==n?n:[];r&&l.includes(r)&&bt(r,s,i),r=t,wt(o)}));var a;return a=l,S().$$.on_destroy.push(a),[function(){var t,e;if(!confirm("Are you sure you want to delete your save?"))return;localStorage.removeItem(`slot-${o}`);const n=null===(t=localStorage.getItem("all-slots-list"))||void 0===t?void 0:t.split("|");n&&localStorage.setItem("all-slots-list",n.filter((t=>t!=o)).join("|")),f(Tt,o=null!==(e=n[0])&&void 0!==e?e:"slot1",o),wt(o),alert("Success!")},function(){if(!confirm("Are you sure you want to delete all of your saves?"))return;const t=localStorage.getItem("settings");localStorage.clear(),localStorage.setItem("settings",t),f(Tt,o="slot1",o),wt(o),alert("Success!")},function(){const t=localStorage.getItem("all-slots-list").split("|"),e=prompt(`Which slot to switch to?\nSlots: ${t.join(", ")}`);Tt.set(e),t.includes(e)||localStorage.setItem("all-slots-list",`${t}|${e}`)}]}class qt extends J{constructor(t){super(),Z(this,t,Ct,Ot,s,{})}}function zt(t){let e,n,i,s,r,l,a,c,u;return{c(){e=m("input"),n=y(),i=m("div"),s=m("input"),r=y(),l=m("p"),a=$(t[1]),x(e,"type","checkbox"),x(e,"class","svelte-1sijhex"),x(s,"type","checkbox"),w(s,"opacity","1"),w(s,"width","17px"),x(s,"class","svelte-1sijhex"),x(l,"class","svelte-1sijhex"),x(i,"class","svelte-1sijhex")},m(o,d){g(o,e,d),e.checked=t[0],g(o,n,d),g(o,i,d),h(i,s),s.checked=t[0],h(i,r),h(i,l),h(l,a),c||(u=[v(e,"change",t[3]),v(e,"click",t[2]),v(s,"change",t[4])],c=!0)},p(t,n){1&n&&(e.checked=t[0]),1&n&&(s.checked=t[0]),2&n&&b(a,t[1])},d(t){t&&p(e),t&&p(n),t&&p(i),c=!1,o(u)}}}function Gt(t){let e,n;return e=new Lt({props:{$$slots:{default:[zt]},$$scope:{ctx:t}}}),{c(){H(e.$$.fragment)},m(t,o){V(e,t,o),n=!0},p(t,[n]){const o={};35&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Ht(t,e,n){let{label:o}=e,{checked:i=!1}=e;return t.$$set=t=>{"label"in t&&n(1,o=t.label),"checked"in t&&n(0,i=t.checked)},[i,o,function(e){_.call(this,t,e)},function(){i=this.checked,n(0,i)},function(){i=this.checked,n(0,i)}]}class Vt extends J{constructor(t){super(),Z(this,t,Ht,Gt,s,{label:1,checked:0})}}function Yt(t){let e,n,o,i,s,r;function l(e){t[4](e)}let a={label:"Skills Mode"};function c(e){t[5](e)}void 0!==t[1]&&(a.checked=t[1]),e=new Vt({props:a}),E.push((()=>G(e,"checked",l))),e.$on("click",t[2]);let u={label:"Imperial Units"};return void 0!==t[0]&&(u.checked=t[0]),i=new Vt({props:u}),E.push((()=>G(i,"checked",c))),i.$on("click",t[3]),{c(){H(e.$$.fragment),o=y(),H(i.$$.fragment)},m(t,n){V(e,t,n),g(t,o,n),V(i,t,n),r=!0},p(t,[o]){const r={};!n&&2&o&&(n=!0,r.checked=t[1],R((()=>n=!1))),e.$set(r);const l={};!s&&1&o&&(s=!0,l.checked=t[0],R((()=>s=!1))),i.$set(l)},i(t){r||(q(e.$$.fragment,t),q(i.$$.fragment,t),r=!0)},o(t){z(e.$$.fragment,t),z(i.$$.fragment,t),r=!1},d(t){Y(e,t),t&&p(o),Y(i,t)}}}function Zt(t,e,n){let o,i;u(t,dt,(t=>n(0,o=t))),u(t,ut,(t=>n(1,i=t)));const s=()=>{f(ut,i=!i,i),l()},r=()=>{f(dt,o=!o,o),l()};function l(){localStorage.setItem("settings",`skills=${i}/imperial=${o}`)}return T((()=>{localStorage.getItem("settings")||l(),function(){const t=/skills=((?:false)|(?:true))\/imperial=((?:false)|(?:true))/,e=localStorage.getItem("settings");t.test(e)||l();const n=t.exec(e);"true"==n[1]&&s(),"true"==n[2]&&r()}()})),[o,i,s,r,function(t){i=t,ut.set(i)},function(t){o=t,dt.set(o)}]}class Jt extends J{constructor(t){super(),Z(this,t,Zt,Yt,s,{})}}function Qt(t){let e,n,o,i,s;return{c(){e=m("a"),n=$(t[1]),o=y(),i=m("img"),x(e,"href",t[0]),x(e,"target","_blank"),x(e,"rel","noopener noreferrer"),x(e,"class","svelte-hjjv0l"),a(i.src,s="./media/external-link.png")||x(i,"src","./media/external-link.png"),x(i,"alt","External Link"),x(i,"class","svelte-hjjv0l")},m(t,s){g(t,e,s),h(e,n),g(t,o,s),g(t,i,s)},p(t,o){2&o&&b(n,t[1]),1&o&&x(e,"href",t[0])},d(t){t&&p(e),t&&p(o),t&&p(i)}}}function Xt(t){let e,n;return e=new Lt({props:{$$slots:{default:[Qt]},$$scope:{ctx:t}}}),{c(){H(e.$$.fragment)},m(t,o){V(e,t,o),n=!0},p(t,[n]){const o={};7&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function te(t,e,n){let{link:o}=e,{label:i}=e;return t.$$set=t=>{"link"in t&&n(0,o=t.link),"label"in t&&n(1,i=t.label)},[o,i]}class ee extends J{constructor(t){super(),Z(this,t,te,Xt,c,{link:0,label:1})}}function ne(e){let n,o,i,s,r,l;return n=new ee({props:{label:"Github Repository",link:"https://github.com/iseau395/vrc-map/"}}),i=new ee({props:{label:"Report a bug",link:"https://github.com/iseau395/vrc-map/issues/new?assignees=&labels=bug&template=bug_report.md&title=%5BBug%5D+blah+blah+blah"}}),r=new ee({props:{label:"Request a Feature",link:"https://github.com/iseau395/vrc-map/issues/new?assignees=&labels=enhancement&template=feature_request.md&title=%5BFeature+Request%5D+blah+blah+blah"}}),{c(){H(n.$$.fragment),o=y(),H(i.$$.fragment),s=y(),H(r.$$.fragment)},m(t,e){V(n,t,e),g(t,o,e),V(i,t,e),g(t,s,e),V(r,t,e),l=!0},p:t,i(t){l||(q(n.$$.fragment,t),q(i.$$.fragment,t),q(r.$$.fragment,t),l=!0)},o(t){z(n.$$.fragment,t),z(i.$$.fragment,t),z(r.$$.fragment,t),l=!1},d(t){Y(n,t),t&&p(o),Y(i,t),t&&p(s),Y(r,t)}}}class oe extends J{constructor(t){super(),Z(this,t,null,ne,s,{})}}function ie(t){let e,n,o,i,s;return{c(){e=m("a"),n=$(t[1]),o=y(),i=m("img"),x(e,"href",t[0]),x(e,"target","_blank"),x(e,"rel","noopener noreferrer"),x(e,"class","svelte-hjjv0l"),a(i.src,s="./media/external-link.png")||x(i,"src","./media/external-link.png"),x(i,"alt","External Link"),x(i,"class","svelte-hjjv0l")},m(t,s){g(t,e,s),h(e,n),g(t,o,s),g(t,i,s)},p(t,o){2&o&&b(n,t[1]),1&o&&x(e,"href",t[0])},d(t){t&&p(e),t&&p(o),t&&p(i)}}}function se(t){let e,n;return e=new Lt({props:{$$slots:{default:[ie]},$$scope:{ctx:t}}}),{c(){H(e.$$.fragment)},m(t,o){V(e,t,o),n=!0},p(t,[n]){const o={};7&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function re(t,e,n){let{link:o}=e,{label:i}=e;return t.$$set=t=>{"link"in t&&n(0,o=t.link),"label"in t&&n(1,i=t.label)},[o,i]}class le extends J{constructor(t){super(),Z(this,t,re,se,c,{link:0,label:1})}}function ae(e){let n,o,i,s,r,l;return i=new le({props:{label:"Link",link:"https://iseau395.github.io/vrc-map/beta/spin-up/"}}),r=new le({props:{label:"Github Repository",link:"https://github.com/iseau395/vrc-map/tree/beta/"}}),{c(){n=m("p"),n.textContent="Disclamer: The beta is not finished yet",o=y(),H(i.$$.fragment),s=y(),H(r.$$.fragment),x(n,"class","svelte-w81jn4")},m(t,e){g(t,n,e),g(t,o,e),V(i,t,e),g(t,s,e),V(r,t,e),l=!0},p:t,i(t){l||(q(i.$$.fragment,t),q(r.$$.fragment,t),l=!0)},o(t){z(i.$$.fragment,t),z(r.$$.fragment,t),l=!1},d(t){t&&p(n),t&&p(o),Y(i,t),t&&p(s),Y(r,t)}}}class ce extends J{constructor(t){super(),Z(this,t,null,ae,s,{})}}function ue(t,e,n){const o=t.slice();return o[1]=e[n],o}function de(t){let e,n,o,i,s,r,l,a,c,u=t[1].label+"";var d=t[1].component;return d&&(r=new d({})),{c(){e=m("div"),n=m("span"),o=$(u),i=y(),s=m("div"),r&&H(r.$$.fragment),l=y(),a=m("div"),x(n,"class","svelte-5otyt4"),x(s,"class","dropdown-content svelte-5otyt4"),w(e,"height","24px"),w(e,"display","flex"),w(e,"align-items","center"),x(a,"class","seperator-line svelte-5otyt4")},m(t,u){g(t,e,u),h(e,n),h(n,o),h(e,i),h(e,s),r&&V(r,s,null),g(t,l,u),g(t,a,u),c=!0},p(t,e){if(d!==(d=t[1].component)){if(r){O();const t=r;z(t.$$.fragment,1,0,(()=>{Y(t,1)})),C()}d?(r=new d({}),H(r.$$.fragment),q(r.$$.fragment,1),V(r,s,null)):r=null}},i(t){c||(r&&q(r.$$.fragment,t),c=!0)},o(t){r&&z(r.$$.fragment,t),c=!1},d(t){t&&p(e),r&&Y(r),t&&p(l),t&&p(a)}}}function fe(t){let e,n,o=t[0],i=[];for(let e=0;e<o.length;e+=1)i[e]=de(ue(t,o,e));const s=t=>z(i[t],1,1,(()=>{i[t]=null}));return{c(){e=m("div");for(let t=0;t<i.length;t+=1)i[t].c();x(e,"class","bar svelte-5otyt4")},m(t,o){g(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[n]){if(1&n){let r;for(o=t[0],r=0;r<o.length;r+=1){const s=ue(t,o,r);i[r]?(i[r].p(s,n),q(i[r],1)):(i[r]=de(s),i[r].c(),q(i[r],1),i[r].m(e,null))}for(O(),r=o.length;r<i.length;r+=1)s(r);C()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)q(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)z(i[t]);n=!1},d(t){t&&p(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(i,t)}}}function he(t){return[[{label:"Slot",component:qt},{label:"View",component:Jt},{label:"Help",component:oe},{label:"New - Beta",component:ce}]]}class ge extends J{constructor(t){super(),Z(this,t,he,fe,s,{})}}function pe(e){let n,o,i,s,r;return n=new ge({}),s=new Nt({}),{c(){H(n.$$.fragment),o=y(),i=m("div"),H(s.$$.fragment),x(i,"class","body svelte-1dbxjoj")},m(t,e){V(n,t,e),g(t,o,e),g(t,i,e),V(s,i,null),r=!0},p:t,i(t){r||(q(n.$$.fragment,t),q(s.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),z(s.$$.fragment,t),r=!1},d(t){Y(n,t),t&&p(o),t&&p(i),Y(s)}}}return new class extends J{constructor(t){super(),Z(this,t,null,pe,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
