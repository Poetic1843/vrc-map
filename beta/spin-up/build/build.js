!function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function s(){return Object.create(null)}function i(t){t.forEach(n)}function c(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function h(t,e,n,s){if(t){const i=a(t,e,n,s);return t[0](i)}}function a(t,e,n,s){return t[1]&&s?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](s(e))):n.ctx}function l(t,e,n,s){if(t[2]&&s){const i=t[2](s(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|i[s];return t}return e.dirty|i}return e.dirty}function d(t,e,n,s,i,c){if(i){const o=a(e,n,s,c);t.p(o,i)}}function u(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function f(t,e,n){return t.set(n),e}const m="undefined"!=typeof window;let _=m?()=>window.performance.now():()=>Date.now(),g=m?t=>requestAnimationFrame(t):t;const p=new Set;function x(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&g(x)}function w(t,e){t.appendChild(e)}function y(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function $(t){const e=k("style");return function(t,e){w(t.head||t,e)}(y(t),e),e.sheet}function v(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function k(t){return document.createElement(t)}function T(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t){return document.createTextNode(t)}function S(){return P(" ")}function E(){return P("")}function I(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e,n,s){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}const K=new Map;let C,N=0;function Y(t,e,n,s,i,c,o,r=0){const h=16.666/s;let a="{\n";for(let t=0;t<=1;t+=h){const s=e+(n-e)*c(t);a+=100*t+`%{${o(s,1-s)}}\n`}const l=a+`100% {${o(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${r}`,u=y(t),{stylesheet:f,rules:m}=K.get(u)||function(t,e){const n={stylesheet:$(e),rules:{}};return K.set(t,n),n}(u,t);m[d]||(m[d]=!0,f.insertRule(`@keyframes ${d} ${l}`,f.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${d} ${s}ms linear ${i}ms 1 both`,N+=1,d}function X(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-s.length;i&&(t.style.animation=s.join(", "),N-=i,N||g((()=>{N||(K.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),K.clear())})))}function A(t){C=t}function R(){if(!C)throw new Error("Function called outside component initialization");return C}function W(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const U=[],Z=[],F=[],O=[],B=Promise.resolve();let D=!1;function j(t){F.push(t)}const G=new Set;let q,H=0;function V(){const t=C;do{for(;H<U.length;){const t=U[H];H++,A(t),J(t.$$)}for(A(null),U.length=0,H=0;Z.length;)Z.pop()();for(let t=0;t<F.length;t+=1){const e=F[t];G.has(e)||(G.add(e),e())}F.length=0}while(U.length);for(;O.length;)O.pop()();D=!1,G.clear(),A(t)}function J(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}function Q(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,s,e),i}(`${e?"intro":"outro"}${n}`))}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function st(){et.r||i(et.c),et=et.p}function it(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function ct(t,e,n,s){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push((()=>{tt.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}const ot={duration:0};function rt(n,s,o,r){let h=s(n,o),a=r?0:1,l=null,d=null,u=null;function f(){u&&X(n,u)}function m(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function w(s){const{delay:c=0,duration:o=300,easing:r=e,tick:w=t,css:y}=h||ot,$={start:_()+c,b:s};s||($.group=et,et.r+=1),l||d?d=$:(y&&(f(),u=Y(n,a,s,o,c,r,y)),s&&w(0,1),l=m($,o),j((()=>Q(n,s,"start"))),function(t){let e;0===p.size&&g(x),new Promise((n=>{p.add(e={c:t,f:n})}))}((t=>{if(d&&t>d.start&&(l=m(d,o),d=null,Q(n,l.b,"start"),y&&(f(),u=Y(n,a,l.b,l.duration,0,r,h.css))),l)if(t>=l.end)w(a=l.b,1-a),Q(n,l.b,"end"),d||(l.b?f():--l.group.r||i(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;a=l.a+l.d*r(e/l.duration),w(a,1-a)}return!(!l&&!d)})))}return{run(t){c(h)?(q||(q=Promise.resolve(),q.then((()=>{q=null}))),q).then((()=>{h=h(),w(t)})):w(t)},end(){f(),l=d=null}}}function ht(t){t&&t.c()}function at(t,e,s,o){const{fragment:r,on_mount:h,on_destroy:a,after_update:l}=t.$$;r&&r.m(e,s),o||j((()=>{const e=h.map(n).filter(c);a?a.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(j)}function lt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(t,e){-1===t.$$.dirty[0]&&(U.push(t),D||(D=!0,B.then(V)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ut(e,n,c,o,r,h,a,l=[-1]){const d=C;A(e);const u=e.$$={fragment:null,ctx:null,props:h,update:t,not_equal:r,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:s(),dirty:l,skip_bound:!1,root:n.target||d.$$.root};a&&a(u.root);let f=!1;if(u.ctx=c?c(e,n.props||{},((t,n,...s)=>{const i=s.length?s[0]:n;return u.ctx&&r(u.ctx[t],u.ctx[t]=i)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](i),f&&dt(e,t)),n})):[],u.update(),f=!0,i(u.before_update),u.fragment=!!o&&o(u.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);u.fragment&&u.fragment.l(t),t.forEach(b)}else u.fragment&&u.fragment.c();n.intro&&it(e.$$.fragment),at(e,n.target,n.anchor,n.customElement),V()}A(d)}class ft{$destroy(){lt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function mt(t){let e,n,s,c,o,r,a,f,m,_,g,p,x,y;const $=t[2].default,E=h($,t,t[1],null);return{c(){e=k("div"),n=S(),s=k("div"),c=k("div"),o=k("h1"),r=P(t[0]),a=S(),f=T("svg"),m=T("line"),_=T("line"),g=S(),E&&E.c(),M(e,"class","modal-background svelte-y9nh7m"),M(o,"class","svelte-y9nh7m"),M(m,"x1","5"),M(m,"y1","5"),M(m,"x2","35"),M(m,"y2","35"),L(m,"stroke","white"),L(m,"stroke-width","4"),M(_,"x1","35"),M(_,"y1","5"),M(_,"x2","5"),M(_,"y2","35"),L(_,"stroke","white"),L(_,"stroke-width","4"),M(f,"class","svelte-y9nh7m"),M(c,"class","modal-top-bar svelte-y9nh7m"),M(s,"class","modal svelte-y9nh7m")},m(i,h){v(i,e,h),v(i,n,h),v(i,s,h),w(s,c),w(c,o),w(o,r),w(c,a),w(c,f),w(f,m),w(f,_),w(s,g),E&&E.m(s,null),p=!0,x||(y=[I(e,"click",t[4]),I(f,"click",t[3])],x=!0)},p(t,[e]){(!p||1&e)&&z(r,t[0]),E&&E.p&&(!p||2&e)&&d(E,$,t,t[1],p?l($,t[1],e,null):u(t[1]),null)},i(t){p||(it(E,t),p=!0)},o(t){ct(E,t),p=!1},d(t){t&&b(e),t&&b(n),t&&b(s),E&&E.d(t),x=!1,i(y)}}}function _t(t,e,n){let{$$slots:s={},$$scope:i}=e,{title:c="Title Missing"}=e;return t.$$set=t=>{"title"in t&&n(0,c=t.title),"$$scope"in t&&n(1,i=t.$$scope)},[c,i,s,function(e){W.call(this,t,e)},function(e){W.call(this,t,e)}]}class gt extends ft{constructor(t){super(),ut(this,t,_t,mt,o,{title:0})}}function pt(e){let n,s,i,c,o,r,h,a,l,d,u,f,m;return{c(){n=k("div"),s=k("span"),i=P(e[1]),c=P(":"),o=S(),r=k("div"),h=k("div"),a=k("div"),d=S(),u=k("input"),M(s,"class","svelte-kn8yob"),M(a,"class","toggle-circle svelte-kn8yob"),M(h,"class",l="toggle "+(e[0]?"toggled":"")+" svelte-kn8yob"),M(u,"type","checkbox"),M(u,"class","svelte-kn8yob"),M(n,"class","toggle-wrapper svelte-kn8yob")},m(t,l){v(t,n,l),w(n,s),w(s,i),w(s,c),w(n,o),w(n,r),w(r,h),w(h,a),w(r,d),w(r,u),u.checked=e[0],f||(m=I(u,"change",e[2]),f=!0)},p(t,[e]){2&e&&z(i,t[1]),1&e&&l!==(l="toggle "+(t[0]?"toggled":"")+" svelte-kn8yob")&&M(h,"class",l),1&e&&(u.checked=t[0])},i:t,o:t,d(t){t&&b(n),f=!1,m()}}}function xt(t,e,n){let{value:s=!1}=e,{label:i="Missing Label"}=e;return t.$$set=t=>{"value"in t&&n(0,s=t.value),"label"in t&&n(1,i=t.label)},[s,i,function(){s=this.checked,n(0,s)}]}class wt extends ft{constructor(t){super(),ut(this,t,xt,pt,o,{value:0,label:1})}}const yt=[];function $t(e,n=t){let s;const i=new Set;function c(t){if(o(e,t)&&(e=t,s)){const t=!yt.length;for(const t of i)t[1](),yt.push(t,e);if(t){for(let t=0;t<yt.length;t+=2)yt[t][0](yt[t+1]);yt.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(o,r=t){const h=[o,r];return i.add(h),1===i.size&&(s=n(c)||t),o(e),()=>{i.delete(h),0===i.size&&(s(),s=null)}}}}const vt=$t(!1),bt=$t(!1);function kt(t){let e,n,s;function i(e){t[2](e)}let c={label:"Use Grid (g)"};return void 0!==t[1]&&(c.value=t[1]),e=new wt({props:c}),Z.push((()=>function(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}(e,"value",i))),{c(){ht(e.$$.fragment)},m(t,n){at(e,t,n),s=!0},p(t,s){const i={};var c;!n&&2&s&&(n=!0,i.value=t[1],c=()=>n=!1,O.push(c)),e.$set(i)},i(t){s||(it(e.$$.fragment,t),s=!0)},o(t){ct(e.$$.fragment,t),s=!1},d(t){lt(e,t)}}}function Tt(t){let e,n;return e=new gt({props:{title:"Settings",$$slots:{default:[kt]},$$scope:{ctx:t}}}),e.$on("click",t[3]),{c(){ht(e.$$.fragment)},m(t,s){at(e,t,s),n=!0},p(t,[n]){const s={};18&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(it(e.$$.fragment,t),n=!0)},o(t){ct(e.$$.fragment,t),n=!1},d(t){lt(e,t)}}}function Pt(t,e,n){let s,i;r(t,vt,(t=>n(0,s=t))),r(t,bt,(t=>n(1,i=t)));return[s,i,function(t){i=t,bt.set(i)},()=>f(vt,s=!1,s)]}class St extends ft{constructor(t){super(),ut(this,t,Pt,Tt,o,{})}}function Et(t){let e,n,s,i;const c=t[1].default,o=h(c,t,t[0],null);return{c(){e=k("div"),o&&o.c(),M(e,"class","svelte-1b1mv0y")},m(c,r){v(c,e,r),o&&o.m(e,null),n=!0,s||(i=I(e,"click",t[2]),s=!0)},p(t,[e]){o&&o.p&&(!n||1&e)&&d(o,c,t,t[0],n?l(c,t[0],e,null):u(t[0]),null)},i(t){n||(it(o,t),n=!0)},o(t){ct(o,t),n=!1},d(t){t&&b(e),o&&o.d(t),s=!1,i()}}}function It(t,e,n){let{$$slots:s={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,s,function(e){W.call(this,t,e)}]}class Mt extends ft{constructor(t){super(),ut(this,t,It,Et,o,{})}}function zt(t){const e=t-1;return e*e*e+1}function Lt(t,{delay:e=0,duration:n=400,easing:s=zt,x:i=0,y:c=0,opacity:o=0}={}){const r=getComputedStyle(t),h=+r.opacity,a="none"===r.transform?"":r.transform,l=h*(1-o);return{delay:e,duration:n,easing:s,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*i}px, ${(1-t)*c}px);\n\t\t\topacity: ${h-l*e}`}}function Kt(e){let n,s,i;return{c(){n=k("div"),n.innerHTML='<a href="../spin-up" class="svelte-1814ztf">Spin Up</a> \n    <a href="../tipping-point" class="svelte-1814ztf">Tipping Point</a>',M(n,"class","svelte-1814ztf")},m(t,e){v(t,n,e),i=!0},p:t,i(t){i||(j((()=>{s||(s=rt(n,Lt,{x:200,duration:100},!0)),s.run(1)})),i=!0)},o(t){s||(s=rt(n,Lt,{x:200,duration:100},!1)),s.run(0),i=!1},d(t){t&&b(n),t&&s&&s.end()}}}class Ct extends ft{constructor(t){super(),ut(this,t,null,Kt,o,{})}}function Nt(t){let e;return{c(){e=P("Settings")},m(t,n){v(t,e,n)},d(t){t&&b(e)}}}function Yt(t){let e;return{c(){e=P("GitHub")},m(t,n){v(t,e,n)},d(t){t&&b(e)}}}function Xt(t){let e;return{c(){e=P("≡")},m(t,n){v(t,e,n)},d(t){t&&b(e)}}}function At(t){let e,n;return e=new Ct({}),{c(){ht(e.$$.fragment)},m(t,s){at(e,t,s),n=!0},i(t){n||(it(e.$$.fragment,t),n=!0)},o(t){ct(e.$$.fragment,t),n=!1},d(t){lt(e,t)}}}function Rt(t){let e,n,s,i,c,o,r,h,a,l,d,u,f,m;c=new Mt({props:{$$slots:{default:[Nt]},$$scope:{ctx:t}}}),c.$on("click",t[2]),h=new Mt({props:{$$slots:{default:[Yt]},$$scope:{ctx:t}}}),d=new Mt({props:{$$slots:{default:[Xt]},$$scope:{ctx:t}}}),d.$on("click",t[3]);let _=t[0]&&At();return{c(){e=k("div"),n=k("span"),s=k("p"),s.textContent="VRC Field Map",i=S(),ht(c.$$.fragment),o=S(),r=k("a"),ht(h.$$.fragment),a=S(),l=k("div"),ht(d.$$.fragment),u=S(),_&&_.c(),f=E(),M(s,"class","svelte-oy4bv0"),M(r,"href","https://github.com/iseau395/vrc-map"),M(r,"target","_blank"),M(r,"rel","noopener noreferrer"),M(r,"class","svelte-oy4bv0"),M(n,"class","svelte-oy4bv0"),M(l,"class","hamburger-button svelte-oy4bv0"),M(e,"class","svelte-oy4bv0")},m(t,g){v(t,e,g),w(e,n),w(n,s),w(n,i),at(c,n,null),w(n,o),w(n,r),at(h,r,null),w(e,a),w(e,l),at(d,l,null),v(t,u,g),_&&_.m(t,g),v(t,f,g),m=!0},p(t,[e]){const n={};16&e&&(n.$$scope={dirty:e,ctx:t}),c.$set(n);const s={};16&e&&(s.$$scope={dirty:e,ctx:t}),h.$set(s);const i={};16&e&&(i.$$scope={dirty:e,ctx:t}),d.$set(i),t[0]?_?1&e&&it(_,1):(_=At(),_.c(),it(_,1),_.m(f.parentNode,f)):_&&(nt(),ct(_,1,1,(()=>{_=null})),st())},i(t){m||(it(c.$$.fragment,t),it(h.$$.fragment,t),it(d.$$.fragment,t),it(_),m=!0)},o(t){ct(c.$$.fragment,t),ct(h.$$.fragment,t),ct(d.$$.fragment,t),ct(_),m=!1},d(t){t&&b(e),lt(c),lt(h),lt(d),t&&b(u),_&&_.d(t),t&&b(f)}}}function Wt(t,e,n){let s;r(t,vt,(t=>n(1,s=t)));let i=!1;return[i,s,()=>f(vt,s=!0,s),()=>n(0,i=!i)]}class Ut extends ft{constructor(t){super(),ut(this,t,Wt,Rt,o,{})}}const Zt=1785;var Ft;async function Ot(t){switch(t){case Ft.TIPPING_POINT:return async function(){return new((await Promise.resolve().then((function(){return de}))).default)}();case Ft.SPIN_UP:return async function(){return new((await Promise.resolve().then((function(){return me}))).default)}();default:throw new Error(`Unknown game type: ${t}`)}}!function(t){t[t.TIPPING_POINT=0]="TIPPING_POINT",t[t.SPIN_UP=1]="SPIN_UP"}(Ft||(Ft={}));class Bt{constructor(t){this._dragX=0,this._dragY=0,this._mouseButton=-1,this._zoom=1,this._deltaScroll=0,this._mouseX=0,this._mouseY=0,this._altKey=!1,this._ctrlKey=!1,this._shiftKey=!1,this.keys=new Map,t.addEventListener("mousemove",(t=>this.mousemove(t))),t.addEventListener("mousedown",(t=>this.mousedown(t))),t.addEventListener("mouseup",(t=>this.mouseup(t))),t.addEventListener("contextmenu",(t=>this.contextmenu(t))),t.addEventListener("wheel",(t=>this.wheel(t)),{passive:!0}),t.addEventListener("scroll",(t=>this.scroll(t))),window.addEventListener("keydown",(t=>this.keydown(t))),window.addEventListener("keyup",(t=>this.keyup(t)))}mousemove(t){(1==this._mouseButton||0==this._mouseButton&&this._altKey)&&(this._dragX+=t.movementX,this._dragY+=t.movementY),this._mouseX=t.x,this._mouseY=t.y-50}mousedown(t){this._mouseButton=t.button}mouseup(t){this._mouseButton=-1}contextmenu(t){t.preventDefault()}wheel(t){this._shiftKey||(this._zoom+=-.002*t.deltaY,this._zoom=Math.min(Math.max(.125,this._zoom),4)),this._deltaScroll+=t.deltaY}scroll(t){t.preventDefault()}keydown(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._shiftKey=t.shiftKey,this.keys.set(t.code,!0)}keyup(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._shiftKey=t.shiftKey,this.keys.delete(t.code)}get dragX(){const t=this._dragX;return this._dragX=0,t}get dragY(){const t=this._dragY;return this._dragY=0,t}get zoom(){const t=this._zoom;return this._zoom=1,t}get deltaScroll(){const t=this._deltaScroll;return this._deltaScroll=0,t}get mouseButton(){return this._mouseButton}get mouseX(){return this._mouseX}get mouseY(){return this._mouseY}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get shiftKey(){return this._shiftKey}keyPressed(t){var e;return null!==(e=this.keys.get(t))&&void 0!==e&&e}}class Dt{constructor(t,e){this.fieldZoom=.065,this.prevFieldZoom=this.fieldZoom,this.fieldX=t/2-Zt*this.fieldZoom*3.05,this.fieldY=e/2-Zt*this.fieldZoom*3.05,this.prevFieldX=this.fieldX,this.prevFieldY=this.fieldY}tick(t,e,n){this.fieldX+=t,this.fieldY+=e,this.fieldX=Math.floor(this.fieldX),this.fieldY=Math.floor(this.fieldY),this.fieldZoom*=n,this.fieldZoom=Math.min(Math.max(.4,this.fieldZoom),1.5)}translate(t){t.translate(this.fieldX,this.fieldY),t.scale(this.fieldZoom,this.fieldZoom)}render(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}changed(){const t=this.fieldX!=this.prevFieldX||this.fieldY!=this.prevFieldY||this.fieldZoom!=this.prevFieldZoom;return this.prevFieldX=this.fieldX,this.prevFieldY=this.fieldY,this.prevFieldZoom=this.fieldZoom,t}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=Zt,this.cache_ctx.canvas.height=Zt,this.cache_ctx.fillStyle="rgb(159, 159, 159)",this.cache_ctx.fillRect(0,0,Zt,Zt),this.cache_ctx.beginPath();for(let t=0;t<6;t++)this.cache_ctx.moveTo(297.5*(t+1),0),this.cache_ctx.lineTo(297.5*(t+1),Zt);for(let t=0;t<6;t++)this.cache_ctx.moveTo(0,297.5*(t+1)),this.cache_ctx.lineTo(Zt,297.5*(t+1));this.cache_ctx.strokeStyle="rgba(100, 100, 100, 0.2)",this.cache_ctx.lineWidth=5,this.cache_ctx.stroke()}zoom(){return this.fieldZoom}x(){return this.fieldX}y(){return this.fieldY}}class jt{constructor(){this.gridSize=48}snap(t,e){return[Math.round(t/(Zt/this.gridSize))*(Zt/this.gridSize),Math.round(e/(Zt/this.gridSize))*(Zt/this.gridSize)]}render(t,e,n,s){const i=Zt/this.gridSize*s;let c=e%i,o=n%i;for(t.beginPath();c<t.canvas.width;)t.moveTo(c,Math.min(-n/s,0)),t.lineTo(c,t.canvas.height),c+=i;for(;o<t.canvas.height;)t.moveTo(Math.min(-e/s,0),o),t.lineTo(t.canvas.width,o),o+=i;t.strokeStyle="rgba(100, 100, 100, 0.5)",t.lineWidth=1,t.stroke()}}class Gt extends class{constructor(t,e,n){this.x=t,this.y=e,this.r=n}pointInside(t,e){throw new Error("Unimplimented")}update(t,e,n){if(this.x=t,this.y=e,n/=1.25,!this.rotate_step)throw new Error("Missing rotate_step!");this.r+=Math.floor(n/this.rotate_step)*this.rotate_step}render(t){throw new Error("Unimplimented")}}{pointInside(t,e){if(!this.diameter)throw new Error("Missing diameter!");return(t-this.x)**2+(e-this.y)**2<=(this.diameter/2*5+5)**2}}class qt extends Gt{constructor(){super(...arguments),this.diameter=8.5,this.rotate_step=1}render(t){t.lineWidth=0,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5-7.5,0,2*Math.PI),t.closePath(),t.fill(),t.lineWidth=5,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5,0,2*Math.PI),t.closePath(),t.stroke()}get_x(){return this.x}get_y(){return this.y}}class Ht{constructor(){this.selection=-1,this.added_point=!1,this.points=[]}tick(t,e,n,s,i,c,o,r){if(c&&0==i){if(!this.has_selection())for(const n of this.points)if(n.pointInside(t,e)){this.selection=this.points.indexOf(n);break}this.has_selection()&&this.points[this.selection].update(n,s,r)}else 2==i&&0==this.added_point?(this.points.push(new qt(n,s,0)),this.added_point=!0):2!=i&&(this.added_point=!1),this.selection=-1}render(t){t.fillStyle="rgb(255, 0, 0)",t.strokeStyle="rgb(255, 0, 0)",t.lineWidth=5,t.beginPath(),this.points.forEach(((e,n)=>0==n?t.moveTo(e.get_x(),e.get_y()):t.lineTo(e.get_x(),e.get_y()))),t.stroke(),this.points.forEach((e=>e.render(t)))}has_selection(){return this.selection>=0}}function Vt(e){let n,s,i;return{c(){n=k("canvas"),s=S(),i=k("canvas"),L(n,"z-index","-1"),M(n,"class","svelte-19dzfsr"),L(i,"z-index","0"),M(i,"class","svelte-19dzfsr")},m(t,c){v(t,n,c),e[2](n),v(t,s,c),v(t,i,c),e[3](i)},p:t,i:t,o:t,d(t){t&&b(n),e[2](null),t&&b(s),t&&b(i),e[3](null)}}}function Jt(t,e,n){let s,i,c;r(t,bt,(t=>n(6,s=t)));const o=(h=Symbol.for("game"),R().$$.context.get(h));var h;let a,l;var d;return window.onbeforeunload=function(){return!0},d=async()=>{const t=i.getContext("2d",{alpha:!1}),e=c.getContext("2d",{alpha:!0}),r=new Bt(c),h=new Dt(window.innerWidth,window.innerHeight-50),d=new jt,u=new Ht,m=await Ot(o),_=()=>{n(0,i.width=window.innerWidth,i),n(0,i.height=window.innerHeight-50,i),n(1,c.width=window.innerWidth,c),n(1,c.height=window.innerHeight-50,c),g(e,t,!0,!0)};function g(t,e,n,o){(h.changed()||o)&&(e.fillStyle="rgb(80, 80, 80)",e.fillRect(0,0,i.width,i.height),e.save(),h.translate(e),h.render(e),m.render_static(e),e.restore()),t.clearRect(0,0,c.width,c.height),t.save(),n&&h.translate(t),m.render(t),u.render(t),t.restore(),s&&d.render(t,h.x(),h.y(),h.zoom()),o||(l=requestAnimationFrame((()=>g(t,e,n,!1))))}window.addEventListener("resize",_);let p=!1;function x(){const t=(r.mouseX-h.x())/h.zoom(),e=(r.mouseY-h.y())/h.zoom();r.keyPressed("KeyG")&&!p?(f(bt,s=!s,s),p=!0):r.keyPressed("KeyG")||(p=!1);const[n,i]=s?d.snap(t,e):[t,e];h.tick(r.dragX,r.dragY,r.zoom),m.has_selection()||u.tick(t,e,n,i,r.mouseButton,r.shiftKey,r.ctrlKey,r.deltaScroll),r.altKey||u.has_selection()||m.tick(t,e,n,i,r.mouseButton,r.shiftKey,r.ctrlKey,r.deltaScroll)}a=setInterval(x,20),x(),_(),g(e,t,!0,!1)},R().$$.on_mount.push(d),function(t){R().$$.on_destroy.push(t)}((()=>{clearInterval(a),cancelAnimationFrame(l)})),[i,c,function(t){Z[t?"unshift":"push"]((()=>{i=t,n(0,i)}))},function(t){Z[t?"unshift":"push"]((()=>{c=t,n(1,c)}))}]}class Qt extends ft{constructor(t){super(),ut(this,t,Jt,Vt,o,{})}}function te(e){let n;return{c(){n=k("p"),n.textContent="It looks like you are on a device without a mouse or touchpad. If you can, please plug in one of these devices, as this field map is designed to use them.\r\n    If you can't plug one in, then try to switch to another device which can have on plugged in.",M(n,"class","svelte-48ahf8")},m(t,e){v(t,n,e)},i:t,o:t,d(t){t&&b(n)}}}function ee(t){let e,n;return e=new Qt({}),{c(){ht(e.$$.fragment)},m(t,s){at(e,t,s),n=!0},i(t){n||(it(e.$$.fragment,t),n=!0)},o(t){ct(e.$$.fragment,t),n=!1},d(t){lt(e,t)}}}function ne(t){let e,n;return e=new St({}),{c(){ht(e.$$.fragment)},m(t,s){at(e,t,s),n=!0},i(t){n||(it(e.$$.fragment,t),n=!0)},o(t){ct(e.$$.fragment,t),n=!1},d(t){lt(e,t)}}}function se(t){let e,n,s,i,c,o,r;e=new Ut({});const h=[ee,te],a=[];function l(t,e){return t[0]?0:1}s=l(t),i=a[s]=h[s](t);let d=t[1]&&ne();return{c(){ht(e.$$.fragment),n=S(),i.c(),c=S(),d&&d.c(),o=E()},m(t,i){at(e,t,i),v(t,n,i),a[s].m(t,i),v(t,c,i),d&&d.m(t,i),v(t,o,i),r=!0},p(t,[e]){let n=s;s=l(t),s!==n&&(nt(),ct(a[n],1,1,(()=>{a[n]=null})),st(),i=a[s],i||(i=a[s]=h[s](t),i.c()),it(i,1),i.m(c.parentNode,c)),t[1]?d?2&e&&it(d,1):(d=ne(),d.c(),it(d,1),d.m(o.parentNode,o)):d&&(nt(),ct(d,1,1,(()=>{d=null})),st())},i(t){r||(it(e.$$.fragment,t),it(i),it(d),r=!0)},o(t){ct(e.$$.fragment,t),ct(i),ct(d),r=!1},d(t){lt(e,t),t&&b(n),a[s].d(t),t&&b(c),d&&d.d(t),t&&b(o)}}}function ie(t,e,n){let s,i;r(t,vt,(t=>n(1,i=t)));const c=window.matchMedia("(hover: hover)"),o=window.matchMedia("(pointer: fine)");let h=c.matches,a=o.matches;return c.onchange=t=>{n(2,h=t.matches)},o.onchange=t=>{n(3,a=t.matches)},t.$$.update=()=>{12&t.$$.dirty&&n(0,s=h||a)},[s,i,h,a]}new class extends ft{constructor(t){super(),ut(this,t,ie,se,o,{})}}({target:document.body,context:new Map([[Symbol.for("game"),Ft.SPIN_UP]])});const ce="rgb(255, 0, 0)",oe="rgb(0, 0, 255)",re="rgb(255, 255, 255)";var he;!function(t){t[t.RED_ALLIANCE=0]="RED_ALLIANCE",t[t.BLUE_ALLIANCE=1]="BLUE_ALLIANCE",t[t.NEUTRAL=2]="NEUTRAL"}(he||(he={}));class ae extends Gt{constructor(t,e,n,s){super(t,e,n),this.diameter=33,this.rotate_step=90,this.variation=s}drawMogo(t){switch(this.variation){case 0:t.fillStyle=ce;break;case 1:t.fillStyle=oe;break;case 2:t.fillStyle="rgb(255, 255, 0)"}t.strokeStyle="rgb(50, 50, 50)",t.lineWidth=2.5,function(t,e,n,s,i,c){const o=2*Math.PI/s,r=Math.PI+i/360*(2*Math.PI);c.beginPath();for(let i=0;i<=s;i++){const s=i*o+r;c.lineTo(t+n*Math.cos(s),e+n*Math.sin(s))}c.fill(),c.stroke(),c.closePath()}(this.diameter/2*5,this.diameter/2*5,this.diameter/2*5,7,4*Math.PI,t)}render(t){switch(this.variation){case he.RED_ALLIANCE:ae.red_cache||(ae.red_cache=document.createElement("canvas").getContext("2d"),ae.red_cache.canvas.width=5*this.diameter,ae.red_cache.canvas.height=5*this.diameter,this.drawMogo(ae.red_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(ae.red_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore();break;case he.BLUE_ALLIANCE:ae.blue_cache||(ae.blue_cache=document.createElement("canvas").getContext("2d"),ae.blue_cache.canvas.width=5*this.diameter,ae.blue_cache.canvas.height=5*this.diameter,this.drawMogo(ae.blue_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(ae.blue_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore();break;case he.NEUTRAL:ae.neutral_cache||(ae.neutral_cache=document.createElement("canvas").getContext("2d"),ae.neutral_cache.canvas.width=5*this.diameter,ae.neutral_cache.canvas.height=5*this.diameter,this.drawMogo(ae.neutral_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(ae.neutral_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore()}}}class le extends Gt{constructor(){super(...arguments),this.diameter=5.23875,this.rotate_step=1}render(t){t.strokeStyle="rgb(200, 100, 200)",t.lineWidth=13.4925,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5,0,2*Math.PI),t.stroke(),t.fill}}var de=Object.freeze({__proto__:null,default:class{constructor(){this.selection={arr:-1,index:-1},this.mogos=[new ae(446.25,1636.25,90,0),new ae(148.75,557.8125,0,0),new ae(1338.75,148.75,270,1),new ae(1636.25,1227.1875,180,1),new ae(892.5,446.25,180,2),new ae(892.5,892.5,180,2),new ae(892.5,1338.75,0,2)],this.rings=[new le(50,50,0)]}drawPlatform(t,e,n,s){const i=673.1,c=254;t+=27.625000000000014,e-=40,s.strokeStyle=n,s.lineCap="butt",s.lineWidth=20,s.beginPath(),s.moveTo(t+c/9,e+84.1375),s.lineTo(t+c-c/9,e+84.1375),s.lineTo(t+c-c/9,e+588.9625),s.lineTo(t+c/9,e+588.9625),s.lineTo(t+c/9,e+84.1375-s.lineWidth/2),s.stroke(),s.fillStyle="rgba(255, 255, 255, 0.12)",s.fillRect(t,e,c,i),s.strokeStyle="rgb(0, 0, 0)",s.lineWidth=1.5,s.beginPath(),s.moveTo(t+c+1,e),s.lineTo(t+c+1,e+i),s.moveTo(t-1,e),s.lineTo(t-1,e+i),s.stroke()}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=Zt,this.cache_ctx.canvas.height=Zt,this.cache_ctx.strokeStyle=re,this.cache_ctx.lineWidth=5.5,this.cache_ctx.beginPath(),this.cache_ctx.moveTo(595,0),this.cache_ctx.lineTo(595,Zt),this.cache_ctx.moveTo(887.5,0),this.cache_ctx.lineTo(887.5,Zt),this.cache_ctx.moveTo(897.5,0),this.cache_ctx.lineTo(897.5,Zt),this.cache_ctx.moveTo(1190,0),this.cache_ctx.lineTo(1190,Zt),this.cache_ctx.moveTo(1190,297.5),this.cache_ctx.lineTo(1487.5,0),this.cache_ctx.moveTo(595,1487.5),this.cache_ctx.lineTo(297.5,Zt),this.cache_ctx.stroke(),this.drawPlatform(0,595,ce,this.cache_ctx),this.drawPlatform(1487.5,595,oe,this.cache_ctx)}tick(t,e,n,s,i,c,o,r){if(c&&0==i){if(-1==this.selection.arr){for(const n of this.mogos)if(n.pointInside(t,e)){this.selection.arr=0,this.selection.index=this.mogos.indexOf(n);break}for(const n of this.rings)if(n.pointInside(t,e)){this.selection.arr=1,this.selection.index=this.rings.indexOf(n);break}}0==this.selection.arr&&this.mogos[this.selection.index].update(n,s,r),1==this.selection.arr&&this.rings[this.selection.index].update(n,s,r)}else this.selection.arr=-1,this.selection.index=-1}render(t){this.mogos.forEach((e=>e.render(t))),this.rings.forEach((e=>e.render(t)))}render_static(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}has_selection(){return this.selection.arr>=0}}});class ue extends Gt{constructor(t,e){super(t,e,0),this.diameter=14,this.rotate_step=1}render(t){t.fillStyle="rgb(232, 212, 33)",t.lineWidth=13.4925,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle="rgb(220, 200, 21)",t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5-12.7,0,2*Math.PI),t.closePath(),t.fill()}}class fe{constructor(t,e,n,s=0){this.was_pressed=!1,this.x=t,this.y=e,this.horrizontal=n,this.state=s}render(t){t.strokeStyle="rgba(0, 0, 0, 0)",0!=this.state?(-1==this.state&&(t.fillStyle=oe),1==this.state&&(t.fillStyle=ce),t.fillRect(this.x,this.y,this.horrizontal?fe.long_side:fe.short_side,this.horrizontal?fe.short_side:fe.long_side)):this.horrizontal?(t.fillStyle=oe,t.fillRect(this.x,this.y,fe.long_side,fe.short_side/2),t.fillStyle=ce,t.fillRect(this.x,this.y+fe.short_side/2,fe.long_side,fe.short_side/2)):(t.fillStyle=oe,t.fillRect(this.x,this.y,fe.short_side/2,fe.long_side),t.fillStyle=ce,t.fillRect(this.x+fe.short_side/2,this.y,fe.short_side/2,fe.long_side))}update(t,e,n){this.pointInside(t,e)&&0==n&&!this.was_pressed?(this.state++,this.state>1&&(this.state=-1),this.was_pressed=!0):0!=n&&(this.was_pressed=!1)}pointInside(t,e){return t>this.x&&e>this.y&&t<this.x+(this.horrizontal?fe.long_side:fe.short_side)&&e<this.y+(this.horrizontal?fe.short_side:fe.long_side)}}fe.long_side=124.46,fe.short_side=30.48;var me=Object.freeze({__proto__:null,default:class{constructor(){this.selected_disk=-1,this.disks=[new ue(148.75,148.75),new ue(297.5,297.5),new ue(446.25,441.25),new ue(446.25,436.25),new ue(446.25,431.25),new ue(595,595),new ue(743.75,743.75),new ue(1041.25,1041.25),new ue(1190,1190),new ue(1338.75,1333.75),new ue(1338.75,1328.75),new ue(1338.75,1323.75),new ue(1487.5,1487.5),new ue(1636.25,1636.25),new ue(743.75,446.25),new ue(892.5,595),new ue(1041.25,743.75),new ue(1338.75,1036.25),new ue(1338.75,1031.25),new ue(1338.75,1026.25),new ue(743.75,1041.25),new ue(892.5,1190),new ue(1041.25,1338.75),new ue(446.25,738.75),new ue(446.25,733.75),new ue(446.25,728.75),new ue(1152.8125,334.6875),new ue(1152.8125,446.25),new ue(1152.8125,557.8125),new ue(1227.1875,632.1875),new ue(1338.75,632.1875),new ue(1450.3125,632.1875),new ue(334.6875,1152.8125),new ue(446.25,1152.8125),new ue(557.8125,1152.8125),new ue(632.1875,1227.1875),new ue(632.1875,1338.75),new ue(632.1875,1450.3125),new ue(-148.75,624.75),new ue(-148.75,714),new ue(-148.75,1160.25),new ue(-148.75,1071),new ue(1933.75,624.75),new ue(1933.75,714),new ue(1933.75,1160.25),new ue(1933.75,1071),new ue(-297.5,624.75),new ue(-297.5,714),new ue(-297.5,803.25),new ue(-297.5,892.5),new ue(-297.5,981.75),new ue(-297.5,1071),new ue(-297.5,1160.25),new ue(2082.5,624.75),new ue(2082.5,714),new ue(2082.5,803.25),new ue(2082.5,892.5),new ue(2082.5,981.75),new ue(2082.5,1071),new ue(2082.5,1160.25)],this.rollers=[new fe(0,297.5,!1),new fe(297.5,0,!0),new fe(Zt-fe.short_side,1487.5-fe.long_side,!1),new fe(1487.5-fe.long_side,Zt-fe.short_side,!0)]}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=Zt,this.cache_ctx.canvas.height=Zt,this.cache_ctx.strokeStyle=re,this.cache_ctx.lineWidth=5.5,this.cache_ctx.lineCap="square",this.cache_ctx.beginPath(),this.cache_ctx.moveTo(25,0),this.cache_ctx.lineTo(Zt,1760),this.cache_ctx.moveTo(0,25),this.cache_ctx.lineTo(1760,Zt),this.cache_ctx.moveTo(0,297.5),this.cache_ctx.lineTo(148.75,297.5),this.cache_ctx.moveTo(595,0),this.cache_ctx.lineTo(595,148.75),this.cache_ctx.moveTo(Zt,1487.5),this.cache_ctx.lineTo(1636.25,1487.5),this.cache_ctx.moveTo(1190,Zt),this.cache_ctx.lineTo(1190,1636.25),this.cache_ctx.moveTo(1190,0),this.cache_ctx.lineTo(1190,297.5),this.cache_ctx.moveTo(Zt,595),this.cache_ctx.lineTo(1487.5,595),this.cache_ctx.moveTo(0,1190),this.cache_ctx.lineTo(297.5,1190),this.cache_ctx.moveTo(595,Zt),this.cache_ctx.lineTo(595,1487.5),this.cache_ctx.stroke(),this.cache_ctx.strokeStyle=ce,this.cache_ctx.lineWidth=12.7,this.cache_ctx.lineCap="round",this.cache_ctx.beginPath(),this.cache_ctx.moveTo(297.5,1190),this.cache_ctx.lineTo(595,1190),this.cache_ctx.lineTo(595,1487.5),this.cache_ctx.stroke(),this.cache_ctx.strokeStyle=oe,this.cache_ctx.beginPath(),this.cache_ctx.moveTo(1190,297.5),this.cache_ctx.lineTo(1190,595),this.cache_ctx.lineTo(1487.5,595),this.cache_ctx.stroke(),this.cache_ctx.strokeStyle="rgb(200, 200, 200)",this.cache_ctx.lineWidth=25.4,this.cache_ctx.lineCap="square",this.cache_ctx.beginPath(),this.cache_ctx.moveTo(1190,0),this.cache_ctx.lineTo(Zt,595),this.cache_ctx.moveTo(0,1190),this.cache_ctx.lineTo(595,Zt),this.cache_ctx.stroke();this.cache_ctx.fillStyle=ce,this.cache_ctx.beginPath(),this.cache_ctx.arc(1487.5,297.5,19.9771*5,0,2*Math.PI),this.cache_ctx.closePath(),this.cache_ctx.fill(),this.cache_ctx.fillStyle=oe,this.cache_ctx.beginPath(),this.cache_ctx.arc(297.5,1487.5,19.9771*5,0,2*Math.PI),this.cache_ctx.closePath(),this.cache_ctx.fill()}tick(t,e,n,s,i,c,o,r){if(c&&0==i){if(!this.has_selection())for(const n of this.disks)if(n.pointInside(t,e)){this.selected_disk=this.disks.indexOf(n);break}this.selected_disk>=0&&this.disks[this.selected_disk].update(n,s,r)}else this.selected_disk=-1;if(!this.has_selection())for(const n of this.rollers)n.update(t,e,i)}render(t){t.strokeStyle=ce,t.lineWidth=15,t.lineCap="square",t.beginPath(),t.moveTo(-446.25,148.75),t.lineTo(-74.375,148.75),t.lineTo(-74.375,1636.25),t.lineTo(-446.25,1636.25),t.stroke(),t.strokeStyle=oe,t.beginPath(),t.moveTo(2231.25,148.75),t.lineTo(1859.375,148.75),t.lineTo(1859.375,1636.25),t.lineTo(2231.25,1636.25),t.stroke(),this.rollers.forEach((e=>{e.render(t)})),this.disks.forEach((e=>{e.render(t)}))}render_static(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}has_selection(){return this.selected_disk>=0}}})}();
