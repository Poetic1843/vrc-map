!function(){"use strict";function t(){}const e=t=>t;function i(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(i)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e,i,n){if(t){const s=h(t,e,i,n);return t[0](s)}}function h(t,e,i,n){return t[1]&&n?function(t,e){for(const i in e)t[i]=e[i];return t}(i.ctx.slice(),t[1](n(e))):i.ctx}function a(t,e,i,n){if(t[2]&&n){const s=t[2](n(i));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],i=Math.max(e.dirty.length,s.length);for(let n=0;n<i;n+=1)t[n]=e.dirty[n]|s[n];return t}return e.dirty|s}return e.dirty}function l(t,e,i,n,s,o){if(s){const c=h(e,i,n,o);t.p(c,s)}}function d(t){if(t.ctx.length>32){const e=[],i=t.ctx.length/32;for(let t=0;t<i;t++)e[t]=-1;return e}return-1}const u="undefined"!=typeof window;let f=u?()=>window.performance.now():()=>Date.now(),m=u?t=>requestAnimationFrame(t):t;const _=new Set;function g(t){_.forEach((e=>{e.c(t)||(_.delete(e),e.f())})),0!==_.size&&m(g)}function x(t,e){t.appendChild(e)}function p(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function w(t){const e=$("style");return function(t,e){x(t.head||t,e)}(p(t),e),e.sheet}function y(t,e,i){t.insertBefore(e,i||null)}function v(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function T(){return k(" ")}function P(){return k("")}function E(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function S(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function I(t,e,i,n){null===i?t.style.removeProperty(e):t.style.setProperty(e,i,n?"important":"")}const M=new Map;let z,L=0;function K(t,e,i,n,s,o,c,r=0){const h=16.666/n;let a="{\n";for(let t=0;t<=1;t+=h){const n=e+(i-e)*o(t);a+=100*t+`%{${c(n,1-n)}}\n`}const l=a+`100% {${c(i,1-i)}}\n}`,d=`__svelte_${function(t){let e=5381,i=t.length;for(;i--;)e=(e<<5)-e^t.charCodeAt(i);return e>>>0}(l)}_${r}`,u=p(t),{stylesheet:f,rules:m}=M.get(u)||function(t,e){const i={stylesheet:w(e),rules:{}};return M.set(t,i),i}(u,t);m[d]||(m[d]=!0,f.insertRule(`@keyframes ${d} ${l}`,f.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${d} ${n}ms linear ${s}ms 1 both`,L+=1,d}function N(t,e){const i=(t.style.animation||"").split(", "),n=i.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=i.length-n.length;s&&(t.style.animation=n.join(", "),L-=s,L||m((()=>{L||(M.forEach((t=>{const{stylesheet:e}=t;let i=e.cssRules.length;for(;i--;)e.deleteRule(i);t.rules={}})),M.clear())})))}function C(t){z=t}function Y(){if(!z)throw new Error("Function called outside component initialization");return z}function X(t,e){const i=t.$$.callbacks[e.type];i&&i.slice().forEach((t=>t.call(this,e)))}const A=[],R=[],W=[],O=[],Z=Promise.resolve();let F=!1;function B(t){W.push(t)}const U=new Set;let D,j=0;function q(){const t=z;do{for(;j<A.length;){const t=A[j];j++,C(t),H(t.$$)}for(C(null),A.length=0,j=0;R.length;)R.pop()();for(let t=0;t<W.length;t+=1){const e=W[t];U.has(e)||(U.add(e),e())}W.length=0}while(A.length);for(;O.length;)O.pop()();F=!1,U.clear(),C(t)}function H(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}function G(t,e,i){t.dispatchEvent(function(t,e,i=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,i,!1,e),n}(`${e?"intro":"outro"}${i}`))}const V=new Set;let J;function Q(){J={r:0,c:[],p:J}}function tt(){J.r||s(J.c),J=J.p}function et(t,e){t&&t.i&&(V.delete(t),t.i(e))}function it(t,e,i,n){if(t&&t.o){if(V.has(t))return;V.add(t),J.c.push((()=>{V.delete(t),n&&(i&&t.d(1),n())})),t.o(e)}}const nt={duration:0};function st(i,n,c,r){let h=n(i,c),a=r?0:1,l=null,d=null,u=null;function x(){u&&N(i,u)}function p(t,e){const i=t.b-a;return e*=Math.abs(i),{a:a,b:t.b,d:i,duration:e,start:t.start,end:t.start+e,group:t.group}}function w(n){const{delay:o=0,duration:c=300,easing:r=e,tick:w=t,css:y}=h||nt,v={start:f()+o,b:n};n||(v.group=J,J.r+=1),l||d?d=v:(y&&(x(),u=K(i,a,n,c,o,r,y)),n&&w(0,1),l=p(v,c),B((()=>G(i,n,"start"))),function(t){let e;0===_.size&&m(g),new Promise((i=>{_.add(e={c:t,f:i})}))}((t=>{if(d&&t>d.start&&(l=p(d,c),d=null,G(i,l.b,"start"),y&&(x(),u=K(i,a,l.b,l.duration,0,r,h.css))),l)if(t>=l.end)w(a=l.b,1-a),G(i,l.b,"end"),d||(l.b?x():--l.group.r||s(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;a=l.a+l.d*r(e/l.duration),w(a,1-a)}return!(!l&&!d)})))}return{run(t){o(h)?(D||(D=Promise.resolve(),D.then((()=>{D=null}))),D).then((()=>{h=h(),w(t)})):w(t)},end(){x(),l=d=null}}}function ot(t){t&&t.c()}function ct(t,e,n,c){const{fragment:r,on_mount:h,on_destroy:a,after_update:l}=t.$$;r&&r.m(e,n),c||B((()=>{const e=h.map(i).filter(o);a?a.push(...e):s(e),t.$$.on_mount=[]})),l.forEach(B)}function rt(t,e){const i=t.$$;null!==i.fragment&&(s(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function ht(t,e){-1===t.$$.dirty[0]&&(A.push(t),F||(F=!0,Z.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(e,i,o,c,r,h,a,l=[-1]){const d=z;C(e);const u=e.$$={fragment:null,ctx:null,props:h,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(d?d.$$.context:[])),callbacks:n(),dirty:l,skip_bound:!1,root:i.target||d.$$.root};a&&a(u.root);let f=!1;if(u.ctx=o?o(e,i.props||{},((t,i,...n)=>{const s=n.length?n[0]:i;return u.ctx&&r(u.ctx[t],u.ctx[t]=s)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](s),f&&ht(e,t)),i})):[],u.update(),f=!0,s(u.before_update),u.fragment=!!c&&c(u.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);u.fragment&&u.fragment.l(t),t.forEach(v)}else u.fragment&&u.fragment.c();i.intro&&et(e.$$.fragment),ct(e,i.target,i.anchor,i.customElement),q()}C(d)}class lt{$destroy(){rt(this,1),this.$destroy=t}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function dt(t){let e,i,n,s,o,c,h,u,f,m,_,g,p;const w=t[2].default,P=r(w,t,t[1],null);return{c(){e=$("div"),i=$("div"),n=$("div"),s=$("h1"),o=k(t[0]),c=T(),h=b("svg"),u=b("line"),f=b("line"),m=T(),P&&P.c(),S(s,"class","svelte-17a23oi"),S(u,"x1","5"),S(u,"y1","5"),S(u,"x2","35"),S(u,"y2","35"),I(u,"stroke","white"),I(u,"stroke-width","4"),S(f,"x1","35"),S(f,"y1","5"),S(f,"x2","5"),S(f,"y2","35"),I(f,"stroke","white"),I(f,"stroke-width","4"),S(h,"class","svelte-17a23oi"),S(n,"class","modal-top-bar svelte-17a23oi"),S(i,"class","modal svelte-17a23oi"),S(e,"class","modal-background svelte-17a23oi")},m(r,a){y(r,e,a),x(e,i),x(i,n),x(n,s),x(s,o),x(n,c),x(n,h),x(h,u),x(h,f),x(i,m),P&&P.m(i,null),_=!0,g||(p=E(h,"click",t[3]),g=!0)},p(t,[e]){(!_||1&e)&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(o,t[0]),P&&P.p&&(!_||2&e)&&l(P,w,t,t[1],_?a(w,t[1],e,null):d(t[1]),null)},i(t){_||(et(P,t),_=!0)},o(t){it(P,t),_=!1},d(t){t&&v(e),P&&P.d(t),g=!1,p()}}}function ut(t,e,i){let{$$slots:n={},$$scope:s}=e,{title:o="Title Missing"}=e;return t.$$set=t=>{"title"in t&&i(0,o=t.title),"$$scope"in t&&i(1,s=t.$$scope)},[o,s,n,function(e){X.call(this,t,e)}]}class ft extends lt{constructor(t){super(),at(this,t,ut,dt,c,{title:0})}}function mt(t){let e,i,n,s;const o=t[1].default,c=r(o,t,t[0],null);return{c(){e=$("div"),c&&c.c(),S(e,"class","svelte-1vayqny")},m(o,r){y(o,e,r),c&&c.m(e,null),i=!0,n||(s=E(e,"click",t[2]),n=!0)},p(t,[e]){c&&c.p&&(!i||1&e)&&l(c,o,t,t[0],i?a(o,t[0],e,null):d(t[0]),null)},i(t){i||(et(c,t),i=!0)},o(t){it(c,t),i=!1},d(t){t&&v(e),c&&c.d(t),n=!1,s()}}}function _t(t,e,i){let{$$slots:n={},$$scope:s}=e;return t.$$set=t=>{"$$scope"in t&&i(0,s=t.$$scope)},[s,n,function(e){X.call(this,t,e)}]}class gt extends lt{constructor(t){super(),at(this,t,_t,mt,c,{})}}function xt(t){const e=t-1;return e*e*e+1}function pt(t,{delay:e=0,duration:i=400,easing:n=xt,x:s=0,y:o=0,opacity:c=0}={}){const r=getComputedStyle(t),h=+r.opacity,a="none"===r.transform?"":r.transform,l=h*(1-c);return{delay:e,duration:i,easing:n,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*s}px, ${(1-t)*o}px);\n\t\t\topacity: ${h-l*e}`}}function wt(e){let i,n,s;return{c(){i=$("div"),i.innerHTML='<a href="../spin-up" class="svelte-1814ztf">Spin Up</a> \n    <a href="../tipping-point" class="svelte-1814ztf">Tipping Point</a>',S(i,"class","svelte-1814ztf")},m(t,e){y(t,i,e),s=!0},p:t,i(t){s||(B((()=>{n||(n=st(i,pt,{x:200,duration:100},!0)),n.run(1)})),s=!0)},o(t){n||(n=st(i,pt,{x:200,duration:100},!1)),n.run(0),s=!1},d(t){t&&v(i),t&&n&&n.end()}}}class yt extends lt{constructor(t){super(),at(this,t,null,wt,c,{})}}function vt(t){let e;return{c(){e=k("â‰¡")},m(t,i){y(t,e,i)},d(t){t&&v(e)}}}function $t(t){let e,i;return e=new yt({}),{c(){ot(e.$$.fragment)},m(t,n){ct(e,t,n),i=!0},i(t){i||(et(e.$$.fragment,t),i=!0)},o(t){it(e.$$.fragment,t),i=!1},d(t){rt(e,t)}}}function bt(t){let e,i,n,s,o,c,r,h;o=new gt({props:{$$slots:{default:[vt]},$$scope:{ctx:t}}}),o.$on("click",t[1]);let a=t[0]&&$t();return{c(){e=$("div"),i=$("span"),i.innerHTML='<p class="svelte-1uts12u">VRC Field Map</p>',n=T(),s=$("div"),ot(o.$$.fragment),c=T(),a&&a.c(),r=P(),S(i,"class","svelte-1uts12u"),S(s,"class","hamburger-button svelte-1uts12u"),S(e,"class","svelte-1uts12u")},m(t,l){y(t,e,l),x(e,i),x(e,n),x(e,s),ct(o,s,null),y(t,c,l),a&&a.m(t,l),y(t,r,l),h=!0},p(t,[e]){const i={};4&e&&(i.$$scope={dirty:e,ctx:t}),o.$set(i),t[0]?a?1&e&&et(a,1):(a=$t(),a.c(),et(a,1),a.m(r.parentNode,r)):a&&(Q(),it(a,1,1,(()=>{a=null})),tt())},i(t){h||(et(o.$$.fragment,t),et(a),h=!0)},o(t){it(o.$$.fragment,t),it(a),h=!1},d(t){t&&v(e),rt(o),t&&v(c),a&&a.d(t),t&&v(r)}}}function kt(t,e,i){let n=!1;return[n,()=>i(0,n=!n)]}class Tt extends lt{constructor(t){super(),at(this,t,kt,bt,c,{})}}const Pt=1785;var Et;async function St(t){switch(t){case Et.TIPPING_POINT:return async function(){return new((await Promise.resolve().then((function(){return Ht}))).default)}();case Et.SPIN_UP:return async function(){return new((await Promise.resolve().then((function(){return Jt}))).default)}();default:throw new Error(`Unknown game type: ${t}`)}}!function(t){t[t.TIPPING_POINT=0]="TIPPING_POINT",t[t.SPIN_UP=1]="SPIN_UP"}(Et||(Et={}));class It{constructor(t){this._dragX=0,this._dragY=0,this._mouseButton=-1,this._zoom=1,this._deltaScroll=0,this._mouseX=0,this._mouseY=0,this._altKey=!1,this._ctrlKey=!1,this._shiftKey=!1,this.keys=new Map,t.addEventListener("mousemove",(t=>this.mousemove(t))),t.addEventListener("mousedown",(t=>this.mousedown(t))),t.addEventListener("mouseup",(t=>this.mouseup(t))),t.addEventListener("contextmenu",(t=>this.contextmenu(t))),t.addEventListener("wheel",(t=>this.wheel(t))),t.addEventListener("scroll",(t=>this.scroll(t))),window.addEventListener("keydown",(t=>this.keydown(t))),window.addEventListener("keyup",(t=>this.keyup(t)))}mousemove(t){(1==this._mouseButton||0==this._mouseButton&&this._altKey)&&(this._dragX+=t.movementX,this._dragY+=t.movementY),this._mouseX=t.x,this._mouseY=t.y-50}mousedown(t){this._mouseButton=t.button}mouseup(t){this._mouseButton=-1}contextmenu(t){t.preventDefault()}wheel(t){t.preventDefault(),this._shiftKey||(this._zoom+=-.002*t.deltaY,this._zoom=Math.min(Math.max(.125,this._zoom),4)),this._deltaScroll+=t.deltaY}scroll(t){t.preventDefault()}keydown(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._shiftKey=t.shiftKey,this.keys.set(t.key,!0)}keyup(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._shiftKey=t.shiftKey,this.keys.delete(t.key)}get dragX(){const t=this._dragX;return this._dragX=0,t}get dragY(){const t=this._dragY;return this._dragY=0,t}get zoom(){const t=this._zoom;return this._zoom=1,t}get deltaScroll(){const t=this._deltaScroll;return this._deltaScroll=0,t}get mouseButton(){return this._mouseButton}get mouseX(){return this._mouseX}get mouseY(){return this._mouseY}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get shiftKey(){return this._shiftKey}keyPressed(t){return this.keys.has(t)}}class Mt{constructor(t,e){this.fieldZoom=.065,this.prevFieldZoom=this.fieldZoom,this.fieldX=t/2-Pt*this.fieldZoom*3.05,this.fieldY=e/2-Pt*this.fieldZoom*3.05,this.prevFieldX=this.fieldX,this.prevFieldY=this.fieldY}tick(t,e,i){this.fieldX+=t,this.fieldY+=e,this.fieldX=Math.floor(this.fieldX),this.fieldY=Math.floor(this.fieldY),this.fieldZoom*=i,this.fieldZoom=Math.min(Math.max(.4,this.fieldZoom),1.5)}translate(t){t.translate(this.fieldX,this.fieldY),t.scale(this.fieldZoom,this.fieldZoom)}render(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}changed(){const t=this.fieldX!=this.prevFieldX||this.fieldY!=this.prevFieldY||this.fieldZoom!=this.prevFieldZoom;return this.prevFieldX=this.fieldX,this.prevFieldY=this.fieldY,this.prevFieldZoom=this.fieldZoom,t}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=Pt,this.cache_ctx.canvas.height=Pt,this.cache_ctx.fillStyle="rgb(159, 159, 159)",this.cache_ctx.fillRect(0,0,Pt,Pt),this.cache_ctx.beginPath();for(let t=0;t<6;t++)this.cache_ctx.moveTo(297.5*(t+1),0),this.cache_ctx.lineTo(297.5*(t+1),Pt);for(let t=0;t<6;t++)this.cache_ctx.moveTo(0,297.5*(t+1)),this.cache_ctx.lineTo(Pt,297.5*(t+1));this.cache_ctx.strokeStyle="rgba(100, 100, 100, 0.2)",this.cache_ctx.lineWidth=5,this.cache_ctx.stroke()}zoom(){return this.fieldZoom}x(){return this.fieldX}y(){return this.fieldY}}class zt{constructor(){this.gridSize=48}snap(t,e){return[Math.round(t/(Pt/this.gridSize))*(Pt/this.gridSize),Math.round(e/(Pt/this.gridSize))*(Pt/this.gridSize)]}render(t,e,i,n){const s=Pt/this.gridSize*n;let o=e%s,c=i%s;for(t.beginPath();o<t.canvas.width;)t.moveTo(o,Math.min(-i/n,0)),t.lineTo(o,t.canvas.height),o+=s;for(;c<t.canvas.height;)t.moveTo(Math.min(-e/n,0),c),t.lineTo(t.canvas.width,c),c+=s;t.strokeStyle="rgba(100, 100, 100, 0.5)",t.lineWidth=1,t.stroke()}}class Lt extends class{constructor(t,e,i){this.x=t,this.y=e,this.r=i}pointInside(t,e){throw new Error("Unimplimented")}update(t,e,i){if(this.x=t,this.y=e,i/=1.25,!this.rotate_step)throw new Error("Missing rotate_step!");this.r+=Math.floor(i/this.rotate_step)*this.rotate_step}render(t){throw new Error("Unimplimented")}}{pointInside(t,e){if(!this.diameter)throw new Error("Missing diameter!");return(t-this.x)**2+(e-this.y)**2<=(this.diameter/2*5+5)**2}}class Kt extends Lt{constructor(){super(...arguments),this.diameter=8.5,this.rotate_step=1}render(t){t.lineWidth=0,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5-7.5,0,2*Math.PI),t.closePath(),t.fill(),t.lineWidth=5,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5,0,2*Math.PI),t.closePath(),t.stroke()}get_x(){return this.x}get_y(){return this.y}}class Nt{constructor(){this.selection=-1,this.added_point=!1,this.points=[]}tick(t,e,i,n,s,o,c,r){if(o&&0==s){if(!this.has_selection())for(const i of this.points)if(i.pointInside(t,e)){this.selection=this.points.indexOf(i);break}this.has_selection()&&this.points[this.selection].update(i,n,r)}else 2==s&&0==this.added_point?(this.points.push(new Kt(i,n,0)),this.added_point=!0):2!=s&&(this.added_point=!1),this.selection=-1}render(t){t.fillStyle="rgb(255, 0, 0)",t.strokeStyle="rgb(255, 0, 0)",t.lineWidth=5,t.beginPath(),this.points.forEach(((e,i)=>0==i?t.moveTo(e.get_x(),e.get_y()):t.lineTo(e.get_x(),e.get_y()))),t.stroke(),this.points.forEach((e=>e.render(t)))}has_selection(){return this.selection>=0}}function Ct(e){let i,n,s;return{c(){i=$("canvas"),n=T(),s=$("canvas"),I(i,"z-index","-1"),S(i,"class","svelte-19dzfsr"),I(s,"z-index","0"),S(s,"class","svelte-19dzfsr")},m(t,o){y(t,i,o),e[2](i),y(t,n,o),y(t,s,o),e[3](s)},p:t,i:t,o:t,d(t){t&&v(i),e[2](null),t&&v(n),t&&v(s),e[3](null)}}}function Yt(t,e,i){let n,s;const o=(c=Symbol.for("game"),Y().$$.context.get(c));var c;let r,h,a=!0;var l;return window.onbeforeunload=function(){return!0},l=async()=>{const t=n.getContext("2d",{alpha:!1}),e=s.getContext("2d",{alpha:!0}),c=new It(s),l=new Mt(window.innerWidth,window.innerHeight-50),d=new zt,u=new Nt,f=await St(o),m=()=>{i(0,n.width=window.innerWidth,n),i(0,n.height=window.innerHeight-50,n),i(1,s.width=window.innerWidth,s),i(1,s.height=window.innerHeight-50,s),a=!0,_()};function _(){(l.changed()||a)&&(t.fillStyle="rgb(80, 80, 80)",t.fillRect(0,0,n.width,n.height),t.save(),l.translate(t),l.render(t),f.render_static(t),t.restore(),a=!1),e.clearRect(0,0,s.width,s.height),e.save(),l.translate(e),f.render(e),u.render(e),e.restore(),c.ctrlKey&&d.render(e,l.x(),l.y(),l.zoom()),h=requestAnimationFrame(_)}function g(){const t=(c.mouseX-l.x())/l.zoom(),e=(c.mouseY-l.y())/l.zoom(),[i,n]=c.ctrlKey?d.snap(t,e):[t,e];l.tick(c.dragX,c.dragY,c.zoom),f.has_selection()||u.tick(t,e,i,n,c.mouseButton,c.shiftKey,c.ctrlKey,c.deltaScroll),c.altKey||u.has_selection()||f.tick(t,e,i,n,c.mouseButton,c.shiftKey,c.ctrlKey,c.deltaScroll)}window.addEventListener("resize",m),r=setInterval(g,20),g(),m()},Y().$$.on_mount.push(l),function(t){Y().$$.on_destroy.push(t)}((()=>{clearInterval(r),cancelAnimationFrame(h)})),[n,s,function(t){R[t?"unshift":"push"]((()=>{n=t,i(0,n)}))},function(t){R[t?"unshift":"push"]((()=>{s=t,i(1,s)}))}]}class Xt extends lt{constructor(t){super(),at(this,t,Yt,Ct,c,{})}}function At(e){let i;return{c(){i=$("p"),i.textContent="It looks like you are on a device without a mouse or touchpad. If you can, please plug in one of these devices, as this field map is designed to use them.\r\n    If you can't plug one in, then try to switch to another device which can have on plugged in.",S(i,"class","svelte-48ahf8")},m(t,e){y(t,i,e)},i:t,o:t,d(t){t&&v(i)}}}function Rt(t){let e,i;return e=new Xt({}),{c(){ot(e.$$.fragment)},m(t,n){ct(e,t,n),i=!0},i(t){i||(et(e.$$.fragment,t),i=!0)},o(t){it(e.$$.fragment,t),i=!1},d(t){rt(e,t)}}}function Wt(e){let i,n;return i=new ft({props:{title:"Settings"}}),i.$on("click",e[4]),{c(){ot(i.$$.fragment)},m(t,e){ct(i,t,e),n=!0},p:t,i(t){n||(et(i.$$.fragment,t),n=!0)},o(t){it(i.$$.fragment,t),n=!1},d(t){rt(i,t)}}}function Ot(t){let e,i,n,s,o,c,r;e=new Tt({});const h=[Rt,At],a=[];function l(t,e){return t[1]?0:1}n=l(t),s=a[n]=h[n](t);let d=t[0]&&Wt(t);return{c(){ot(e.$$.fragment),i=T(),s.c(),o=T(),d&&d.c(),c=P()},m(t,s){ct(e,t,s),y(t,i,s),a[n].m(t,s),y(t,o,s),d&&d.m(t,s),y(t,c,s),r=!0},p(t,[e]){let i=n;n=l(t),n!==i&&(Q(),it(a[i],1,1,(()=>{a[i]=null})),tt(),s=a[n],s||(s=a[n]=h[n](t),s.c()),et(s,1),s.m(o.parentNode,o)),t[0]?d?(d.p(t,e),1&e&&et(d,1)):(d=Wt(t),d.c(),et(d,1),d.m(c.parentNode,c)):d&&(Q(),it(d,1,1,(()=>{d=null})),tt())},i(t){r||(et(e.$$.fragment,t),et(s),et(d),r=!0)},o(t){it(e.$$.fragment,t),it(s),it(d),r=!1},d(t){rt(e,t),t&&v(i),a[n].d(t),t&&v(o),d&&d.d(t),t&&v(c)}}}function Zt(t,e,i){let n;const s=window.matchMedia("(hover: hover)"),o=window.matchMedia("(pointer: fine)");let c=s.matches,r=o.matches;s.onchange=t=>{i(2,c=t.matches)},o.onchange=t=>{i(3,r=t.matches)};let h=!1;return t.$$.update=()=>{12&t.$$.dirty&&i(1,n=c||r)},[h,n,c,r,()=>i(0,h=!1)]}new class extends lt{constructor(t){super(),at(this,t,Zt,Ot,c,{})}}({target:document.body,context:new Map([[Symbol.for("game"),Et.TIPPING_POINT]])});const Ft="rgb(255, 0, 0)",Bt="rgb(0, 0, 255)",Ut="rgb(255, 255, 255)";var Dt;!function(t){t[t.RED_ALLIANCE=0]="RED_ALLIANCE",t[t.BLUE_ALLIANCE=1]="BLUE_ALLIANCE",t[t.NEUTRAL=2]="NEUTRAL"}(Dt||(Dt={}));class jt extends Lt{constructor(t,e,i,n){super(t,e,i),this.diameter=33,this.rotate_step=90,this.variation=n}drawMogo(t){switch(this.variation){case 0:t.fillStyle=Ft;break;case 1:t.fillStyle=Bt;break;case 2:t.fillStyle="rgb(255, 255, 0)"}t.strokeStyle="rgb(50, 50, 50)",t.lineWidth=2.5,function(t,e,i,n,s,o){const c=2*Math.PI/n,r=Math.PI+s/360*(2*Math.PI);o.beginPath();for(let s=0;s<=n;s++){const n=s*c+r;o.lineTo(t+i*Math.cos(n),e+i*Math.sin(n))}o.fill(),o.stroke(),o.closePath()}(this.diameter/2*5,this.diameter/2*5,this.diameter/2*5,7,4*Math.PI,t)}render(t){switch(this.variation){case Dt.RED_ALLIANCE:jt.red_cache||(jt.red_cache=document.createElement("canvas").getContext("2d"),jt.red_cache.canvas.width=5*this.diameter,jt.red_cache.canvas.height=5*this.diameter,this.drawMogo(jt.red_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(jt.red_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore();break;case Dt.BLUE_ALLIANCE:jt.blue_cache||(jt.blue_cache=document.createElement("canvas").getContext("2d"),jt.blue_cache.canvas.width=5*this.diameter,jt.blue_cache.canvas.height=5*this.diameter,this.drawMogo(jt.blue_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(jt.blue_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore();break;case Dt.NEUTRAL:jt.neutral_cache||(jt.neutral_cache=document.createElement("canvas").getContext("2d"),jt.neutral_cache.canvas.width=5*this.diameter,jt.neutral_cache.canvas.height=5*this.diameter,this.drawMogo(jt.neutral_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(jt.neutral_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore()}}}class qt extends Lt{constructor(){super(...arguments),this.diameter=5.23875,this.rotate_step=1}render(t){t.strokeStyle="rgb(200, 100, 200)",t.lineWidth=13.4925,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5,0,2*Math.PI),t.stroke(),t.fill}}var Ht=Object.freeze({__proto__:null,default:class{constructor(){this.selection={arr:-1,index:-1},this.mogos=[new jt(446.25,1636.25,90,0),new jt(148.75,557.8125,0,0),new jt(1338.75,148.75,270,1),new jt(1636.25,1227.1875,180,1),new jt(892.5,446.25,180,2),new jt(892.5,892.5,180,2),new jt(892.5,1338.75,0,2)],this.rings=[new qt(50,50,0)]}drawPlatform(t,e,i,n){const s=673.1,o=254;t+=27.625000000000014,e-=40,n.strokeStyle=i,n.lineCap="butt",n.lineWidth=20,n.beginPath(),n.moveTo(t+o/9,e+84.1375),n.lineTo(t+o-o/9,e+84.1375),n.lineTo(t+o-o/9,e+588.9625),n.lineTo(t+o/9,e+588.9625),n.lineTo(t+o/9,e+84.1375-n.lineWidth/2),n.stroke(),n.fillStyle="rgba(255, 255, 255, 0.12)",n.fillRect(t,e,o,s),n.strokeStyle="rgb(0, 0, 0)",n.lineWidth=1.5,n.beginPath(),n.moveTo(t+o+1,e),n.lineTo(t+o+1,e+s),n.moveTo(t-1,e),n.lineTo(t-1,e+s),n.stroke()}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=Pt,this.cache_ctx.canvas.height=Pt,this.cache_ctx.strokeStyle=Ut,this.cache_ctx.lineWidth=5.5,this.cache_ctx.beginPath(),this.cache_ctx.moveTo(595,0),this.cache_ctx.lineTo(595,Pt),this.cache_ctx.moveTo(887.5,0),this.cache_ctx.lineTo(887.5,Pt),this.cache_ctx.moveTo(897.5,0),this.cache_ctx.lineTo(897.5,Pt),this.cache_ctx.moveTo(1190,0),this.cache_ctx.lineTo(1190,Pt),this.cache_ctx.moveTo(1190,297.5),this.cache_ctx.lineTo(1487.5,0),this.cache_ctx.moveTo(595,1487.5),this.cache_ctx.lineTo(297.5,Pt),this.cache_ctx.stroke(),this.drawPlatform(0,595,Ft,this.cache_ctx),this.drawPlatform(1487.5,595,Bt,this.cache_ctx)}tick(t,e,i,n,s,o,c,r){if(o&&0==s){if(-1==this.selection.arr){for(const i of this.mogos)if(i.pointInside(t,e)){this.selection.arr=0,this.selection.index=this.mogos.indexOf(i);break}for(const i of this.rings)if(i.pointInside(t,e)){this.selection.arr=1,this.selection.index=this.rings.indexOf(i);break}}0==this.selection.arr&&this.mogos[this.selection.index].update(i,n,r),1==this.selection.arr&&this.rings[this.selection.index].update(i,n,r)}else this.selection.arr=-1,this.selection.index=-1}render(t){this.mogos.forEach((e=>e.render(t))),this.rings.forEach((e=>e.render(t)))}render_static(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}has_selection(){return this.selection.arr>=0}}});class Gt extends Lt{constructor(t,e){super(t,e,0),this.diameter=14,this.rotate_step=1}render(t){t.fillStyle="rgb(232, 212, 33)",t.lineWidth=13.4925,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle="rgb(220, 200, 21)",t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5-12.7,0,2*Math.PI),t.closePath(),t.fill()}}class Vt{constructor(t,e,i,n=0){this.was_pressed=!1,this.x=t,this.y=e,this.horrizontal=i,this.state=n}render(t){t.strokeStyle="rgba(0, 0, 0, 0)",0!=this.state?(-1==this.state&&(t.fillStyle=Bt),1==this.state&&(t.fillStyle=Ft),t.fillRect(this.x,this.y,this.horrizontal?Vt.long_side:Vt.short_side,this.horrizontal?Vt.short_side:Vt.long_side)):this.horrizontal?(t.fillStyle=Bt,t.fillRect(this.x,this.y,Vt.long_side,Vt.short_side/2),t.fillStyle=Ft,t.fillRect(this.x,this.y+Vt.short_side/2,Vt.long_side,Vt.short_side/2)):(t.fillStyle=Bt,t.fillRect(this.x,this.y,Vt.short_side/2,Vt.long_side),t.fillStyle=Ft,t.fillRect(this.x+Vt.short_side/2,this.y,Vt.short_side/2,Vt.long_side))}update(t,e,i){this.pointInside(t,e)&&0==i&&!this.was_pressed?(this.state++,this.state>1&&(this.state=-1),this.was_pressed=!0):0!=i&&(this.was_pressed=!1)}pointInside(t,e){return t>this.x&&e>this.y&&t<this.x+(this.horrizontal?Vt.long_side:Vt.short_side)&&e<this.y+(this.horrizontal?Vt.short_side:Vt.long_side)}}Vt.long_side=124.46,Vt.short_side=30.48;var Jt=Object.freeze({__proto__:null,default:class{constructor(){this.selected_disk=-1,this.disks=[new Gt(148.75,148.75),new Gt(297.5,297.5),new Gt(446.25,441.25),new Gt(446.25,436.25),new Gt(446.25,431.25),new Gt(595,595),new Gt(743.75,743.75),new Gt(1041.25,1041.25),new Gt(1190,1190),new Gt(1338.75,1333.75),new Gt(1338.75,1328.75),new Gt(1338.75,1323.75),new Gt(1487.5,1487.5),new Gt(1636.25,1636.25),new Gt(743.75,446.25),new Gt(892.5,595),new Gt(1041.25,743.75),new Gt(1338.75,1036.25),new Gt(1338.75,1031.25),new Gt(1338.75,1026.25),new Gt(743.75,1041.25),new Gt(892.5,1190),new Gt(1041.25,1338.75),new Gt(446.25,738.75),new Gt(446.25,733.75),new Gt(446.25,728.75),new Gt(1152.8125,334.6875),new Gt(1152.8125,446.25),new Gt(1152.8125,557.8125),new Gt(1227.1875,632.1875),new Gt(1338.75,632.1875),new Gt(1450.3125,632.1875),new Gt(334.6875,1152.8125),new Gt(446.25,1152.8125),new Gt(557.8125,1152.8125),new Gt(632.1875,1227.1875),new Gt(632.1875,1338.75),new Gt(632.1875,1450.3125),new Gt(-148.75,624.75),new Gt(-148.75,714),new Gt(-148.75,1160.25),new Gt(-148.75,1071),new Gt(1933.75,624.75),new Gt(1933.75,714),new Gt(1933.75,1160.25),new Gt(1933.75,1071),new Gt(-297.5,624.75),new Gt(-297.5,714),new Gt(-297.5,803.25),new Gt(-297.5,892.5),new Gt(-297.5,981.75),new Gt(-297.5,1071),new Gt(-297.5,1160.25),new Gt(2082.5,624.75),new Gt(2082.5,714),new Gt(2082.5,803.25),new Gt(2082.5,892.5),new Gt(2082.5,981.75),new Gt(2082.5,1071),new Gt(2082.5,1160.25)],this.rollers=[new Vt(0,297.5,!1),new Vt(297.5,0,!0),new Vt(Pt-Vt.short_side,1487.5-Vt.long_side,!1),new Vt(1487.5-Vt.long_side,Pt-Vt.short_side,!0)]}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=Pt,this.cache_ctx.canvas.height=Pt,this.cache_ctx.strokeStyle=Ut,this.cache_ctx.lineWidth=5.5,this.cache_ctx.lineCap="square",this.cache_ctx.beginPath(),this.cache_ctx.moveTo(25,0),this.cache_ctx.lineTo(Pt,1760),this.cache_ctx.moveTo(0,25),this.cache_ctx.lineTo(1760,Pt),this.cache_ctx.moveTo(0,297.5),this.cache_ctx.lineTo(148.75,297.5),this.cache_ctx.moveTo(595,0),this.cache_ctx.lineTo(595,148.75),this.cache_ctx.moveTo(Pt,1487.5),this.cache_ctx.lineTo(1636.25,1487.5),this.cache_ctx.moveTo(1190,Pt),this.cache_ctx.lineTo(1190,1636.25),this.cache_ctx.moveTo(1190,0),this.cache_ctx.lineTo(1190,297.5),this.cache_ctx.moveTo(Pt,595),this.cache_ctx.lineTo(1487.5,595),this.cache_ctx.moveTo(0,1190),this.cache_ctx.lineTo(297.5,1190),this.cache_ctx.moveTo(595,Pt),this.cache_ctx.lineTo(595,1487.5),this.cache_ctx.stroke(),this.cache_ctx.strokeStyle=Ft,this.cache_ctx.lineWidth=12.7,this.cache_ctx.lineCap="round",this.cache_ctx.beginPath(),this.cache_ctx.moveTo(297.5,1190),this.cache_ctx.lineTo(595,1190),this.cache_ctx.lineTo(595,1487.5),this.cache_ctx.stroke(),this.cache_ctx.strokeStyle=Bt,this.cache_ctx.beginPath(),this.cache_ctx.moveTo(1190,297.5),this.cache_ctx.lineTo(1190,595),this.cache_ctx.lineTo(1487.5,595),this.cache_ctx.stroke(),this.cache_ctx.strokeStyle="rgb(200, 200, 200)",this.cache_ctx.lineWidth=25.4,this.cache_ctx.lineCap="square",this.cache_ctx.beginPath(),this.cache_ctx.moveTo(1190,0),this.cache_ctx.lineTo(Pt,595),this.cache_ctx.moveTo(0,1190),this.cache_ctx.lineTo(595,Pt),this.cache_ctx.stroke();this.cache_ctx.fillStyle=Ft,this.cache_ctx.beginPath(),this.cache_ctx.arc(1487.5,297.5,19.9771*5,0,2*Math.PI),this.cache_ctx.closePath(),this.cache_ctx.fill(),this.cache_ctx.fillStyle=Bt,this.cache_ctx.beginPath(),this.cache_ctx.arc(297.5,1487.5,19.9771*5,0,2*Math.PI),this.cache_ctx.closePath(),this.cache_ctx.fill()}tick(t,e,i,n,s,o,c,r){if(o&&0==s){if(!this.has_selection())for(const i of this.disks)if(i.pointInside(t,e)){this.selected_disk=this.disks.indexOf(i);break}this.selected_disk>=0&&this.disks[this.selected_disk].update(i,n,r)}else this.selected_disk=-1;if(!this.has_selection())for(const i of this.rollers)i.update(t,e,s)}render(t){t.strokeStyle=Ft,t.lineWidth=15,t.lineCap="square",t.beginPath(),t.moveTo(-446.25,148.75),t.lineTo(-74.375,148.75),t.lineTo(-74.375,1636.25),t.lineTo(-446.25,1636.25),t.stroke(),t.strokeStyle=Bt,t.beginPath(),t.moveTo(2231.25,148.75),t.lineTo(1859.375,148.75),t.lineTo(1859.375,1636.25),t.lineTo(2231.25,1636.25),t.stroke(),this.rollers.forEach((e=>{e.render(t)})),this.disks.forEach((e=>{e.render(t)}))}render_static(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}has_selection(){return this.selected_disk>=0}}})}();
