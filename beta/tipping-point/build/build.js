!function(){"use strict";function t(){}const e=t=>t;function s(t){return t()}function i(){return Object.create(null)}function n(t){t.forEach(s)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e,s,i){return t[1]&&i?function(t,e){for(const s in e)t[s]=e[s];return t}(s.ctx.slice(),t[1](i(e))):s.ctx}const a="undefined"!=typeof window;let h=a?()=>window.performance.now():()=>Date.now(),l=a?t=>requestAnimationFrame(t):t;const d=new Set;function u(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&l(u)}function f(t,e){t.appendChild(e)}function m(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function _(t){const e=x("style");return function(t,e){f(t.head||t,e)}(m(t),e),e.sheet}function g(t,e,s){t.insertBefore(e,s||null)}function p(t){t.parentNode.removeChild(t)}function x(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function v(){return y(" ")}function w(){return y("")}function $(t,e,s){null==s?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function b(t,e,s,i){null===s?t.style.removeProperty(e):t.style.setProperty(e,s,i?"important":"")}const k=new Map;let E,P=0;function T(t,e,s,i,n,o,r,c=0){const a=16.666/i;let h="{\n";for(let t=0;t<=1;t+=a){const i=e+(s-e)*o(t);h+=100*t+`%{${r(i,1-i)}}\n`}const l=h+`100% {${r(s,1-s)}}\n}`,d=`__svelte_${function(t){let e=5381,s=t.length;for(;s--;)e=(e<<5)-e^t.charCodeAt(s);return e>>>0}(l)}_${c}`,u=m(t),{stylesheet:f,rules:g}=k.get(u)||function(t,e){const s={stylesheet:_(e),rules:{}};return k.set(t,s),s}(u,t);g[d]||(g[d]=!0,f.insertRule(`@keyframes ${d} ${l}`,f.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${d} ${i}ms linear ${n}ms 1 both`,P+=1,d}function I(t,e){const s=(t.style.animation||"").split(", "),i=s.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),n=s.length-i.length;n&&(t.style.animation=i.join(", "),P-=n,P||l((()=>{P||(k.forEach((t=>{const{stylesheet:e}=t;let s=e.cssRules.length;for(;s--;)e.deleteRule(s);t.rules={}})),k.clear())})))}function S(t){E=t}function L(){if(!E)throw new Error("Function called outside component initialization");return E}function M(t,e){const s=t.$$.callbacks[e.type];s&&s.slice().forEach((t=>t.call(this,e)))}const N=[],Y=[],C=[],A=[],K=Promise.resolve();let X=!1;function z(t){C.push(t)}const R=new Set;let O,Z=0;function F(){const t=E;do{for(;Z<N.length;){const t=N[Z];Z++,S(t),W(t.$$)}for(S(null),N.length=0,Z=0;Y.length;)Y.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];R.has(e)||(R.add(e),e())}C.length=0}while(N.length);for(;A.length;)A.pop()();X=!1,R.clear(),S(t)}function W(t){if(null!==t.fragment){t.update(),n(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}function B(t,e,s){t.dispatchEvent(function(t,e,s=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,s,!1,e),i}(`${e?"intro":"outro"}${s}`))}const U=new Set;let j;function D(t,e){t&&t.i&&(U.delete(t),t.i(e))}function q(t,e,s,i){if(t&&t.o){if(U.has(t))return;U.add(t),j.c.push((()=>{U.delete(t),i&&(s&&t.d(1),i())})),t.o(e)}}const G={duration:0};function H(s,i,r,c){let a=i(s,r),f=c?0:1,m=null,_=null,g=null;function p(){g&&I(s,g)}function x(t,e){const s=t.b-f;return e*=Math.abs(s),{a:f,b:t.b,d:s,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(i){const{delay:o=0,duration:r=300,easing:c=e,tick:y=t,css:v}=a||G,w={start:h()+o,b:i};i||(w.group=j,j.r+=1),m||_?_=w:(v&&(p(),g=T(s,f,i,r,o,c,v)),i&&y(0,1),m=x(w,r),z((()=>B(s,i,"start"))),function(t){let e;0===d.size&&l(u),new Promise((s=>{d.add(e={c:t,f:s})}))}((t=>{if(_&&t>_.start&&(m=x(_,r),_=null,B(s,m.b,"start"),v&&(p(),g=T(s,f,m.b,m.duration,0,c,a.css))),m)if(t>=m.end)y(f=m.b,1-f),B(s,m.b,"end"),_||(m.b?p():--m.group.r||n(m.group.c)),m=null;else if(t>=m.start){const e=t-m.start;f=m.a+m.d*c(e/m.duration),y(f,1-f)}return!(!m&&!_)})))}return{run(t){o(a)?(O||(O=Promise.resolve(),O.then((()=>{O=null}))),O).then((()=>{a=a(),y(t)})):y(t)},end(){p(),m=_=null}}}function V(t){t&&t.c()}function J(t,e,i,r){const{fragment:c,on_mount:a,on_destroy:h,after_update:l}=t.$$;c&&c.m(e,i),r||z((()=>{const e=a.map(s).filter(o);h?h.push(...e):n(e),t.$$.on_mount=[]})),l.forEach(z)}function Q(t,e){const s=t.$$;null!==s.fragment&&(n(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(N.push(t),X||(X=!0,K.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,s,o,r,c,a,h,l=[-1]){const d=E;S(e);const u=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(d?d.$$.context:[])),callbacks:i(),dirty:l,skip_bound:!1,root:s.target||d.$$.root};h&&h(u.root);let f=!1;if(u.ctx=o?o(e,s.props||{},((t,s,...i)=>{const n=i.length?i[0]:s;return u.ctx&&c(u.ctx[t],u.ctx[t]=n)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](n),f&&tt(e,t)),s})):[],u.update(),f=!0,n(u.before_update),u.fragment=!!r&&r(u.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);u.fragment&&u.fragment.l(t),t.forEach(p)}else u.fragment&&u.fragment.c();s.intro&&D(e.$$.fragment),J(e,s.target,s.anchor,s.customElement),F()}S(d)}class st{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(e),()=>{const t=s.indexOf(e);-1!==t&&s.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function it(t){let e,s,i,n;const o=t[1].default,r=function(t,e,s,i){if(t){const n=c(t,e,s,i);return t[0](n)}}(o,t,t[0],null);return{c(){e=x("div"),r&&r.c(),$(e,"class","svelte-1vayqny")},m(o,c){var a,h,l,d;g(o,e,c),r&&r.m(e,null),s=!0,i||(a=e,h="click",l=t[2],a.addEventListener(h,l,d),n=()=>a.removeEventListener(h,l,d),i=!0)},p(t,[e]){r&&r.p&&(!s||1&e)&&function(t,e,s,i,n,o){if(n){const r=c(e,s,i,o);t.p(r,n)}}(r,o,t,t[0],s?function(t,e,s,i){if(t[2]&&i){const n=t[2](i(s));if(void 0===e.dirty)return n;if("object"==typeof n){const t=[],s=Math.max(e.dirty.length,n.length);for(let i=0;i<s;i+=1)t[i]=e.dirty[i]|n[i];return t}return e.dirty|n}return e.dirty}(o,t[0],e,null):function(t){if(t.ctx.length>32){const e=[],s=t.ctx.length/32;for(let t=0;t<s;t++)e[t]=-1;return e}return-1}(t[0]),null)},i(t){s||(D(r,t),s=!0)},o(t){q(r,t),s=!1},d(t){t&&p(e),r&&r.d(t),i=!1,n()}}}function nt(t,e,s){let{$$slots:i={},$$scope:n}=e;return t.$$set=t=>{"$$scope"in t&&s(0,n=t.$$scope)},[n,i,function(e){M.call(this,t,e)}]}class ot extends st{constructor(t){super(),et(this,t,nt,it,r,{})}}function rt(t){const e=t-1;return e*e*e+1}function ct(t,{delay:e=0,duration:s=400,easing:i=rt,x:n=0,y:o=0,opacity:r=0}={}){const c=getComputedStyle(t),a=+c.opacity,h="none"===c.transform?"":c.transform,l=a*(1-r);return{delay:e,duration:s,easing:i,css:(t,e)=>`\n\t\t\ttransform: ${h} translate(${(1-t)*n}px, ${(1-t)*o}px);\n\t\t\topacity: ${a-l*e}`}}function at(e){let s,i,n;return{c(){s=x("div"),$(s,"class","svelte-1ihgyp3")},m(t,e){g(t,s,e),n=!0},p:t,i(t){n||(z((()=>{i||(i=H(s,ct,{x:200,duration:100},!0)),i.run(1)})),n=!0)},o(t){i||(i=H(s,ct,{x:200,duration:100},!1)),i.run(0),n=!1},d(t){t&&p(s),t&&i&&i.end()}}}class ht extends st{constructor(t){super(),et(this,t,null,at,r,{})}}function lt(t){let e;return{c(){e=y("â‰¡")},m(t,s){g(t,e,s)},d(t){t&&p(e)}}}function dt(t){let e,s;return e=new ht({}),{c(){V(e.$$.fragment)},m(t,i){J(e,t,i),s=!0},i(t){s||(D(e.$$.fragment,t),s=!0)},o(t){q(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function ut(t){let e,s,i,o,r,c,a,h;r=new ot({props:{$$slots:{default:[lt]},$$scope:{ctx:t}}}),r.$on("click",t[1]);let l=t[0]&&dt();return{c(){e=x("div"),s=x("span"),s.innerHTML='<p class="svelte-1uts12u">VRC Field Map</p>',i=v(),o=x("div"),V(r.$$.fragment),c=v(),l&&l.c(),a=w(),$(s,"class","svelte-1uts12u"),$(o,"class","hamburger-button svelte-1uts12u"),$(e,"class","svelte-1uts12u")},m(t,n){g(t,e,n),f(e,s),f(e,i),f(e,o),J(r,o,null),g(t,c,n),l&&l.m(t,n),g(t,a,n),h=!0},p(t,[e]){const s={};4&e&&(s.$$scope={dirty:e,ctx:t}),r.$set(s),t[0]?l?1&e&&D(l,1):(l=dt(),l.c(),D(l,1),l.m(a.parentNode,a)):l&&(j={r:0,c:[],p:j},q(l,1,1,(()=>{l=null})),j.r||n(j.c),j=j.p)},i(t){h||(D(r.$$.fragment,t),D(l),h=!0)},o(t){q(r.$$.fragment,t),q(l),h=!1},d(t){t&&p(e),Q(r),t&&p(c),l&&l.d(t),t&&p(a)}}}function ft(t,e,s){let i=!1;return[i,()=>s(0,i=!i)]}class mt extends st{constructor(t){super(),et(this,t,ft,ut,r,{})}}const _t=1785;var gt;async function pt(t){switch(t){case gt.TIPPING_POINT:return async function(){return new((await Promise.resolve().then((function(){return Nt}))).default)}();case gt.SPIN_UP:return async function(){return new((await Promise.resolve().then((function(){return At}))).default)}();default:throw new Error(`Unknown game type: ${t}`)}}function xt(e){let s,i,n;return{c(){s=x("canvas"),i=v(),n=x("canvas"),b(s,"z-index","-1"),$(s,"class","svelte-19dzfsr"),b(n,"z-index","0"),$(n,"class","svelte-19dzfsr")},m(t,o){g(t,s,o),e[2](s),g(t,i,o),g(t,n,o),e[3](n)},p:t,i:t,o:t,d(t){t&&p(s),e[2](null),t&&p(i),t&&p(n),e[3](null)}}}function yt(t,e,s){let i,n;const o=(r=Symbol.for("game"),L().$$.context.get(r));var r;let c,a,h=!0;var l;return window.onbeforeunload=function(){return!0},l=async()=>{const t=i.getContext("2d",{alpha:!1}),e=n.getContext("2d",{alpha:!0}),r=new((await Promise.resolve().then((function(){return Kt}))).default)(n),l=new((await Promise.resolve().then((function(){return Xt}))).default)(window.innerWidth,window.innerHeight-50),d=await pt(o),u=()=>{s(0,i.width=window.innerWidth,i),s(0,i.height=window.innerHeight-50,i),s(1,n.width=window.innerWidth,n),s(1,n.height=window.innerHeight-50,n),h=!0,f()};function f(){(l.changed()||h)&&(t.fillStyle="rgb(80, 80, 80)",t.fillRect(0,0,i.width,i.height),t.save(),l.translate(t),l.render(t),d.render_static(t),t.restore(),h=!1),e.clearRect(0,0,n.width,n.height),e.save(),l.translate(e),d.render(e),e.restore(),a=requestAnimationFrame(f)}function m(){const t=(r.mouseX-l.x)/l.zoom,e=(r.mouseY-l.y)/l.zoom;l.tick(r.dragX,r.dragY,r.zoom),d.tick(t,e,r.mouseButton,r.shiftKey,r.deltaScroll)}window.addEventListener("resize",u),c=setInterval(m,20),m(),u()},L().$$.on_mount.push(l),function(t){L().$$.on_destroy.push(t)}((()=>{clearInterval(c),cancelAnimationFrame(a)})),[i,n,function(t){Y[t?"unshift":"push"]((()=>{i=t,s(0,i)}))},function(t){Y[t?"unshift":"push"]((()=>{n=t,s(1,n)}))}]}!function(t){t[t.TIPPING_POINT=0]="TIPPING_POINT",t[t.SPIN_UP=1]="SPIN_UP"}(gt||(gt={}));class vt extends st{constructor(t){super(),et(this,t,yt,xt,r,{})}}function wt(e){let s;return{c(){s=x("p"),s.textContent="It looks like you are on a touchscreen only device like a phone or tablet.\r\n    As this field map doesn't work on touchscreen devices (yet), so try to instead use a computer.",$(s,"class","svelte-48ahf8")},m(t,e){g(t,s,e)},i:t,o:t,d(t){t&&p(s)}}}function $t(t){let e,s;return e=new vt({}),{c(){V(e.$$.fragment)},m(t,i){J(e,t,i),s=!0},i(t){s||(D(e.$$.fragment,t),s=!0)},o(t){q(e.$$.fragment,t),s=!1},d(t){Q(e,t)}}}function bt(e){let s,i,n,o,r,c;s=new mt({});const a=[$t,wt],h=[];return n=function(t,e){return t[0]?0:1}(e),o=h[n]=a[n](e),{c(){V(s.$$.fragment),i=v(),o.c(),r=w()},m(t,e){J(s,t,e),g(t,i,e),h[n].m(t,e),g(t,r,e),c=!0},p:t,i(t){c||(D(s.$$.fragment,t),D(o),c=!0)},o(t){q(s.$$.fragment,t),q(o),c=!1},d(t){Q(s,t),t&&p(i),h[n].d(t),t&&p(r)}}}function kt(t){return["onmousemove"in window]}new class extends st{constructor(t){super(),et(this,t,kt,bt,r,{})}}({target:document.body,context:new Map([[Symbol.for("game"),gt.TIPPING_POINT]])});class Et extends class{constructor(t,e,s){this.x=t,this.y=e,this.r=s}pointInside(t,e){throw new Error("Unimplimented")}update(t,e,s){if(this.x=t,this.y=e,s/=1.25,!this.rotate_step)throw new Error("Missing rotate_step!");this.r+=Math.floor(s/this.rotate_step)*this.rotate_step}render(t){throw new Error("Unimplimented")}}{pointInside(t,e){if(!this.diameter)throw new Error("Missing diameter!");return(t-this.x)**2+(e-this.y)**2<=(this.diameter/2*5+5)**2}}const Pt="rgb(255, 0, 0)",Tt="rgb(0, 0, 255)",It="rgb(255, 255, 255)";var St;!function(t){t[t.RED_ALLIANCE=0]="RED_ALLIANCE",t[t.BLUE_ALLIANCE=1]="BLUE_ALLIANCE",t[t.NEUTRAL=2]="NEUTRAL"}(St||(St={}));class Lt extends Et{constructor(t,e,s,i){super(t,e,s),this.diameter=33,this.rotate_step=90,this.variation=i}drawMogo(t){switch(this.variation){case 0:t.fillStyle=Pt;break;case 1:t.fillStyle=Tt;break;case 2:t.fillStyle="rgb(255, 255, 0)"}t.strokeStyle="rgb(50, 50, 50)",t.lineWidth=2.5,function(t,e,s,i,n,o){const r=2*Math.PI/i,c=Math.PI+n/360*(2*Math.PI);o.beginPath();for(let n=0;n<=i;n++){const i=n*r+c;o.lineTo(t+s*Math.cos(i),e+s*Math.sin(i))}o.fill(),o.stroke(),o.closePath()}(this.diameter/2*5,this.diameter/2*5,this.diameter/2*5,7,4*Math.PI,t)}render(t){switch(this.variation){case St.RED_ALLIANCE:Lt.red_cache||(Lt.red_cache=document.createElement("canvas").getContext("2d"),Lt.red_cache.canvas.width=5*this.diameter,Lt.red_cache.canvas.height=5*this.diameter,this.drawMogo(Lt.red_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(Lt.red_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore();break;case St.BLUE_ALLIANCE:Lt.blue_cache||(Lt.blue_cache=document.createElement("canvas").getContext("2d"),Lt.blue_cache.canvas.width=5*this.diameter,Lt.blue_cache.canvas.height=5*this.diameter,this.drawMogo(Lt.blue_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(Lt.blue_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore();break;case St.NEUTRAL:Lt.neutral_cache||(Lt.neutral_cache=document.createElement("canvas").getContext("2d"),Lt.neutral_cache.canvas.width=5*this.diameter,Lt.neutral_cache.canvas.height=5*this.diameter,this.drawMogo(Lt.neutral_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(Lt.neutral_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore()}}}class Mt extends Et{constructor(){super(...arguments),this.diameter=5.23875,this.rotate_step=1}render(t){t.strokeStyle="rgb(200, 100, 200)",t.lineWidth=13.4925,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5,0,2*Math.PI),t.stroke(),t.fill}}var Nt=Object.freeze({__proto__:null,default:class{constructor(){this.selection={arr:-1,index:-1},this.mogos=[new Lt(446.25,1636.25,90,0),new Lt(148.75,557.8125,0,0),new Lt(1338.75,148.75,270,1),new Lt(1636.25,1227.1875,180,1),new Lt(892.5,446.25,180,2),new Lt(892.5,892.5,180,2),new Lt(892.5,1338.75,0,2)],this.rings=[new Mt(50,50,0)]}drawPlatform(t,e,s,i){const n=673.1,o=254;t+=27.625000000000014,e-=40,i.strokeStyle=s,i.lineCap="butt",i.lineWidth=20,i.beginPath(),i.moveTo(t+o/9,e+84.1375),i.lineTo(t+o-o/9,e+84.1375),i.lineTo(t+o-o/9,e+588.9625),i.lineTo(t+o/9,e+588.9625),i.lineTo(t+o/9,e+84.1375-i.lineWidth/2),i.stroke(),i.fillStyle="rgba(255, 255, 255, 0.12)",i.fillRect(t,e,o,n),i.strokeStyle="rgb(0, 0, 0)",i.lineWidth=1.5,i.beginPath(),i.moveTo(t+o+1,e),i.lineTo(t+o+1,e+n),i.moveTo(t-1,e),i.lineTo(t-1,e+n),i.stroke()}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=_t,this.cache_ctx.canvas.height=_t,this.cache_ctx.strokeStyle=It,this.cache_ctx.lineWidth=5.5,this.cache_ctx.beginPath(),this.cache_ctx.moveTo(595,0),this.cache_ctx.lineTo(595,_t),this.cache_ctx.moveTo(887.5,0),this.cache_ctx.lineTo(887.5,_t),this.cache_ctx.moveTo(897.5,0),this.cache_ctx.lineTo(897.5,_t),this.cache_ctx.moveTo(1190,0),this.cache_ctx.lineTo(1190,_t),this.cache_ctx.moveTo(1190,297.5),this.cache_ctx.lineTo(1487.5,0),this.cache_ctx.moveTo(595,1487.5),this.cache_ctx.lineTo(297.5,_t),this.cache_ctx.stroke(),this.drawPlatform(0,595,Pt,this.cache_ctx),this.drawPlatform(1487.5,595,Tt,this.cache_ctx)}tick(t,e,s,i,n){if(i&&0==s){if(-1==this.selection.arr){for(const s of this.mogos)if(s.pointInside(t,e)){this.selection.arr=0,this.selection.index=this.mogos.indexOf(s);break}for(const s of this.rings)if(s.pointInside(t,e)){this.selection.arr=1,this.selection.index=this.rings.indexOf(s);break}}0==this.selection.arr&&this.mogos[this.selection.index].update(t,e,n),1==this.selection.arr&&this.rings[this.selection.index].update(t,e,n)}else this.selection.arr=-1,this.selection.index=-1}render(t){this.mogos.forEach((e=>e.render(t))),this.rings.forEach((e=>e.render(t)))}render_static(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}}});class Yt extends Et{constructor(){super(...arguments),this.diameter=14,this.rotate_step=1}render(t){t.fillStyle="rgb(232, 212, 33)",t.lineWidth=13.4925,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle="rgb(220, 200, 21)",t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5-12.7,0,2*Math.PI),t.closePath(),t.fill()}}class Ct{constructor(t,e,s,i=0){this.was_pressed=!1,this.x=t,this.y=e,this.vetical=s,this.state=i}render(t){t.strokeStyle="rgba(0, 0, 0, 0)",0!=this.state?(-1==this.state&&(t.fillStyle=Tt),1==this.state&&(t.fillStyle=Pt),t.fillRect(this.x,this.y,this.vetical?Ct.long_side:Ct.short_side,this.vetical?Ct.short_side:Ct.long_side)):this.vetical?(t.fillStyle=Tt,t.fillRect(this.x,this.y,Ct.long_side,Ct.short_side/2),t.fillStyle=Pt,t.fillRect(this.x,this.y+Ct.short_side/2,Ct.long_side,Ct.short_side/2)):(t.fillStyle=Tt,t.fillRect(this.x,this.y,Ct.short_side/2,Ct.long_side),t.fillStyle=Pt,t.fillRect(this.x+Ct.short_side/2,this.y,Ct.short_side/2,Ct.long_side))}update(t,e,s){this.pointInside(t,e)&&0==s&&!this.was_pressed?(this.state++,this.state>1&&(this.state=-1),console.log(this.state),this.was_pressed=!0):0!=s&&(this.was_pressed=!1)}pointInside(t,e){return t>this.x&&e>this.y&&t<this.x+(this.vetical?Ct.long_side:Ct.short_side)&&e<this.y+(this.vetical?Ct.short_side:Ct.long_side)}}Ct.long_side=124.46,Ct.short_side=30.48;var At=Object.freeze({__proto__:null,default:class{constructor(){this.selected_disk=-1,this.disks=[new Yt(50,50,0)],this.rollers=[new Ct(10,10,!1)]}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=_t,this.cache_ctx.canvas.height=_t,this.cache_ctx.strokeStyle=It,this.cache_ctx.lineWidth=5.5,this.cache_ctx.lineCap="square",this.cache_ctx.beginPath(),this.cache_ctx.moveTo(25,0),this.cache_ctx.lineTo(_t,1760),this.cache_ctx.moveTo(0,25),this.cache_ctx.lineTo(1760,_t),this.cache_ctx.stroke(),this.cache_ctx.strokeStyle=Pt,this.cache_ctx.lineWidth=12.7,this.cache_ctx.lineCap="round",this.cache_ctx.beginPath(),this.cache_ctx.moveTo(297.5,1190),this.cache_ctx.lineTo(595,1190),this.cache_ctx.lineTo(595,1487.5),this.cache_ctx.stroke(),this.cache_ctx.strokeStyle=Tt,this.cache_ctx.beginPath(),this.cache_ctx.moveTo(1190,297.5),this.cache_ctx.lineTo(1190,595),this.cache_ctx.lineTo(1487.5,595),this.cache_ctx.stroke()}tick(t,e,s,i,n){if(i&&0==s){if(-1==this.selected_disk)for(const s of this.disks)if(s.pointInside(t,e)){this.selected_disk=this.disks.indexOf(s);break}this.selected_disk>=0&&this.disks[this.selected_disk].update(t,e,n)}else this.selected_disk=-1;for(const i of this.rollers)i.update(t,e,s)}render(t){this.disks.forEach((e=>{e.render(t)})),this.rollers.forEach((e=>{e.render(t)}))}render_static(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}}});var Kt=Object.freeze({__proto__:null,default:class{constructor(t){this._dragX=0,this._dragY=0,this._mouseButton=-1,this._zoom=1,this._deltaScroll=0,this._mouseX=0,this._mouseY=0,this._altKey=!1,this._ctrlKey=!1,this._shiftKey=!1,t.addEventListener("mousemove",(t=>this.mousemove(t))),t.addEventListener("mousedown",(t=>this.mousedown(t))),t.addEventListener("mouseup",(t=>this.mouseup(t))),t.addEventListener("wheel",(t=>this.wheel(t))),t.addEventListener("scroll",(t=>this.scroll(t))),window.addEventListener("keydown",(t=>this.keydown(t))),window.addEventListener("keyup",(t=>this.keyup(t)))}mousemove(t){(1==this._mouseButton||0==this._mouseButton&&this._altKey)&&(this._dragX+=t.movementX,this._dragY+=t.movementY),this._mouseX=t.x,this._mouseY=t.y-50}mousedown(t){this._mouseButton=t.button}mouseup(t){this._mouseButton=-1}wheel(t){this._shiftKey||(this._zoom+=-.002*t.deltaY,this._zoom=Math.min(Math.max(.125,this._zoom),4)),this._deltaScroll+=t.deltaY}scroll(t){t.preventDefault()}keydown(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._shiftKey=t.shiftKey}keyup(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._shiftKey=t.shiftKey}get dragX(){const t=this._dragX;return this._dragX=0,t}get dragY(){const t=this._dragY;return this._dragY=0,t}get zoom(){const t=this._zoom;return this._zoom=1,t}get deltaScroll(){const t=this._deltaScroll;return this._deltaScroll=0,t}get mouseButton(){return this._mouseButton}get mouseX(){return this._mouseX}get mouseY(){return this._mouseY}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get shiftKey(){return this._shiftKey}}});var Xt=Object.freeze({__proto__:null,default:class{constructor(t,e){this.fieldZoom=.065,this.prevFieldZoom=this.fieldZoom,this.fieldX=t/2-_t*this.fieldZoom*3.05,this.fieldY=e/2-_t*this.fieldZoom*3.05,this.prevFieldX=this.fieldX,this.prevFieldY=this.fieldY}tick(t,e,s){this.fieldX+=t,this.fieldY+=e,this.fieldX=Math.floor(this.fieldX),this.fieldY=Math.floor(this.fieldY),this.fieldZoom*=s,this.fieldZoom=Math.min(Math.max(.4,this.fieldZoom),1.5)}translate(t){t.translate(this.fieldX,this.fieldY),t.scale(this.fieldZoom,this.fieldZoom)}render(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}changed(){const t=this.fieldX!=this.prevFieldX||this.fieldY!=this.prevFieldY||this.fieldZoom!=this.prevFieldZoom;return this.prevFieldX=this.fieldX,this.prevFieldY=this.fieldY,this.prevFieldZoom=this.fieldZoom,t}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=_t,this.cache_ctx.canvas.height=_t,this.cache_ctx.fillStyle="rgb(159, 159, 159)",this.cache_ctx.fillRect(0,0,_t,_t),this.cache_ctx.beginPath();for(let t=0;t<6;t++)this.cache_ctx.moveTo(297.5*(t+1),0),this.cache_ctx.lineTo(297.5*(t+1),_t);for(let t=0;t<6;t++)this.cache_ctx.moveTo(0,297.5*(t+1)),this.cache_ctx.lineTo(_t,297.5*(t+1));this.cache_ctx.strokeStyle="rgba(100, 100, 100, 0.2)",this.cache_ctx.lineWidth=5,this.cache_ctx.stroke()}get zoom(){return this.fieldZoom}get x(){return this.fieldX}get y(){return this.fieldY}}})}();
