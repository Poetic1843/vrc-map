!function(){"use strict";function t(){}const e=t=>t;function i(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(i)}function c(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e,i,n){return t[1]&&n?function(t,e){for(const i in e)t[i]=e[i];return t}(i.ctx.slice(),t[1](n(e))):i.ctx}const h="undefined"!=typeof window;let a=h?()=>window.performance.now():()=>Date.now(),l=h?t=>requestAnimationFrame(t):t;const d=new Set;function u(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&l(u)}function f(t,e){t.appendChild(e)}function _(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function m(t){const e=w("style");return function(t,e){f(t.head||t,e)}(_(t),e),e.sheet}function g(t,e,i){t.insertBefore(e,i||null)}function x(t){t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function y(){return p(" ")}function v(){return p("")}function $(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function b(t,e,i,n){null===i?t.style.removeProperty(e):t.style.setProperty(e,i,n?"important":"")}const T=new Map;let k,P=0;function E(t,e,i,n,s,c,o,r=0){const h=16.666/n;let a="{\n";for(let t=0;t<=1;t+=h){const n=e+(i-e)*c(t);a+=100*t+`%{${o(n,1-n)}}\n`}const l=a+`100% {${o(i,1-i)}}\n}`,d=`__svelte_${function(t){let e=5381,i=t.length;for(;i--;)e=(e<<5)-e^t.charCodeAt(i);return e>>>0}(l)}_${r}`,u=_(t),{stylesheet:f,rules:g}=T.get(u)||function(t,e){const i={stylesheet:m(e),rules:{}};return T.set(t,i),i}(u,t);g[d]||(g[d]=!0,f.insertRule(`@keyframes ${d} ${l}`,f.cssRules.length));const x=t.style.animation||"";return t.style.animation=`${x?`${x}, `:""}${d} ${n}ms linear ${s}ms 1 both`,P+=1,d}function I(t,e){const i=(t.style.animation||"").split(", "),n=i.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=i.length-n.length;s&&(t.style.animation=n.join(", "),P-=s,P||l((()=>{P||(T.forEach((t=>{const{stylesheet:e}=t;let i=e.cssRules.length;for(;i--;)e.deleteRule(i);t.rules={}})),T.clear())})))}function S(t){k=t}function M(){if(!k)throw new Error("Function called outside component initialization");return k}function z(t,e){const i=t.$$.callbacks[e.type];i&&i.slice().forEach((t=>t.call(this,e)))}const L=[],C=[],N=[],Y=[],K=Promise.resolve();let A=!1;function X(t){N.push(t)}const R=new Set;let O,W=0;function Z(){const t=k;do{for(;W<L.length;){const t=L[W];W++,S(t),F(t.$$)}for(S(null),L.length=0,W=0;C.length;)C.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];R.has(e)||(R.add(e),e())}N.length=0}while(L.length);for(;Y.length;)Y.pop()();A=!1,R.clear(),S(t)}function F(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}function B(t,e,i){t.dispatchEvent(function(t,e,i=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,i,!1,e),n}(`${e?"intro":"outro"}${i}`))}const U=new Set;let j;function q(t,e){t&&t.i&&(U.delete(t),t.i(e))}function D(t,e,i,n){if(t&&t.o){if(U.has(t))return;U.add(t),j.c.push((()=>{U.delete(t),n&&(i&&t.d(1),n())})),t.o(e)}}const G={duration:0};function H(i,n,o,r){let h=n(i,o),f=r?0:1,_=null,m=null,g=null;function x(){g&&I(i,g)}function w(t,e){const i=t.b-f;return e*=Math.abs(i),{a:f,b:t.b,d:i,duration:e,start:t.start,end:t.start+e,group:t.group}}function p(n){const{delay:c=0,duration:o=300,easing:r=e,tick:p=t,css:y}=h||G,v={start:a()+c,b:n};n||(v.group=j,j.r+=1),_||m?m=v:(y&&(x(),g=E(i,f,n,o,c,r,y)),n&&p(0,1),_=w(v,o),X((()=>B(i,n,"start"))),function(t){let e;0===d.size&&l(u),new Promise((i=>{d.add(e={c:t,f:i})}))}((t=>{if(m&&t>m.start&&(_=w(m,o),m=null,B(i,_.b,"start"),y&&(x(),g=E(i,f,_.b,_.duration,0,r,h.css))),_)if(t>=_.end)p(f=_.b,1-f),B(i,_.b,"end"),m||(_.b?x():--_.group.r||s(_.group.c)),_=null;else if(t>=_.start){const e=t-_.start;f=_.a+_.d*r(e/_.duration),p(f,1-f)}return!(!_&&!m)})))}return{run(t){c(h)?(O||(O=Promise.resolve(),O.then((()=>{O=null}))),O).then((()=>{h=h(),p(t)})):p(t)},end(){x(),_=m=null}}}function V(t){t&&t.c()}function J(t,e,n,o){const{fragment:r,on_mount:h,on_destroy:a,after_update:l}=t.$$;r&&r.m(e,n),o||X((()=>{const e=h.map(i).filter(c);a?a.push(...e):s(e),t.$$.on_mount=[]})),l.forEach(X)}function Q(t,e){const i=t.$$;null!==i.fragment&&(s(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(L.push(t),A||(A=!0,K.then(Z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,i,c,o,r,h,a,l=[-1]){const d=k;S(e);const u=e.$$={fragment:null,ctx:null,props:h,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(d?d.$$.context:[])),callbacks:n(),dirty:l,skip_bound:!1,root:i.target||d.$$.root};a&&a(u.root);let f=!1;if(u.ctx=c?c(e,i.props||{},((t,i,...n)=>{const s=n.length?n[0]:i;return u.ctx&&r(u.ctx[t],u.ctx[t]=s)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](s),f&&tt(e,t)),i})):[],u.update(),f=!0,s(u.before_update),u.fragment=!!o&&o(u.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);u.fragment&&u.fragment.l(t),t.forEach(x)}else u.fragment&&u.fragment.c();i.intro&&q(e.$$.fragment),J(e,i.target,i.anchor,i.customElement),Z()}S(d)}class it{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function nt(t){let e,i,n,s;const c=t[1].default,o=function(t,e,i,n){if(t){const s=r(t,e,i,n);return t[0](s)}}(c,t,t[0],null);return{c(){e=w("div"),o&&o.c(),$(e,"class","svelte-1vayqny")},m(c,r){var h,a,l,d;g(c,e,r),o&&o.m(e,null),i=!0,n||(h=e,a="click",l=t[2],h.addEventListener(a,l,d),s=()=>h.removeEventListener(a,l,d),n=!0)},p(t,[e]){o&&o.p&&(!i||1&e)&&function(t,e,i,n,s,c){if(s){const o=r(e,i,n,c);t.p(o,s)}}(o,c,t,t[0],i?function(t,e,i,n){if(t[2]&&n){const s=t[2](n(i));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],i=Math.max(e.dirty.length,s.length);for(let n=0;n<i;n+=1)t[n]=e.dirty[n]|s[n];return t}return e.dirty|s}return e.dirty}(c,t[0],e,null):function(t){if(t.ctx.length>32){const e=[],i=t.ctx.length/32;for(let t=0;t<i;t++)e[t]=-1;return e}return-1}(t[0]),null)},i(t){i||(q(o,t),i=!0)},o(t){D(o,t),i=!1},d(t){t&&x(e),o&&o.d(t),n=!1,s()}}}function st(t,e,i){let{$$slots:n={},$$scope:s}=e;return t.$$set=t=>{"$$scope"in t&&i(0,s=t.$$scope)},[s,n,function(e){z.call(this,t,e)}]}class ct extends it{constructor(t){super(),et(this,t,st,nt,o,{})}}function ot(t){const e=t-1;return e*e*e+1}function rt(t,{delay:e=0,duration:i=400,easing:n=ot,x:s=0,y:c=0,opacity:o=0}={}){const r=getComputedStyle(t),h=+r.opacity,a="none"===r.transform?"":r.transform,l=h*(1-o);return{delay:e,duration:i,easing:n,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*s}px, ${(1-t)*c}px);\n\t\t\topacity: ${h-l*e}`}}function ht(e){let i,n,s;return{c(){i=w("div"),$(i,"class","svelte-1ihgyp3")},m(t,e){g(t,i,e),s=!0},p:t,i(t){s||(X((()=>{n||(n=H(i,rt,{x:200,duration:100},!0)),n.run(1)})),s=!0)},o(t){n||(n=H(i,rt,{x:200,duration:100},!1)),n.run(0),s=!1},d(t){t&&x(i),t&&n&&n.end()}}}class at extends it{constructor(t){super(),et(this,t,null,ht,o,{})}}function lt(t){let e;return{c(){e=p("â‰¡")},m(t,i){g(t,e,i)},d(t){t&&x(e)}}}function dt(t){let e,i;return e=new at({}),{c(){V(e.$$.fragment)},m(t,n){J(e,t,n),i=!0},i(t){i||(q(e.$$.fragment,t),i=!0)},o(t){D(e.$$.fragment,t),i=!1},d(t){Q(e,t)}}}function ut(t){let e,i,n,c,o,r,h,a;o=new ct({props:{$$slots:{default:[lt]},$$scope:{ctx:t}}}),o.$on("click",t[1]);let l=t[0]&&dt();return{c(){e=w("div"),i=w("span"),i.innerHTML='<p class="svelte-1uts12u">VRC Field Map</p>',n=y(),c=w("div"),V(o.$$.fragment),r=y(),l&&l.c(),h=v(),$(i,"class","svelte-1uts12u"),$(c,"class","hamburger-button svelte-1uts12u"),$(e,"class","svelte-1uts12u")},m(t,s){g(t,e,s),f(e,i),f(e,n),f(e,c),J(o,c,null),g(t,r,s),l&&l.m(t,s),g(t,h,s),a=!0},p(t,[e]){const i={};4&e&&(i.$$scope={dirty:e,ctx:t}),o.$set(i),t[0]?l?1&e&&q(l,1):(l=dt(),l.c(),q(l,1),l.m(h.parentNode,h)):l&&(j={r:0,c:[],p:j},D(l,1,1,(()=>{l=null})),j.r||s(j.c),j=j.p)},i(t){a||(q(o.$$.fragment,t),q(l),a=!0)},o(t){D(o.$$.fragment,t),D(l),a=!1},d(t){t&&x(e),Q(o),t&&x(r),l&&l.d(t),t&&x(h)}}}function ft(t,e,i){let n=!1;return[n,()=>i(0,n=!n)]}class _t extends it{constructor(t){super(),et(this,t,ft,ut,o,{})}}const mt=1785;var gt;async function xt(t){switch(t){case gt.TIPPING_POINT:return async function(){return new((await Promise.resolve().then((function(){return Lt}))).default)}();case gt.SPIN_UP:return async function(){return new((await Promise.resolve().then((function(){return Yt}))).default)}();default:throw new Error(`Unknown game type: ${t}`)}}function wt(e){let i,n,s;return{c(){i=w("canvas"),n=y(),s=w("canvas"),b(i,"z-index","-1"),$(i,"class","svelte-19dzfsr"),b(s,"z-index","0"),$(s,"class","svelte-19dzfsr")},m(t,c){g(t,i,c),e[2](i),g(t,n,c),g(t,s,c),e[3](s)},p:t,i:t,o:t,d(t){t&&x(i),e[2](null),t&&x(n),t&&x(s),e[3](null)}}}function pt(t,e,i){let n,s;const c=(o=Symbol.for("game"),M().$$.context.get(o));var o;let r,h,a=!0;var l;return window.onbeforeunload=function(){return!0},l=async()=>{const t=n.getContext("2d",{alpha:!1}),e=s.getContext("2d",{alpha:!0}),o=new((await Promise.resolve().then((function(){return Kt}))).default)(s),l=new((await Promise.resolve().then((function(){return At}))).default)(window.innerWidth,window.innerHeight-50),d=await xt(c),u=()=>{i(0,n.width=window.innerWidth,n),i(0,n.height=window.innerHeight-50,n),i(1,s.width=window.innerWidth,s),i(1,s.height=window.innerHeight-50,s),a=!0,f()};function f(){(l.changed()||a)&&(t.fillStyle="rgb(80, 80, 80)",t.fillRect(0,0,n.width,n.height),t.save(),l.translate(t),l.render(t),d.render_static(t),t.restore(),a=!1),e.clearRect(0,0,s.width,s.height),e.save(),l.translate(e),d.render(e),e.restore(),h=requestAnimationFrame(f)}function _(){const t=(o.mouseX-l.x)/l.zoom,e=(o.mouseY-l.y)/l.zoom;l.tick(o.dragX,o.dragY,o.zoom),o.altKey||d.tick(t,e,o.mouseButton,o.shiftKey,o.deltaScroll)}window.addEventListener("resize",u),r=setInterval(_,20),_(),u()},M().$$.on_mount.push(l),function(t){M().$$.on_destroy.push(t)}((()=>{clearInterval(r),cancelAnimationFrame(h)})),[n,s,function(t){C[t?"unshift":"push"]((()=>{n=t,i(0,n)}))},function(t){C[t?"unshift":"push"]((()=>{s=t,i(1,s)}))}]}!function(t){t[t.TIPPING_POINT=0]="TIPPING_POINT",t[t.SPIN_UP=1]="SPIN_UP"}(gt||(gt={}));class yt extends it{constructor(t){super(),et(this,t,pt,wt,o,{})}}function vt(e){let i;return{c(){i=w("p"),i.textContent="It looks like you are on a touchscreen only device like a phone or tablet.\r\n    As this field map doesn't work on touchscreen devices (yet), so try to instead use a computer.",$(i,"class","svelte-48ahf8")},m(t,e){g(t,i,e)},i:t,o:t,d(t){t&&x(i)}}}function $t(t){let e,i;return e=new yt({}),{c(){V(e.$$.fragment)},m(t,n){J(e,t,n),i=!0},i(t){i||(q(e.$$.fragment,t),i=!0)},o(t){D(e.$$.fragment,t),i=!1},d(t){Q(e,t)}}}function bt(e){let i,n,s,c,o,r;i=new _t({});const h=[$t,vt],a=[];return s=function(t,e){return t[0]?0:1}(e),c=a[s]=h[s](e),{c(){V(i.$$.fragment),n=y(),c.c(),o=v()},m(t,e){J(i,t,e),g(t,n,e),a[s].m(t,e),g(t,o,e),r=!0},p:t,i(t){r||(q(i.$$.fragment,t),q(c),r=!0)},o(t){D(i.$$.fragment,t),D(c),r=!1},d(t){Q(i,t),t&&x(n),a[s].d(t),t&&x(o)}}}function Tt(t){return["onmousemove"in window]}new class extends it{constructor(t){super(),et(this,t,Tt,bt,o,{})}}({target:document.body,context:new Map([[Symbol.for("game"),gt.TIPPING_POINT]])});class kt extends class{constructor(t,e,i){this.x=t,this.y=e,this.r=i}pointInside(t,e){throw new Error("Unimplimented")}update(t,e,i){if(this.x=t,this.y=e,i/=1.25,!this.rotate_step)throw new Error("Missing rotate_step!");this.r+=Math.floor(i/this.rotate_step)*this.rotate_step}render(t){throw new Error("Unimplimented")}}{pointInside(t,e){if(!this.diameter)throw new Error("Missing diameter!");return(t-this.x)**2+(e-this.y)**2<=(this.diameter/2*5+5)**2}}const Pt="rgb(255, 0, 0)",Et="rgb(0, 0, 255)",It="rgb(255, 255, 255)";var St;!function(t){t[t.RED_ALLIANCE=0]="RED_ALLIANCE",t[t.BLUE_ALLIANCE=1]="BLUE_ALLIANCE",t[t.NEUTRAL=2]="NEUTRAL"}(St||(St={}));class Mt extends kt{constructor(t,e,i,n){super(t,e,i),this.diameter=33,this.rotate_step=90,this.variation=n}drawMogo(t){switch(this.variation){case 0:t.fillStyle=Pt;break;case 1:t.fillStyle=Et;break;case 2:t.fillStyle="rgb(255, 255, 0)"}t.strokeStyle="rgb(50, 50, 50)",t.lineWidth=2.5,function(t,e,i,n,s,c){const o=2*Math.PI/n,r=Math.PI+s/360*(2*Math.PI);c.beginPath();for(let s=0;s<=n;s++){const n=s*o+r;c.lineTo(t+i*Math.cos(n),e+i*Math.sin(n))}c.fill(),c.stroke(),c.closePath()}(this.diameter/2*5,this.diameter/2*5,this.diameter/2*5,7,4*Math.PI,t)}render(t){switch(this.variation){case St.RED_ALLIANCE:Mt.red_cache||(Mt.red_cache=document.createElement("canvas").getContext("2d"),Mt.red_cache.canvas.width=5*this.diameter,Mt.red_cache.canvas.height=5*this.diameter,this.drawMogo(Mt.red_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(Mt.red_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore();break;case St.BLUE_ALLIANCE:Mt.blue_cache||(Mt.blue_cache=document.createElement("canvas").getContext("2d"),Mt.blue_cache.canvas.width=5*this.diameter,Mt.blue_cache.canvas.height=5*this.diameter,this.drawMogo(Mt.blue_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(Mt.blue_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore();break;case St.NEUTRAL:Mt.neutral_cache||(Mt.neutral_cache=document.createElement("canvas").getContext("2d"),Mt.neutral_cache.canvas.width=5*this.diameter,Mt.neutral_cache.canvas.height=5*this.diameter,this.drawMogo(Mt.neutral_cache)),t.save(),t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(Mt.neutral_cache.canvas,-this.diameter/2*5,-this.diameter/2*5),t.restore()}}}class zt extends kt{constructor(){super(...arguments),this.diameter=5.23875,this.rotate_step=1}render(t){t.strokeStyle="rgb(200, 100, 200)",t.lineWidth=13.4925,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5,0,2*Math.PI),t.stroke(),t.fill}}var Lt=Object.freeze({__proto__:null,default:class{constructor(){this.selection={arr:-1,index:-1},this.mogos=[new Mt(446.25,1636.25,90,0),new Mt(148.75,557.8125,0,0),new Mt(1338.75,148.75,270,1),new Mt(1636.25,1227.1875,180,1),new Mt(892.5,446.25,180,2),new Mt(892.5,892.5,180,2),new Mt(892.5,1338.75,0,2)],this.rings=[new zt(50,50,0)]}drawPlatform(t,e,i,n){const s=673.1,c=254;t+=27.625000000000014,e-=40,n.strokeStyle=i,n.lineCap="butt",n.lineWidth=20,n.beginPath(),n.moveTo(t+c/9,e+84.1375),n.lineTo(t+c-c/9,e+84.1375),n.lineTo(t+c-c/9,e+588.9625),n.lineTo(t+c/9,e+588.9625),n.lineTo(t+c/9,e+84.1375-n.lineWidth/2),n.stroke(),n.fillStyle="rgba(255, 255, 255, 0.12)",n.fillRect(t,e,c,s),n.strokeStyle="rgb(0, 0, 0)",n.lineWidth=1.5,n.beginPath(),n.moveTo(t+c+1,e),n.lineTo(t+c+1,e+s),n.moveTo(t-1,e),n.lineTo(t-1,e+s),n.stroke()}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=mt,this.cache_ctx.canvas.height=mt,this.cache_ctx.strokeStyle=It,this.cache_ctx.lineWidth=5.5,this.cache_ctx.beginPath(),this.cache_ctx.moveTo(595,0),this.cache_ctx.lineTo(595,mt),this.cache_ctx.moveTo(887.5,0),this.cache_ctx.lineTo(887.5,mt),this.cache_ctx.moveTo(897.5,0),this.cache_ctx.lineTo(897.5,mt),this.cache_ctx.moveTo(1190,0),this.cache_ctx.lineTo(1190,mt),this.cache_ctx.moveTo(1190,297.5),this.cache_ctx.lineTo(1487.5,0),this.cache_ctx.moveTo(595,1487.5),this.cache_ctx.lineTo(297.5,mt),this.cache_ctx.stroke(),this.drawPlatform(0,595,Pt,this.cache_ctx),this.drawPlatform(1487.5,595,Et,this.cache_ctx)}tick(t,e,i,n,s){if(n&&0==i){if(-1==this.selection.arr){for(const i of this.mogos)if(i.pointInside(t,e)){this.selection.arr=0,this.selection.index=this.mogos.indexOf(i);break}for(const i of this.rings)if(i.pointInside(t,e)){this.selection.arr=1,this.selection.index=this.rings.indexOf(i);break}}0==this.selection.arr&&this.mogos[this.selection.index].update(t,e,s),1==this.selection.arr&&this.rings[this.selection.index].update(t,e,s)}else this.selection.arr=-1,this.selection.index=-1}render(t){this.mogos.forEach((e=>e.render(t))),this.rings.forEach((e=>e.render(t)))}render_static(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}}});class Ct extends kt{constructor(t,e){super(t,e,0),this.diameter=14,this.rotate_step=1}render(t){t.fillStyle="rgb(232, 212, 33)",t.lineWidth=13.4925,t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle="rgb(220, 200, 21)",t.beginPath(),t.arc(this.x,this.y,this.diameter/2*5-12.7,0,2*Math.PI),t.closePath(),t.fill()}}class Nt{constructor(t,e,i,n=0){this.was_pressed=!1,this.x=t,this.y=e,this.horrizontal=i,this.state=n}render(t){t.strokeStyle="rgba(0, 0, 0, 0)",0!=this.state?(-1==this.state&&(t.fillStyle=Et),1==this.state&&(t.fillStyle=Pt),t.fillRect(this.x,this.y,this.horrizontal?Nt.long_side:Nt.short_side,this.horrizontal?Nt.short_side:Nt.long_side)):this.horrizontal?(t.fillStyle=Et,t.fillRect(this.x,this.y,Nt.long_side,Nt.short_side/2),t.fillStyle=Pt,t.fillRect(this.x,this.y+Nt.short_side/2,Nt.long_side,Nt.short_side/2)):(t.fillStyle=Et,t.fillRect(this.x,this.y,Nt.short_side/2,Nt.long_side),t.fillStyle=Pt,t.fillRect(this.x+Nt.short_side/2,this.y,Nt.short_side/2,Nt.long_side))}update(t,e,i){this.pointInside(t,e)&&0==i&&!this.was_pressed?(this.state++,this.state>1&&(this.state=-1),console.log(this.state),this.was_pressed=!0):0!=i&&(this.was_pressed=!1)}pointInside(t,e){return t>this.x&&e>this.y&&t<this.x+(this.horrizontal?Nt.long_side:Nt.short_side)&&e<this.y+(this.horrizontal?Nt.short_side:Nt.long_side)}}Nt.long_side=124.46,Nt.short_side=30.48;var Yt=Object.freeze({__proto__:null,default:class{constructor(){this.selected_disk=-1,this.disks=[new Ct(148.75,148.75),new Ct(297.5,297.5),new Ct(446.25,441.25),new Ct(446.25,436.25),new Ct(446.25,431.25),new Ct(595,595),new Ct(743.75,743.75),new Ct(1041.25,1041.25),new Ct(1190,1190),new Ct(1338.75,1333.75),new Ct(1338.75,1328.75),new Ct(1338.75,1323.75),new Ct(1487.5,1487.5),new Ct(1636.25,1636.25),new Ct(743.75,446.25),new Ct(892.5,595),new Ct(1041.25,743.75),new Ct(1338.75,1036.25),new Ct(1338.75,1031.25),new Ct(1338.75,1026.25),new Ct(743.75,1041.25),new Ct(892.5,1190),new Ct(1041.25,1338.75),new Ct(446.25,738.75),new Ct(446.25,733.75),new Ct(446.25,728.75),new Ct(-148.75,624.75),new Ct(-148.75,714),new Ct(-148.75,1160.25),new Ct(-148.75,1071),new Ct(1933.75,624.75),new Ct(1933.75,714),new Ct(1933.75,1160.25),new Ct(1933.75,1071),new Ct(-297.5,624.75),new Ct(-297.5,714),new Ct(-297.5,803.25),new Ct(-297.5,892.5),new Ct(-297.5,981.75),new Ct(-297.5,1071),new Ct(-297.5,1160.25),new Ct(2082.5,624.75),new Ct(2082.5,714),new Ct(2082.5,803.25),new Ct(2082.5,892.5),new Ct(2082.5,981.75),new Ct(2082.5,1071),new Ct(2082.5,1160.25)],this.rollers=[new Nt(0,297.5,!1),new Nt(297.5,0,!0),new Nt(mt-Nt.short_side,1487.5-Nt.long_side,!1),new Nt(1487.5-Nt.long_side,mt-Nt.short_side,!0)]}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=mt,this.cache_ctx.canvas.height=mt,this.cache_ctx.strokeStyle=It,this.cache_ctx.lineWidth=5.5,this.cache_ctx.lineCap="square",this.cache_ctx.beginPath(),this.cache_ctx.moveTo(25,0),this.cache_ctx.lineTo(mt,1760),this.cache_ctx.moveTo(0,25),this.cache_ctx.lineTo(1760,mt),this.cache_ctx.moveTo(0,297.5),this.cache_ctx.lineTo(148.75,297.5),this.cache_ctx.moveTo(595,0),this.cache_ctx.lineTo(595,148.75),this.cache_ctx.moveTo(mt,1487.5),this.cache_ctx.lineTo(1636.25,1487.5),this.cache_ctx.moveTo(1190,mt),this.cache_ctx.lineTo(1190,1636.25),this.cache_ctx.moveTo(1190,0),this.cache_ctx.lineTo(1190,297.5),this.cache_ctx.moveTo(mt,595),this.cache_ctx.lineTo(1487.5,595),this.cache_ctx.moveTo(0,1190),this.cache_ctx.lineTo(297.5,1190),this.cache_ctx.moveTo(595,mt),this.cache_ctx.lineTo(595,1487.5),this.cache_ctx.stroke(),this.cache_ctx.strokeStyle=Pt,this.cache_ctx.lineWidth=12.7,this.cache_ctx.lineCap="round",this.cache_ctx.beginPath(),this.cache_ctx.moveTo(297.5,1190),this.cache_ctx.lineTo(595,1190),this.cache_ctx.lineTo(595,1487.5),this.cache_ctx.stroke(),this.cache_ctx.strokeStyle=Et,this.cache_ctx.beginPath(),this.cache_ctx.moveTo(1190,297.5),this.cache_ctx.lineTo(1190,595),this.cache_ctx.lineTo(1487.5,595),this.cache_ctx.stroke(),this.cache_ctx.strokeStyle="rgb(200, 200, 200)",this.cache_ctx.lineWidth=25.4,this.cache_ctx.lineCap="square",this.cache_ctx.beginPath(),this.cache_ctx.moveTo(1190,0),this.cache_ctx.lineTo(mt,595),this.cache_ctx.moveTo(0,1190),this.cache_ctx.lineTo(595,mt),this.cache_ctx.stroke();this.cache_ctx.fillStyle=Pt,this.cache_ctx.beginPath(),this.cache_ctx.arc(1487.5,297.5,19.9771*5,0,2*Math.PI),this.cache_ctx.closePath(),this.cache_ctx.fill(),this.cache_ctx.fillStyle=Et,this.cache_ctx.beginPath(),this.cache_ctx.arc(297.5,1487.5,19.9771*5,0,2*Math.PI),this.cache_ctx.closePath(),this.cache_ctx.fill()}tick(t,e,i,n,s){if(n&&0==i){if(-1==this.selected_disk)for(const i of this.disks)if(i.pointInside(t,e)){this.selected_disk=this.disks.indexOf(i);break}this.selected_disk>=0&&this.disks[this.selected_disk].update(t,e,s)}else this.selected_disk=-1;if(!n)for(const n of this.rollers)n.update(t,e,i)}render(t){t.strokeStyle=Pt,t.lineWidth=15,t.lineCap="square",t.beginPath(),t.moveTo(-446.25,148.75),t.lineTo(-74.375,148.75),t.lineTo(-74.375,1636.25),t.lineTo(-446.25,1636.25),t.stroke(),t.strokeStyle=Et,t.beginPath(),t.moveTo(2231.25,148.75),t.lineTo(1859.375,148.75),t.lineTo(1859.375,1636.25),t.lineTo(2231.25,1636.25),t.stroke(),this.rollers.forEach((e=>{e.render(t)})),this.disks.forEach((e=>{e.render(t)}))}render_static(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}}});var Kt=Object.freeze({__proto__:null,default:class{constructor(t){this._dragX=0,this._dragY=0,this._mouseButton=-1,this._zoom=1,this._deltaScroll=0,this._mouseX=0,this._mouseY=0,this._altKey=!1,this._ctrlKey=!1,this._shiftKey=!1,t.addEventListener("mousemove",(t=>this.mousemove(t))),t.addEventListener("mousedown",(t=>this.mousedown(t))),t.addEventListener("mouseup",(t=>this.mouseup(t))),t.addEventListener("wheel",(t=>this.wheel(t))),t.addEventListener("scroll",(t=>this.scroll(t))),window.addEventListener("keydown",(t=>this.keydown(t))),window.addEventListener("keyup",(t=>this.keyup(t)))}mousemove(t){(1==this._mouseButton||0==this._mouseButton&&this._altKey)&&(this._dragX+=t.movementX,this._dragY+=t.movementY),this._mouseX=t.x,this._mouseY=t.y-50}mousedown(t){this._mouseButton=t.button}mouseup(t){this._mouseButton=-1}wheel(t){this._shiftKey||(this._zoom+=-.002*t.deltaY,this._zoom=Math.min(Math.max(.125,this._zoom),4)),this._deltaScroll+=t.deltaY}scroll(t){t.preventDefault()}keydown(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._shiftKey=t.shiftKey}keyup(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._shiftKey=t.shiftKey}get dragX(){const t=this._dragX;return this._dragX=0,t}get dragY(){const t=this._dragY;return this._dragY=0,t}get zoom(){const t=this._zoom;return this._zoom=1,t}get deltaScroll(){const t=this._deltaScroll;return this._deltaScroll=0,t}get mouseButton(){return this._mouseButton}get mouseX(){return this._mouseX}get mouseY(){return this._mouseY}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get shiftKey(){return this._shiftKey}}});var At=Object.freeze({__proto__:null,default:class{constructor(t,e){this.fieldZoom=.065,this.prevFieldZoom=this.fieldZoom,this.fieldX=t/2-mt*this.fieldZoom*3.05,this.fieldY=e/2-mt*this.fieldZoom*3.05,this.prevFieldX=this.fieldX,this.prevFieldY=this.fieldY}tick(t,e,i){this.fieldX+=t,this.fieldY+=e,this.fieldX=Math.floor(this.fieldX),this.fieldY=Math.floor(this.fieldY),this.fieldZoom*=i,this.fieldZoom=Math.min(Math.max(.4,this.fieldZoom),1.5)}translate(t){t.translate(this.fieldX,this.fieldY),t.scale(this.fieldZoom,this.fieldZoom)}render(t){this.cache_ctx||this.cache(),t.drawImage(this.cache_ctx.canvas,0,0)}changed(){const t=this.fieldX!=this.prevFieldX||this.fieldY!=this.prevFieldY||this.fieldZoom!=this.prevFieldZoom;return this.prevFieldX=this.fieldX,this.prevFieldY=this.fieldY,this.prevFieldZoom=this.fieldZoom,t}cache(){this.cache_ctx=document.createElement("canvas").getContext("2d"),this.cache_ctx.canvas.width=mt,this.cache_ctx.canvas.height=mt,this.cache_ctx.fillStyle="rgb(159, 159, 159)",this.cache_ctx.fillRect(0,0,mt,mt),this.cache_ctx.beginPath();for(let t=0;t<6;t++)this.cache_ctx.moveTo(297.5*(t+1),0),this.cache_ctx.lineTo(297.5*(t+1),mt);for(let t=0;t<6;t++)this.cache_ctx.moveTo(0,297.5*(t+1)),this.cache_ctx.lineTo(mt,297.5*(t+1));this.cache_ctx.strokeStyle="rgba(100, 100, 100, 0.2)",this.cache_ctx.lineWidth=5,this.cache_ctx.stroke()}get zoom(){return this.fieldZoom}get x(){return this.fieldX}get y(){return this.fieldY}}})}();
